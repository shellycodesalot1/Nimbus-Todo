/*! For license information please see main.24acc48f.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case I:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case C:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var N=Array.isArray,M=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},B=[],F=-1;function q(e){return{current:e}}function H(e){0>F||(e.current=B[F],B[F]=null,F--)}function U(e,t){F++,B[F]=e.current,e.current=t}var z=q(null),$=q(null),j=q(null),G=q(null);function K(e,t){switch(U(j,t),U($,e),U(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(z),U(z,e)}function W(){H(z),H($),H(j)}function V(e){null!==e.memoizedState&&U(G,e);var t=z.current,n=id(t,e.type);t!==n&&(U($,e),U(z,n))}function Q(e){$.current===e&&(H(z),H($)),G.current===e&&(H(G),Vd._currentValue=L)}var Y=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/ge|0)|0},fe=Math.log,ge=Math.LN2;var me=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?o=ve(r):0!==(a&=s)?o=ve(a):n||0!==(n=s&~e)&&(o=ve(n)):0!==(s=r&~i)?o=ve(s):0!==a?o=ve(a):n||0!==(n=r&~e)&&(o=ve(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function xe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Re=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Re,Ne="__reactProps$"+Re,Me="__reactContainer$"+Re,De="__reactEvents$"+Re,Le="__reactListeners$"+Re,Be="__reactHandles$"+Re,Fe="__reactResources$"+Re,qe="__reactMarker$"+Re;function He(e){delete e[Oe],delete e[Ne],delete e[De],delete e[Le],delete e[Be]}function Ue(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Oe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Oe]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function je(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[qe]=!0}var Ke=new Set,We={};function Ve(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Ze,o)&&(Xe.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function gt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(N(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&It(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&It(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Nt=null;function Mt(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[Ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ne]||null;if(!o)throw Error(a(90));mt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Ot||null!==Nt)&&(Uc(),Ot&&(t=Ot,e=Nt,Nt=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ne]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Ft)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Nh){qt=!1}var Ut=null,zt=null,$t=null;function jt(){if($t)return $t;var e,t,n=zt,r=n.length,o="value"in Ut?Ut.value:Ut.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Vt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Qt,Yt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Vt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Vt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Vt(nn),on=Vt(h({},nn,{dataTransfer:0})),an=Vt(h({},en,{relatedTarget:0})),sn=Vt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Vt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Vt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var gn=Vt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Vt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Vt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Vt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Vt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Vt(h({},Xt,{newState:0,oldState:0})),Cn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var In=Ft&&"TextEvent"in window&&!Sn,Tn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),An=!1;function _n(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var xn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Nn(e,t,n,r){Ot?Nt?Nt.push(r):Nt=[r]:Ot=r,0<(t=ju(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Dn=null;function Ln(e){Lu(e,0)}function Bn(e){if(ht($e(e)))return e}function Fn(e,t){if("change"===e)return t}var qn=!1;if(Ft){var Hn;if(Ft){var Un="oninput"in document;if(!Un){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Un="function"===typeof zn.oninput}Hn=Un}else Hn=!1;qn=Hn&&(!document.documentMode||9<document.documentMode)}function $n(){Mn&&(Mn.detachEvent("onpropertychange",jn),Dn=Mn=null)}function jn(e){if("value"===e.propertyName&&Bn(Dn)){var t=[];Nn(t,Dn,e,Rt(e)),Lt(Ln,t)}}function Gn(e,t,n){"focusin"===e?($n(),Dn=n,(Mn=t).attachEvent("onpropertychange",jn)):"focusout"===e&&$n()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Dn)}function Wn(e,t){if("click"===e)return Bn(t)}function Vn(e,t){if("input"===e||"change"===e)return Bn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Y.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=ju(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),gr=hr("animationstart"),mr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),Ve(t,[e])}Cr.push("scrollEnd");var Sr=new WeakMap;function Ir(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],Er=0,Ar=0;function _r(){for(var e=Er,t=Ar=Er=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var o=Tr[t];Tr[t++]=null;var i=Tr[t];if(Tr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Or(n,o,i)}}function Pr(e,t,n,r){Tr[Er++]=e,Tr[Er++]=t,Tr[Er++]=n,Tr[Er++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function xr(e,t,n,r){return Pr(e,t,n,r),Nr(e)}function Rr(e,t){return Pr(e,null,null,t),Nr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-pe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Nr(e){if(50<Oc)throw Oc=0,Nc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Dr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)Br(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Lr(31,n,t,o)).elementType=A,e.lanes=i,e;case m:return Ur(n.children,o,i,t);case y:s=8,o|=24;break;case v:return(e=Lr(12,n,t,2|o)).elementType=v,e.lanes=i,e;case S:return(e=Lr(13,n,t,o)).elementType=S,e.lanes=i,e;case I:return(e=Lr(19,n,t,o)).elementType=I,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case C:s=10;break e;case w:s=9;break e;case k:s=11;break e;case T:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Ur(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function zr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jr=[],Gr=0,Kr=null,Wr=0,Vr=[],Qr=0,Yr=null,Jr=1,Xr="";function Zr(e,t){jr[Gr++]=Wr,jr[Gr++]=Kr,Kr=e,Wr=t}function eo(e,t,n){Vr[Qr++]=Jr,Vr[Qr++]=Xr,Vr[Qr++]=Yr,Yr=e;var r=Jr;e=Xr;var o=32-pe(r)-1;r&=~(1<<o),n+=1;var i=32-pe(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Jr=1<<32-pe(t)+o|n<<o|r,Xr=i+e}else Jr=1<<i|n<<o|r,Xr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===Kr;)Kr=jr[--Gr],jr[Gr]=null,Wr=jr[--Gr],jr[Gr]=null;for(;e===Yr;)Yr=Vr[--Qr],Vr[Qr]=null,Xr=Vr[--Qr],Vr[Qr]=null,Jr=Vr[--Qr],Vr[Qr]=null}var ro=null,oo=null,io=!1,ao=null,so=!1,lo=Error(a(519));function co(e){throw mo(Ir(Error(a(418,"")),e)),lo}function uo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Ne]=r,n){case"dialog":Bu("cancel",t),Bu("close",t);break;case"iframe":case"object":case"embed":Bu("load",t);break;case"video":case"audio":for(n=0;n<Mu.length;n++)Bu(Mu[n],t);break;case"source":Bu("error",t);break;case"img":case"image":case"link":Bu("error",t),Bu("load",t);break;case"details":Bu("toggle",t);break;case"input":Bu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Bu("invalid",t);break;case"textarea":Bu("invalid",t),Ct(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Bu("beforetoggle",t),Bu("toggle",t)),null!=r.onScroll&&Bu("scroll",t),null!=r.onScrollEnd&&Bu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||co(e)}function ho(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(so=!1);case 27:case 3:return void(so=!0);default:ro=ro.return}}function po(e){if(e!==ro)return!1;if(!io)return ho(e),io=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),ho(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,pd(e.type)?(e=vd,vd=null,oo=e):oo=n):oo=ro?yd(e.stateNode.nextSibling):null;return!0}function fo(){oo=ro=null,io=!1}function go(){var e=ao;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ao=null),e}function mo(e){null===ao?ao=[e]:ao.push(e)}var yo=q(null),vo=null,bo=null;function wo(e,t,n){U(yo,t._currentValue),t._currentValue=n}function Co(e){e._currentValue=yo.current,H(yo)}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ko(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),ko(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Io(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Qn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===G.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Vd):e=[Vd])}o=o.return}null!==e&&So(t,e,n,r),t.flags|=262144}function To(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Eo(e){vo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ao(e){return Po(vo,e)}function _o(e,t){return null===vo&&Eo(e),Po(e,t)}function Po(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(a(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var xo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ro=r.unstable_scheduleCallback,Oo=r.unstable_NormalPriority,No={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mo(){return{controller:new xo,data:new Map,refCount:0}}function Do(e){e.refCount--,0===e.refCount&&Ro(Oo,(function(){e.controller.abort()}))}var Lo=null,Bo=0,Fo=0,qo=null;function Ho(){if(0===--Bo&&null!==Lo){null!==qo&&(qo.status="fulfilled");var e=Lo;Lo=null,Fo=0,qo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Uo=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Lo){var n=Lo=[];Bo=0,Fo=Pu(),qo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bo++,t.then(Ho,Ho)}(0,t),null!==Uo&&Uo(e,t)};var zo=q(null);function $o(){var e=zo.current;return null!==e?e:rc.pooledCache}function jo(e,t){U(zo,null===t?zo.current:t.pool)}function Go(){var e=$o();return null===e?null:{parent:No._currentValue,pool:e}}var Ko=Error(a(460)),Wo=Error(a(474)),Vo=Error(a(542)),Qo={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Jo(){}function Xo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Jo,Jo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Jo,Jo);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Zo=t,Ko}}var Zo=null;function ei(){if(null===Zo)throw Error(a(459));var e=Zo;return Zo=null,e}function ti(e){if(e===Ko||e===Vo)throw Error(a(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Nr(e),Or(e,null,n),t}return Pr(e,r,t,n),Nr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function ui(){if(ci){if(null!==qo)throw qo}}function di(e,t,n,r){ci=!1;var o=e.updateQueue;ni=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(ic&p)===p:(r&p)===p){0!==p&&p===Fo&&(ci=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;p=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(y,d,p);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=m.payload)?g.call(y,d,p):g)||void 0===p)break e;d=h({},d,p);break e;case 2:ni=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=d}}function hi(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function pi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hi(n[e],t)}var fi=q(null),gi=q(0);function mi(e,t){U(gi,e=dc),U(fi,t),dc=e|t.baseLanes}function yi(){U(gi,dc),U(fi,fi.current)}function vi(){dc=gi.current,H(fi),H(gi)}var bi=0,wi=null,Ci=null,ki=null,Si=!1,Ii=!1,Ti=!1,Ei=0,Ai=0,_i=null,Pi=0;function xi(){throw Error(a(321))}function Ri(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Oi(e,t,n,r,o,i){return bi=i,wi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ka:Wa,Ti=!1,i=n(r,o),Ti=!1,Ii&&(i=Mi(t,n,r,o)),Ni(e),i}function Ni(e){M.H=Ga;var t=null!==Ci&&null!==Ci.next;if(bi=0,ki=Ci=wi=null,Si=!1,Ai=0,_i=null,t)throw Error(a(300));null===e||As||null!==(e=e.dependencies)&&To(e)&&(As=!0)}function Mi(e,t,n,r){wi=e;var o=0;do{if(Ii&&(_i=null),Ai=0,Ii=!1,25<=o)throw Error(a(301));if(o+=1,ki=Ci=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=Va,i=t(n,r)}while(Ii);return i}function Di(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Ui(t):t,e=e.useState()[0],(null!==Ci?Ci.memoizedState:null)!==e&&(wi.flags|=1024),t}function Li(){var e=0!==Ei;return Ei=0,e}function Bi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fi(e){if(Si){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Si=!1}bi=0,ki=Ci=wi=null,Ii=!1,Ai=Ei=0,_i=null}function qi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ki?wi.memoizedState=ki=e:ki=ki.next=e,ki}function Hi(){if(null===Ci){var e=wi.alternate;e=null!==e?e.memoizedState:null}else e=Ci.next;var t=null===ki?wi.memoizedState:ki.next;if(null!==t)ki=t,Ci=e;else{if(null===e){if(null===wi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Ci=e).memoizedState,baseState:Ci.baseState,baseQueue:Ci.baseQueue,queue:Ci.queue,next:null},null===ki?wi.memoizedState=ki=e:ki=ki.next=e}return ki}function Ui(e){var t=Ai;return Ai+=1,null===_i&&(_i=[]),e=Xo(_i,e,t),t=wi,null===(null===ki?t.memoizedState:ki.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ka:Wa),e}function zi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ui(e);if(e.$$typeof===C)return Ao(e)}throw Error(a(438,String(e)))}function $i(e){var t=null,n=wi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function ji(e,t){return"function"===typeof t?t(e):t}function Gi(e){return Ki(Hi(),Ci,e)}function Ki(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(bi&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fo&&(d=!0);else{if((bi&p)===p){u=u.next,p===Fo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,wi.lanes|=p,pc|=p}h=u.action,Ti&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=i):c=c.next=p,wi.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Qn(i,e.memoizedState)&&(As=!0,d&&null!==(n=qo)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wi(e){var t=Hi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Qn(i,t.memoizedState)||(As=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vi(e,t,n){var r=wi,o=Hi(),i=io;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((Ci||o).memoizedState,n);if(s&&(o.memoizedState=n,As=!0),o=o.queue,ya(2048,8,Ji.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==ki&&1&ki.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,o,n,t),null),null===rc)throw Error(a(349));i||0!==(124&bi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Xi(t)&&Zi(e)}function Ji(e,t,n){return n((function(){Xi(t)&&Zi(e)}))}function Xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zi(e){var t=Rr(e,2);null!==t&&Lc(t,e,2)}function ea(e){var t=qi();if("function"===typeof e){var n=e;if(e=n(),Ti){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,Ki(e,Ci,"function"===typeof r?r:ji)}function na(e,t,n,r,o){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ra(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ra(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=M.T,a={};M.T=a;try{var s=n(o,r),l=M.S;null!==l&&l(a,s),oa(e,t,s)}catch(c){aa(e,t,c)}finally{M.T=i}}else try{oa(e,t,i=n(o,r))}catch(u){aa(e,t,u)}}function oa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ia(e,t,n)}),(function(n){return aa(e,t,n)})):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(io){var n=rc.formState;if(null!==n){e:{var r=wi;if(io){if(oo){t:{for(var o=oo,i=so;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=yd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){oo=yd(o.nextSibling),r="F!"===o.data;break e}}co(r)}r=!1}r&&(t=n[0])}}return(n=qi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=qa.bind(null,wi,r),r.dispatch=n,r=ea(!1),i=Ua.bind(null,wi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=qi()).queue=o,n=na.bind(null,wi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return da(Hi(),Ci,e)}function da(e,t,n){if(t=Ki(e,t,la)[0],e=Gi(ji)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ui(t)}catch(a){if(a===Ko)throw Vo;throw a}else r=t;var o=(t=Hi()).queue,i=o.dispatch;return n!==t.memoizedState&&(wi.flags|=2048,fa(9,{destroy:void 0,resource:void 0},ha.bind(null,o,n),null)),[r,i,e]}function ha(e,t){e.action=t}function pa(e){var t=Hi(),n=Ci;if(null!==n)return da(t,n,e);Hi(),t=t.memoizedState;var r=(n=Hi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(){return Hi().memoizedState}function ma(e,t,n,r){var o=qi();r=void 0===r?null:r,wi.flags|=e,o.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var o=Hi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Ci&&null!==r&&Ri(r,Ci.memoizedState.deps)?o.memoizedState=fa(t,i,n,r):(wi.flags|=e,o.memoizedState=fa(1|t,i,n,r))}function va(e,t){ma(8390656,8,e,t)}function ba(e,t){ya(2048,8,e,t)}function wa(e,t){return ya(4,2,e,t)}function Ca(e,t){return ya(4,4,e,t)}function ka(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,4,ka.bind(null,t,e),n)}function Ia(){}function Ta(e,t){var n=Hi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ri(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=Hi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ri(t,r[1]))return r[0];if(r=e(),Ti){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Aa(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),wi.lanes|=e,pc|=e,n)}function _a(e,t,n,r){return Qn(n,t)?n:null!==fi.current?(e=Aa(e,n,r),Qn(e,t)||(As=!0),e):0===(42&bi)?(As=!0,e.memoizedState=n):(e=Dc(),wi.lanes|=e,pc|=e,t)}function Pa(e,t,n,r,o){var i=D.p;D.p=0!==i&&8>i?i:8;var a=M.T,s={};M.T=s,Ua(e,!1,t,n);try{var l=o(),c=M.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);Ha(e,t,u,Mc())}else Ha(e,t,r,Mc())}catch(d){Ha(e,t,{then:function(){},status:"rejected",reason:d},Mc())}finally{D.p=i,M.T=a}}function xa(){}function Ra(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=Oa(e).queue;Pa(e,o,t,L,null===n?xa:function(){return Na(e),n(r)})}function Oa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Na(e){Ha(e,Oa(e).next.queue,{},Mc())}function Ma(){return Ao(Vd)}function Da(){return Hi().memoizedState}function La(){return Hi().memoizedState}function Ba(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),r=ai(t,e=ii(n),n);return null!==r&&(Lc(r,t,n),si(r,t,n)),t={cache:Mo()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=Mc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},za(e)?$a(t,n):null!==(n=xr(e,t,n,r))&&(Lc(n,e,r),ja(n,t,r))}function qa(e,t,n){Ha(e,t,n,Mc())}function Ha(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(za(e))$a(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Qn(s,a))return Pr(e,t,o,0),null===rc&&_r(),!1}catch(l){}if(null!==(n=xr(e,t,o,r)))return Lc(n,e,r),ja(n,t,r),!0}return!1}function Ua(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=xr(e,n,r,2))&&Lc(t,e,2)}function za(e){var t=e.alternate;return e===wi||null!==t&&t===wi}function $a(e,t){Ii=Si=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ja(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Ga={readContext:Ao,use:zi,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useLayoutEffect:xi,useInsertionEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useSyncExternalStore:xi,useId:xi,useHostTransitionStatus:xi,useFormState:xi,useActionState:xi,useOptimistic:xi,useMemoCache:xi,useCacheRefresh:xi},Ka={readContext:Ao,use:zi,useCallback:function(e,t){return qi().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=qi();t=void 0===t?null:t;var r=e();if(Ti){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=qi();if(void 0!==n){var o=n(t);if(Ti){he(!0);try{n(t)}finally{he(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Fa.bind(null,wi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},qi().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=qa.bind(null,wi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ia,useDeferredValue:function(e,t){return Aa(qi(),e,t)},useTransition:function(){var e=ea(!1);return e=Pa.bind(null,wi,e.queue,!0,!1),qi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wi,o=qi();if(io){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&ic)||Qi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,va(Ji.bind(null,r,i,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=qi(),t=rc.identifierPrefix;if(io){var n=Xr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-pe(Jr)-1)).toString(32)+n),0<(n=Ei++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Pi++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ma,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=qi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ua.bind(null,wi,!0,n),n.dispatch=t,[e,t]},useMemoCache:$i,useCacheRefresh:function(){return qi().memoizedState=Ba.bind(null,wi)}},Wa={readContext:Ao,use:zi,useCallback:Ta,useContext:Ao,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:wa,useLayoutEffect:Ca,useMemo:Ea,useReducer:Gi,useRef:ga,useState:function(){return Gi(ji)},useDebugValue:Ia,useDeferredValue:function(e,t){return _a(Hi(),Ci.memoizedState,e,t)},useTransition:function(){var e=Gi(ji)[0],t=Hi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Vi,useId:Da,useHostTransitionStatus:Ma,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(Hi(),0,e,t)},useMemoCache:$i,useCacheRefresh:La},Va={readContext:Ao,use:zi,useCallback:Ta,useContext:Ao,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:wa,useLayoutEffect:Ca,useMemo:Ea,useReducer:Wi,useRef:ga,useState:function(){return Wi(ji)},useDebugValue:Ia,useDeferredValue:function(e,t){var n=Hi();return null===Ci?Aa(n,e,t):_a(n,Ci.memoizedState,e,t)},useTransition:function(){var e=Wi(ji)[0],t=Hi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Vi,useId:Da,useHostTransitionStatus:Ma,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=Hi();return null!==Ci?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$i,useCacheRefresh:La},Qa=null,Ya=0;function Ja(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),Xo(Qa,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Za(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===E&&es(i)===t.type)?(Xa(t=o(t,n.props),n),t.return=e,t):(Xa(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Xa(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$r(t,e.mode,n)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),n)}if(N(t)||x(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ja(t),n);if(t.$$typeof===C)return h(e,_o(e,t),n);Za(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===o?c(e,t,n,r):null;case g:return n.key===o?u(e,t,n,r):null;case E:return p(e,t,n=(o=n._init)(n._payload),r)}if(N(n)||x(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Ja(n),r);if(n.$$typeof===C)return p(e,t,_o(e,n),r);Za(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(N(r)||x(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,Ja(r),o);if(r.$$typeof===C)return y(e,t,n,_o(t,r),o);Za(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&es(b)===c.type){n(l,c.sibling),Xa(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((d=Ur(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xa(d=Hr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return s(l);case E:return v(l,c,u=(b=u._init)(u._payload),d)}if(N(u))return function(o,a,s,l){for(var c=null,u=null,d=a,f=a=0,g=null;null!==d&&f<s.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var m=p(o,d,s[f],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(o,d),a=i(m,a,f),null===u?c=m:u.sibling=m,u=m,d=g}if(f===s.length)return n(o,d),io&&Zr(o,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(o,s[f],l))&&(a=i(d,a,f),null===u?c=d:u.sibling=d,u=d);return io&&Zr(o,f),c}for(d=r(d);f<s.length;f++)null!==(g=y(d,o,f,s[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),a=i(g,a,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),io&&Zr(o,f),c}(l,c,u,d);if(x(u)){if("function"!==typeof(b=x(u)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,f=s,g=s=0,m=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(m=f,f=null):m=f.sibling;var b=p(o,f,v.value,c);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(o,f),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,f=m}if(v.done)return n(o,f),io&&Zr(o,g),u;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=h(o,v.value,c))&&(s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Zr(o,g),u}for(f=r(f);!v.done;g++,v=l.next())null!==(v=y(f,o,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(o,e)})),io&&Zr(o,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ja(u),d);if(u.$$typeof===C)return v(l,c,_o(l,u),d);Za(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=zr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{Ya=0;var o=v(e,t,n,r);return Qa=null,o}catch(a){if(a===Ko||a===Vo)throw a;var i=Lr(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var ns=ts(!0),rs=ts(!1),os=q(null),is=null;function as(e){var t=e.alternate;U(us,1&us.current),U(os,e),null===is&&(null===t||null!==fi.current||null!==t.memoizedState)&&(is=e)}function ss(e){if(22===e.tag){if(U(us,us.current),U(os,e),null===is){var t=e.alternate;null!==t&&null!==t.memoizedState&&(is=e)}}else ls()}function ls(){U(us,us.current),U(os,os.current)}function cs(e){H(os),is===e&&(is=null),H(us)}var us=q(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||md(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mc(),o=ii(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Lc(t,e,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mc(),o=ii(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Lc(t,e,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ai(e,r,n))&&(Lc(t,e,n),si(t,e,n))}};function fs(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,i))}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function ms(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function ws(e){ys(e)}function Cs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ss(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){Cs(e,t)},n}function Is(e){return(e=ii(e)).tag=3,e}function Ts(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){ks(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof o&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Es=Error(a(461)),As=!1;function _s(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ps(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Eo(t),r=Oi(e,t,n,a,i,o),s=Li(),null===e||As?(io&&s&&to(t),t.flags|=1,_s(e,t,r,o),t.child):(Bi(e,t,o),Qs(e,t,o))}function xs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Br(i)||void 0!==i.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Rs(e,t,i,r,o))}if(i=e.child,!Ys(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Qs(e,t,o)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Rs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(As=!1,t.pendingProps=r=i,!Ys(e,o))return t.lanes=e.lanes,Qs(e,t,o);0!==(131072&e.flags)&&(As=!0)}}return Ds(e,t,n,r,o)}function Os(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ns(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ns(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&jo(0,null!==i?i.cachePool:null),null!==i?mi(t,i):yi(),ss(t)}else null!==i?(jo(0,i.cachePool),mi(t,i),ls(),t.memoizedState=null):(null!==e&&jo(0,null),yi(),ls());return _s(e,t,o,n),t.child}function Ns(e,t,n,r){var o=$o();return o=null===o?null:{parent:No._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&jo(0,null),yi(),ss(t),null!==e&&Io(e,t,r,!0),null}function Ms(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ds(e,t,n,r,o){return Eo(t),n=Oi(e,t,n,r,void 0,o),r=Li(),null===e||As?(io&&r&&to(t),t.flags|=1,_s(e,t,n,o),t.child):(Bi(e,t,o),Qs(e,t,o))}function Ls(e,t,n,r,o,i){return Eo(t),t.updateQueue=null,n=Mi(t,r,n,o),Ni(e),r=Li(),null===e||As?(io&&r&&to(t),t.flags|=1,_s(e,t,n,i),t.child):(Bi(e,t,i),Qs(e,t,i))}function Bs(e,t,n,r,o){if(Eo(t),null===t.stateNode){var i=Mr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Ao(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=ps,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Ao(a):Mr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(hs(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&ps.enqueueReplaceState(i,i.state,null),di(t,r,i,o),ui(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=ms(n,s);i.props=l;var c=i.context,u=n.contextType;a=Mr,"object"===typeof u&&null!==u&&(a=Ao(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&gs(t,i,r,a),ni=!1;var h=t.memoizedState;i.state=h,di(t,r,i,o),ui(),c=t.memoizedState,s||h!==c||ni?("function"===typeof d&&(hs(t,n,d,r),c=t.memoizedState),(l=ni||fs(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oi(e,t),u=ms(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ao(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&gs(t,i,r,l),ni=!1,h=t.memoizedState,i.state=h,di(t,r,i,o),ui();var p=t.memoizedState;a!==d||h!==p||ni||null!==e&&null!==e.dependencies&&To(e.dependencies)?("function"===typeof s&&(hs(t,n,s,r),p=t.memoizedState),(u=ni||fs(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&To(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ms(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,o),t.child=ns(t,null,n,o)):_s(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Qs(e,t,o),e}function Fs(e,t,n,r){return fo(),t.flags|=256,_s(e,t,n,r),t.child}var qs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hs(e){return{baseLanes:e,cachePool:Go()}}function Us(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function zs(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(io){if(i?as(t):ls(),io){var l,c=oo;if(l=c){e:{for(l=c,c=so;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return md(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=o.children,o=o.fallback,i?(ls(),c=js({mode:"hidden",children:c},i=t.mode),o=Ur(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=Hs(n),i.childLanes=Us(e,r,n),t.memoizedState=qs,o):(as(t),$s(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Gs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),i=o.fallback,c=t.mode,o=js({mode:"visible",children:o.children},c),(i=Ur(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,ns(t,e.child,null,n),(o=t.child).memoizedState=Hs(n),o.childLanes=Us(e,r,n),t.memoizedState=qs,t=i);else if(as(t),md(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,mo({value:o,source:null,stack:null}),t=Gs(e,t,n)}else if(As||Io(e,t,n,!1),r=0!==(n&e.childLanes),As||r){if(null!==(r=rc)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:_e(o))&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Rr(e,o),Lc(r,e,o),Es;"$?"===c.data||Wc(),t=Gs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=yd(c.nextSibling),ro=t,io=!0,ao=null,so=!1,null!==e&&(Vr[Qr++]=Jr,Vr[Qr++]=Xr,Vr[Qr++]=Yr,Jr=e.id,Xr=e.overflow,Yr=t),(t=$s(t,o.children)).flags|=4096);return t}return i?(ls(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Fr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=Ur(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=Hs(n):(null!==(l=c.cachePool)?(u=No._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Go(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Us(e,r,n),t.memoizedState=qs,o):(as(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $s(e,t){return(t=js({mode:"visible",children:t},e.mode)).return=e,e.child=t}function js(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gs(e,t,n){return ns(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function Ws(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Vs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(us,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ws(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ds(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Io(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!To(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)As=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return As=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),wo(0,No,e.memoizedState.cache),fo();break;case 27:case 5:V(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:wo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(as(t),null!==(e=Qs(e,t,n))?e.sibling:null);as(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Io(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),U(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n);case 24:wo(0,No,e.memoizedState.cache)}return Qs(e,t,n)}(e,t,n);As=0!==(131072&e.flags)}else As=!1,io&&0!==(1048576&t.flags)&&eo(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===k){t.tag=11,t=Ps(null,t,r,e,n);break e}if(o===T){t.tag=14,t=xs(null,t,r,e,n);break e}}throw t=O(r)||r,Error(a(306,t,""))}Br(r)?(e=ms(r,e),t.tag=1,t=Bs(null,t,r,e,n)):(t.tag=0,t=Ds(null,t,r,e,n))}return t;case 0:return Ds(e,t,t.type,t.pendingProps,n);case 1:return Bs(e,t,r=t.type,o=ms(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,oi(e,t),di(t,r,null,n);var s=t.memoizedState;if(r=s.cache,wo(0,No,r),r!==i.cache&&So(t,[No],n,!0),ui(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==o){mo(o=Ir(Error(a(424)),t)),t=Fs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=yd(e.firstChild),ro=t,io=!0,ao=null,so=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===o){t=Qs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 26:return Ms(e,t),null===e?(n=_d(t.type,null,t.pendingProps,null))?t.memoizedState=n:io||(n=t.type,e=t.pendingProps,(r=rd(j.current).createElement(n))[Oe]=t,r[Ne]=e,ed(r,n,e),Ge(r),t.stateNode=r):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return V(t),null===e&&io&&(r=t.stateNode=wd(t.type,t.pendingProps,j.current),ro=t,so=!0,o=oo,pd(t.type)?(vd=o,oo=yd(r.firstChild)):oo=o),_s(e,t,t.pendingProps.children,n),Ms(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&io&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,so))?(t.stateNode=r,ro=t,oo=yd(r.firstChild),so=!1,o=!0):o=!1),o||co(t)),V(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,ad(o,i)?r=null:null!==s&&ad(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=Oi(e,t,Di,null,null,n),Vd._currentValue=o),Ms(e,t),_s(e,t,r,n),t.child;case 6:return null===e&&io&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return zs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):_s(e,t,r,n),t.child;case 11:return Ps(e,t,t.type,t.pendingProps,n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wo(0,t.type,r.value),_s(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Eo(t),r=r(o=Ao(o)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return xs(e,t,t.type,t.pendingProps,n);case 15:return Rs(e,t,t.type,t.pendingProps,n);case 19:return Vs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=js(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Os(e,t,n);case 24:return Eo(t),r=Ao(No),null===e?(null===(o=$o())&&(o=rc,i=Mo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},ri(t),wo(0,No,o)):(0!==(e.lanes&n)&&(oi(e,t),di(t,null,null,n),ui()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),wo(0,No,r)):(r=i.cache,wo(0,No,r),r!==o.cache&&So(t,[No],n,!0))),_s(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xs(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=os.current)&&((4194048&ic)===ic?null!==is:(62914560&ic)!==ic&&0===(536870912&ic)||t!==is))throw Zo=Qo,Wo;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Co(No),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(po(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,go())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xs(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=j.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=z.current,po(t)?uo(t):(e=wd(o,r,n),t.stateNode=e,Xs(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=z.current,po(t))uo(t);else{switch(o=rd(j.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Oe]=t,e[Ne]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=j.current,po(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||co(t)}else(e=rd(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Oe]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=go(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&Hu(t.stateNode.containerInfo),nl(t),null;case 10:return Co(t.type),nl(t),null;case 19:if(H(us),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)tl(o,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ds(e))){for(t.flags|=128,tl(o,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return U(us,1&us.current|2),t.child}e=e.sibling}null!==o.tail&&te()>kc&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!io)return nl(t),null}else 2*te()-o.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=us.current,U(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&H(zo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Co(No),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Co(No),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return H(us),null;case 4:return W(),null;case 10:return Co(t.type),null;case 22:case 23:return cs(t),vi(),null!==e&&H(zo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Co(No),null;default:return null}}function il(e,t){switch(no(t),t.tag){case 3:Co(No),W();break;case 26:case 27:case 5:Q(t);break;case 4:W();break;case 13:cs(t);break;case 19:H(us);break;case 10:Co(t.type);break;case 22:case 23:cs(t),vi(),null!==e&&H(zo);break;case 24:Co(No)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n,c=s;try{c()}catch(u){uu(o,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ms(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){uu(e,t,o)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){uu(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){uu(e,e.return,o)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Xu(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":o=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==h&&Xu(e,t,p,f,r,h)}}return void mt(e,s,l,c,u,d,i,o);case"select":for(i in f=s=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||Xu(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Xu(e,t,o,i,r,c)}return t=l,n=s,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":p=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&Xu(e,t,s,o,r,i)}return void wt(e,p,f);case"option":for(var g in n)if(p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Xu(e,t,g,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m)&&Xu(e,t,m,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Xu(e,t,u,p,r,f)}return;default:if(Et(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Zu(e,t,d,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Xu(e,t,h,p,r,f)}(r,e.type,n,t),r[Ne]=t}catch(o){uu(e,e.return,o)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[Oe]=e,t[Ne]=n}catch(i){uu(e,e.return,i)}}var bl=!1,wl=!1,Cl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Bl(e,n),4&r&&al(5,n);break;case 1:if(Bl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var o=ms(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Bl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pi(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Bl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Bl(e,n);break;case 13:Bl(e,n),4&r&&xl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,o=bl;var i=wl;bl=r,(wl=t)&&!i?ql(e,n,0!==(8772&n.subtreeFlags)):Bl(e,n),bl=o,wl=i}break;case 30:break;default:Bl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&He(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Al=!1;function _l(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:wl||dl(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=El,o=Al;pd(n.type)&&(El=n.stateNode,Al=!1),_l(e,t,n),Cd(n.stateNode),El=r,Al=o;break;case 5:wl||dl(n,t);case 6:if(r=El,o=Al,El=null,_l(e,t,n),Al=o,null!==(El=r))if(Al)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{El.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==El&&(Al?(fd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ah(e)):fd(El,n.stateNode));break;case 4:r=El,o=Al,El=n.stateNode.containerInfo,Al=!0,_l(e,t,n),El=r,Al=o;break;case 0:case 11:case 14:case 15:wl||sl(2,n,t),wl||sl(4,n,t),_l(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,_l(e,t,n),wl=r;break;default:_l(e,t,n)}}function xl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ah(e)}catch(n){uu(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){El=l.stateNode,Al=!1;break e}break;case 5:El=l.stateNode,Al=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===El)throw Error(a(160));Pl(i,s,o),El=null,Al=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Nl=null;function Ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Dl(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Nl;if(Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[qe]||i[Oe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),ed(i,r,n),i[Oe]=e,Ge(i),r=i;break e;case"link":var s=qd("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=qd("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Oe]=e,Ge(i),r=i}e.stateNode=r}else Hd(o,e.type,e.stateNode);else e.stateNode=Md(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Hd(o,e.type,e.stateNode):Md(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{kt(o,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Cl=!0);break;case 6:if(Ol(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(Fd=null,o=Nl,Nl=Id(t.containerInfo),Ol(t,e),Nl=o,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ah(t.containerInfo)}catch(f){uu(e,e.return,f)}Cl&&(Cl=!1,Ll(e));break;case 4:r=Nl,Nl=Id(e.stateNode.containerInfo),Ol(t,e),Dl(e),Nl=r;break;case 12:default:Ol(t,e),Dl(e);break;case 13:Ol(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Cc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||o,wl=d||c,Ol(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rl(e,n))));break;case 19:Ol(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;yl(e,gl(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),yl(e,gl(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;ml(e,gl(e),s);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Il(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:Cd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:ql(o,i,n),al(4,i);break;case 1:if(ql(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)hi(l[o],s)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:ql(o,i,n),n&&null===r&&4&a&&hl(i),ul(i,i.return);break;case 12:ql(o,i,n);break;case 13:ql(o,i,n),n&&4&a&&xl(o,i);break;case 22:null===i.memoizedState&&ql(o,i,n),ul(i,i.return);break;case 30:break;default:ql(o,i,n)}t=t.sibling}}function Hl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Do(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e))}function zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:zl(e,t,n,r),2048&o&&al(9,t);break;case 1:case 13:default:zl(e,t,n,r);break;case 3:zl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e)));break;case 12:if(2048&o){zl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else zl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?zl(e,t,n,r):Gl(e,t):2&i._visibility?zl(e,t,n,r):(i._visibility|=2,jl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&Hl(a,t);break;case 24:zl(e,t,n,r),2048&o&&Ul(t.alternate,t)}}function jl(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:jl(i,a,s,l,o),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?jl(i,a,s,l,o):Gl(i,a):(u._visibility|=2,jl(i,a,s,l,o)),o&&2048&c&&Hl(a.alternate,a);break;case 24:jl(i,a,s,l,o),o&&2048&c&&Ul(a.alternate,a);break;default:jl(i,a,s,l,o)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Gl(n,r),2048&o&&Hl(r.alternate,r);break;case 24:Gl(n,r),2048&o&&Ul(r.alternate,r);break;default:Gl(n,r)}t=t.sibling}}var Kl=8192;function Wl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Vl(e),e=e.sibling}function Vl(e){switch(e.tag){case 26:Wl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===zd)throw Error(a(475));var r=zd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Pd(n.href),i=e.querySelector(xd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=jd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Ge(i);i=e.ownerDocument||e,n=Rd(n),(o=kd.get(o))&&Ld(n,o),Ge(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=jd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Nl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Nl;Nl=Id(e.stateNode.containerInfo),Wl(e),Nl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Wl(e),Kl=t):Wl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Do(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var o=(r=Sl).sibling,i=r.return;if(Tl(r),r===n){Sl=null;break e}if(null!==o){o.return=i,Sl=o;break e}Sl=i}}}var ec={getCacheForType:function(e){var t=Ao(No),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,oc=null,ic=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,gc=0,mc=0,yc=0,vc=null,bc=null,wc=!1,Cc=0,kc=1/0,Sc=null,Ic=null,Tc=0,Ec=null,Ac=null,_c=0,Pc=0,xc=null,Rc=null,Oc=0,Nc=null;function Mc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==M.T){return 0!==Fo?Fo:Pu()}return xe()}function Dc(){0===mc&&(mc=0===(536870912&ic)||io?ke():536870912);var e=os.current;return null!==e&&(e.flags|=32),mc}function Lc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||($c(e,0),Hc(e,ic,mc,!1)),Te(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Hc(e,ic,mc,!1)),ku(e))}function Bc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),o=r?function(e,t){var n=nc;nc|=2;var r=Gc(),o=Kc();rc!==e||ic!==t?(Sc=null,kc=te()+500,$c(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ac&&null!==oc){t=oc;var i=sc;t:switch(ac){case 1:ac=0,sc=null,Zc(e,t,i,1);break;case 2:case 9:if(Yo(i)){ac=0,sc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),ku(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yo(i)?(ac=0,sc=null,Xc(t)):(ac=0,sc=null,Zc(e,t,i,7));break;case 5:var s=null;switch(oc.tag){case 26:s=oc.memoizedState;case 5:case 27:var l=oc;if(!s||Ud(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,eu(u)):oc=null}break t}}ac=0,sc=null,Zc(e,t,i,5);break;case 6:ac=0,sc=null,Zc(e,t,i,6);break;case 8:zc(),hc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){jc(e,d)}return bo=vo=null,M.H=r,M.A=o,nc=n,null!==oc?0:(rc=null,ic=0,_r(),hc)}(e,t):Vc(e,t,!0),i=r;;){if(0===o){cc&&!r&&Hc(e,t,0,!1);break}if(n=e.current.alternate,!i||qc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,s).flags|=256),2!==(s=Vc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,o=4;break e}i=bc,bc=o,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}o=s}if(i=!1,2!==o)continue}}if(1===o){$c(e,0),Hc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Hc(r,t,mc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=Cc+300-te())){if(Hc(r,t,mc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,Sc,wc,t,mc,fc,yc,lc,i,2,-0,0),o)}else Fc(r,n,bc,Sc,wc,t,mc,fc,yc,lc,i,0,-0,0)}break}o=Vc(e,t,!1),i=!1}ku(e)}function Fc(e,t,n,r,o,i,s,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(zd={stylesheets:null,count:0,unsuspend:$d},Vl(t),null!==(h=function(){if(null===zd)throw Error(a(475));var e=zd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,o,s,l,c,d,1,p,f)),void Hc(e,i,s,!u);nu(e,t,i,n,r,o,s,l,c)}function qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Qn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t,n,r){t&=~gc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-pe(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Ee(e,n,t)}function Uc(){return 0!==(6&nc)||(Su(0,!1),!1)}function zc(){if(null!==oc){if(0===ac)var e=oc.return;else bo=vo=null,Fi(e=oc),Qa=null,Ya=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),rc=e,oc=n=Fr(e.current,null),ic=t,ac=0,sc=null,lc=!1,cc=we(e,t),uc=!1,yc=mc=gc=fc=pc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-pe(r),i=1<<o;t|=e[o],r&=~i}return dc=t,_r(),n}function jc(e,t){wi=null,M.H=Ga,t===Ko||t===Vo?(t=ei(),ac=3):t===Wo?(t=ei(),ac=4):ac=t===Es?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===oc&&(hc=1,Cs(e,Ir(t,e.current)))}function Gc(){var e=M.H;return M.H=Ga,null===e?Ga:e}function Kc(){var e=M.A;return M.A=ec,e}function Wc(){hc=4,lc||(4194048&ic)!==ic&&null!==os.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Hc(rc,ic,mc,!1)}function Vc(e,t,n){var r=nc;nc|=2;var o=Gc(),i=Kc();rc===e&&ic===t||(Sc=null,$c(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==oc){var s=oc,l=sc;switch(ac){case 8:zc(),a=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var c=ac;if(ac=0,sc=null,Zc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Zc(e,s,l,c)}}Qc(),a=hc;break}catch(u){jc(e,u)}return t&&e.shellSuspendCounter++,bo=vo=null,nc=r,M.H=o,M.A=i,null===oc&&(rc=null,ic=0,_r()),a}function Qc(){for(;null!==oc;)Jc(oc)}function Yc(){for(;null!==oc&&!Z();)Jc(oc)}function Jc(e){var t=Js(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Fi(t);default:il(n,t),t=Js(n,t=oc=qr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Zc(e,t,n,r){bo=vo=null,Fi(t),Qa=null,Ya=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Io(t,n,o,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===is?Wc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return n.flags|=65536,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,o)),!1}throw Error(a(435,n.tag))}return du(e,r,o),Wc(),!1}if(io)return null!==(t=os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&mo(Ir(e=Error(a(422),{cause:r}),n))):(r!==lo&&mo(Ir(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Ir(r,n),li(e,o=Ss(e.stateNode,r,o)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:r});if(i=Ir(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Ir(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,li(n,e=Ss(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Ic||!Ic.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ts(o=Is(o),e,n,r),li(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ic))return hc=1,Cs(e,Ir(n,e.current)),void(oc=null)}catch(i){if(null!==o)throw oc=o,i;return hc=1,Cs(e,Ir(n,e.current)),void(oc=null)}32768&t.flags?(io||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=os.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);hc=6,oc=null}function nu(e,t,n,r,o,i,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Tc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-pe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Ar,s,l,c),e===rc&&(oc=rc=null,ic=0),Ac=t,Ec=e,_c=n,Pc=i,xc=o,Rc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ie,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,o=D.p,D.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=s),p===i&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(i=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var g=ms(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=s,D.p=o,M.T=r}}Tc=1,ru(),ou(),iu()}}function ru(){if(1===Tc){Tc=0;var e=Ec,t=Ac,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var o=nc;nc|=4;try{Ml(t,e);var i=nd,a=er(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=s.textContent.length,g=Math.min(l.start,f),m=void 0===l.end?g:Math.min(l.end,f);!p.extend&&g>m&&(a=m,m=g,g=a);var y=Xn(s,g),v=Xn(s,m);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),g>m?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=o,D.p=r,M.T=n}}e.current=t,Tc=2}}function ou(){if(2===Tc){Tc=0;var e=Ec,t=Ac,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var o=nc;nc|=4;try{Il(e,t.alternate,t)}finally{nc=o,D.p=r,M.T=n}}Tc=3}}function iu(){if(4===Tc||3===Tc){Tc=0,ee();var e=Ec,t=Ac,n=_c,r=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,Ac=Ec=null,au(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Ic=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=M.T,o=D.p,D.p=2,M.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];i(s.value,{componentStack:s.stack})}}finally{M.T=t,D.p=o}}0!==(3&_c)&&su(),ku(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Nc?Oc++:(Oc=0,Nc=e):Oc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Do(t)))}function su(e){return ru(),ou(),iu(),lu()}function lu(){if(5!==Tc)return!1;var e=Ec,t=Pc;Pc=0;var n=Pe(_c),r=M.T,o=D.p;try{D.p=32>n?32:n,M.T=null,n=xc,xc=null;var i=Ec,s=_c;if(Tc=0,Ac=Ec=null,_c=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Jl(i.current),$l(i,i.current,s,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{D.p=o,M.T=r,au(e,t)}}function cu(e,t,n){t=Ir(n,t),null!==(e=ai(e,t=Ss(e.stateNode,t,2),2))&&(Te(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ic||!Ic.has(r))){e=Ir(n,e),null!==(r=ai(t,n=Is(2),2))&&(Ts(n,r,t,e),Te(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(uc=!0,o.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-Cc?0===(2&nc)&&$c(e,0):gc|=n,yc===ic&&(yc=0)),ku(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Rr(e,t))&&(Te(e,t),ku(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var mu=null,yu=null,vu=!1,bu=!1,wu=!1,Cu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?mu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd((function(){0!==(6&nc)?J(re,Iu):Tu()})))}function Su(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=mu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=o&~(a&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,_u(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,i)||(n=!0,_u(r,i));r=r.next}}while(n);wu=!1}}function Iu(){Tu()}function Tu(){bu=vu=!1;var e=0;0!==Cu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=Cu),Cu=0);for(var t=te(),n=null,r=mu;null!==r;){var o=r.next,i=Eu(r,t);0===i?(r.next=null,null===n?mu=o:n.next=o,null===o&&(yu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=o}Su(e,!1)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-pe(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=Ce(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Pe(n)){case 2:case 8:n=oe;break;case 32:default:n=ie;break;case 268435456:n=se}return r=Au.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Bc(e,r,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Au.bind(null,e):null)}function _u(e,t){if(su())return null;Bc(e,t,!0)}function Pu(){return 0===Cu&&(Cu=ke()),Cu}function xu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<Cr.length;Ou++){var Nu=Cr[Ou];kr(Nu.toLowerCase(),"on"+(Nu[0].toUpperCase()+Nu.slice(1)))}kr(pr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(gr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(mr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){ys(u)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){ys(u)}o.currentTarget=null,i=l}}}}function Bu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[qu]){e[qu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qu]||(t[qu]=!0,Fu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(ch(t)){case 2:var o=rh;break;case 8:o=oh;break;default:o=ih}n=o.bind(null,t,n,e),o=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function zu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=Ue(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Lt((function(){var r=i,o=Rt(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case pr:case fr:case gr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var f,g=r;null!==g;){var m=g;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===p||null!=(m=Bt(g,p))&&d.push($u(g,m,f)),h)break;g=g.return}0<d.length&&(s=new c(s,u,null,n,o),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xt||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Me])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=mn,m="onPointerLeave",p="onPointerEnter",g="pointer"),h=null==c?s:$e(c),f=null==u?s:$e(u),(s=new d(m,g+"leave",c,n,o)).target=h,s.relatedTarget=f,m=null,Ue(o)===r&&((d=new d(p,g+"enter",u,n,o)).target=f,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(p=u,g=0,f=d=c;f;f=Gu(f))g++;for(f=0,m=p;m;m=Gu(m))f++;for(;0<g-f;)d=Gu(d),g--;for(;0<f-g;)p=Gu(p),f--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gu(d),p=Gu(p)}d=null}else d=null;null!==c&&Ku(a,s,c,d,!1),null!==u&&null!==h&&Ku(a,h,u,d,!0)}if("select"===(c=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Fn;else if(On(s))if(qn)y=Vn;else{y=Kn;var v=Gn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Et(r.elementType)&&(y=Fn):y=Wn;switch(y&&(y=y(e,r))?Nn(a,y,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?$e(r):window,e){case"focusin":(On(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else xn?_n(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(xn||"onCompositionStart"!==w?"onCompositionEnd"===w&&xn&&(b=jt()):(zt="value"in(Ut=o)?Ut.value:Ut.textContent,xn=!0)),0<(v=ju(r,w)).length&&(w=new cn(w,e,null,n,o),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=In?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(An=!0,En);case"textInput":return(e=t.data)===En&&An?null:e;default:return null}}(e,n):function(e,t){if(xn)return"compositionend"===e||!kn&&_n(e,t)?(e=jt(),$t=zt=Ut=null,xn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ju(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=xu((o[Ne]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ne]||null)?xu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Zt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Cu){var e=a?Ru(o,a):new FormData(o);Ra(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Ru(o,a):new FormData(o),Ra(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Lu(a,t)}))}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ju(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Bt(e,n))&&r.unshift($u(e,o,i)),null!=(o=Bt(e,t))&&r.push($u(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Bt(n,i))&&a.unshift($u(n,c,l)):o||null!=(c=Bt(n,i))&&a.push($u(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wu=/\r\n?/g,Vu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Vu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function Xu(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Xu(e,t,"name",o.name,o,null),Xu(e,t,"formEncType",o.formEncType,o,null),Xu(e,t,"formMethod",o.formMethod,o,null),Xu(e,t,"formTarget",o.formTarget,o,null)):(Xu(e,t,"encType",o.encType,o,null),Xu(e,t,"method",o.method,o,null),Xu(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Bu("beforetoggle",e),Bu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,r)}}function Zu(e,t,n,r,o,i){switch(n){case"style":Tt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Ne]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bu("error",e),Bu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,s,n,null)}}return i&&Xu(e,t,"srcSet",n.srcSet,n,null),void(o&&Xu(e,t,"src",n.src,n,null));case"input":Bu("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Xu(e,t,o,d,n,null)}}return yt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Bu("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Xu(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Bu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,s,l,n,null)}return Ct(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Xu(e,t,c,o,n,null);return;case"dialog":Bu("beforetoggle",e),Bu("toggle",e),Bu("cancel",e),Bu("close",e);break;case"iframe":case"object":Bu("load",e);break;case"video":case"audio":for(o=0;o<Mu.length;o++)Bu(Mu[o],e);break;case"image":Bu("error",e),Bu("load",e);break;case"details":Bu("toggle",e);break;case"embed":case"source":case"link":Bu("error",e),Bu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,o,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Zu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Xu(e,t,l,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function pd(e){return"head"===e}function fd(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&Cd(a.documentElement),2&n&&Cd(a.body),4&n)for(Cd(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[qe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===o)return e.removeChild(i),void Ah(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ah(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),He(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function md(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Cd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);He(e)}var kd=new Map,Sd=new Set;function Id(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Td=D.d;D.d={f:function(){var e=Td.f(),t=Uc();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Na(t):Td.r(e)},D:function(e){Td.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){Td.C(e,t),Ad("preconnect",e,t)},L:function(e,t,n){Td.L(e,t,n);var r=Ed;if(r&&e&&t){var o='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+gt(n.imageSizes)+'"]')):o+='[href="'+gt(e)+'"]';var i=o;switch(t){case"style":i=Pd(e);break;case"script":i=Od(e)}kd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(xd(i))||"script"===t&&r.querySelector(Nd(i))||(ed(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}},m:function(e,t){Td.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Od(e)}if(!kd.has(i)&&(e=h({rel:"modulepreload",href:e},t),kd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nd(i)))return}ed(r=n.createElement("link"),"link",e),Ge(r),n.head.appendChild(r)}}},X:function(e,t){Td.X(e,t);var n=Ed;if(n&&e){var r=je(n).hoistableScripts,o=Od(e),i=r.get(o);i||((i=n.querySelector(Nd(o)))||(e=h({src:e,async:!0},t),(t=kd.get(o))&&Bd(e,t),Ge(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Td.S(e,t,n);var r=Ed;if(r&&e){var o=je(r).hoistableStyles,i=Pd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(xd(i)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(i))&&Ld(e,n);var l=a=r.createElement("link");Ge(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Dd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){Td.M(e,t);var n=Ed;if(n&&e){var r=je(n).hoistableScripts,o=Od(e),i=r.get(o);i||((i=n.querySelector(Nd(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(o))&&Bd(e,t),Ge(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Ed="undefined"===typeof document?null:document;function Ad(e,t,n){var r=Ed;if(r&&"string"===typeof t&&t){var o=gt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Sd.has(o)||(Sd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}}function _d(e,t,n,r){var o,i,s,l,c=(c=j.current)?Id(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=je(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=je(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(xd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),ed(i,"link",s),Ge(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(n),(r=(n=je(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pd(e){return'href="'+gt(e)+'"'}function xd(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+gt(e)+'"]'}function Nd(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Ge(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Pd(n.href);var i=e.querySelector(xd(o));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;r=Rd(n),(o=kd.get(o))&&Ld(r,o),Ge(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(i,"link",r),t.state.loading|=4,Dd(i,n.precedence,e),t.instance=i;case"script":return i=Od(n.src),(o=e.querySelector(Nd(i)))?(t.instance=o,Ge(o),o):(r=n,(o=kd.get(i))&&Bd(r=h({},n),o),Ge(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function qd(e,t,n){if(null===Fd){var r=new Map,o=Fd=new Map;o.set(n,r)}else(r=(o=Fd).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[qe]||i[Oe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function Hd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zd=null;function $d(){}function jd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Wd,e),Gd=null,jd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Gd.get(e);if(n)var r=n.get(null);else{n=new Map,Gd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=jd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Vd={$$typeof:C,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qd(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yd(e,t,n,r,o,i,a,s,l,c,u,d){return e=new Qd(e,t,n,a,s,l,c,d),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Mo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Jd(e){return e?e=Mr:Mr}function Xd(e,t,n,r,o,i){o=Jd(o),null===r.context?r.context=o:r.pendingContext=o,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ai(e,r,t))&&(Lc(n,0,t),si(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var o=M.T;M.T=null;var i=D.p;try{D.p=2,ih(e,t,n,r)}finally{D.p=i,M.T=o}}function oh(e,t,n,r){var o=M.T;M.T=null;var i=D.p;try{D.p=8,ih(e,t,n,r)}finally{D.p=i,M.T=o}}function ih(e,t,n,r){if(nh){var o=ah(r);if(null===o)zu(e,t,r,sh,n),vh(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,o),!0;case"dragenter":return hh=bh(hh,e,t,n,r,o),!0;case"mouseover":return ph=bh(ph,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return fh.set(i,bh(fh.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,gh.set(i,bh(gh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==o;){var i=ze(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ve(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-pe(a);s.entanglements[1]|=l,a&=~l}ku(i),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(s=Rr(i,2))&&Lc(s,0,2),Uc(),eh(i,2)}if(null===(i=ah(r))&&zu(e,t,r,sh,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else zu(e,t,r,null,n)}}function ah(e){return lh(e=Rt(e))}var sh=null;function lh(e){if(sh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ie:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,gh=new Map,mh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function bh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=ze(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function wh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Mc();e=_e(e);var t=Rr(n,e);null!==t&&Lc(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xt=r,n.target.dispatchEvent(r),xt=null,t.shift()}return!0}function kh(e,t,n){Ch(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&Ch(dh)&&(dh=null),null!==hh&&Ch(hh)&&(hh=null),null!==ph&&Ch(ph)&&(ph=null),fh.forEach(kh),gh.forEach(kh)}function Ih(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Th=null;function Eh(e){Th!==e&&(Th=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Th===e&&(Th=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=ze(n);null!==i&&(e.splice(t,3),t-=3,Ra(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function Ah(e){function t(t){return Ih(t,e)}null!==dh&&Ih(dh,e),null!==hh&&Ih(hh,e),null!==ph&&Ih(ph,e),fh.forEach(t),gh.forEach(t);for(var n=0;n<mh.length;n++){var r=mh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<mh.length&&null===(n=mh[0]).blockedOn;)wh(n),null===n.blockedOn&&mh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Ne]||null;if("function"===typeof i)a||Eh(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Ne]||null)s=a.formAction;else if(null!==lh(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Eh(n)}}}function _h(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=_h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xd(t.current,Mc(),e,t,null,null)},Ph.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Uc(),t[Me]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=xe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mh.length&&0!==t&&t<mh[n].priority;n++);mh.splice(n,0,e),0===n&&wh(e)}};var xh=o.version;if("19.1.0"!==xh)throw Error(a(527,xh,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return u(o),e;if(i===r)return u(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{ue=Oh.inject(Rh),de=Oh}catch(Mh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=vs,i=bs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,o,i,l,0,null),e[Me]=t.current,Hu(e),new _h(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=vs,l=bs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Jd(null),n=t.current,(o=ii(r=_e(r=Mc()))).callback=null,ai(n,o,r),n=r,t.current.lanes=n,Te(t,n),ku(t),e[Me]=t.current,Hu(e),new Ph(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},237:(e,t,n)=>{n(365)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function I(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function P(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+A(e,0):i,C(a)?(o="",null!=u&&(o=u.replace(E,"$&/")+"/"),P(a,t,o,"",(function(e){return e}))):null!=a&&(T(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=I(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,f=""===i?".":i+":";if(C(e))for(var g=0;g<e.length;g++)u+=P(i=e[g],t,o,s=f+A(i,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(i=e.next()).done;)u+=P(i=i.value,t,o,s=f+A(i,g++),a);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function x(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return I(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return I(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),o=k.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(N,O)}catch(i){O(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},365:(e,t,n)=>{var r=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function r(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(m=!1,C(e),!g)if(null!==r(c))g=!0,I||(I=!0,S());else{var t=r(u);null!==t&&O(k,t.startTime-e)}}var S,I=!1,T=-1,E=5,A=-1;function _(){return!!y||!(t.unstable_now()-A<E)}function P(){if(y=!1,I){var e=t.unstable_now();A=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(T),T=-1),f=!0;var i=p;try{t:{for(C(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,C(e),n=!0;break t}h===r(c)&&o(c),C(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&O(k,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?S():I=!1}}}if("function"===typeof w)S=function(){w(P)};else if("undefined"!==typeof MessageChannel){var x=new MessageChannel,R=x.port2;x.port1.onmessage=P,S=function(){R.postMessage(null)}}else S=function(){v(P,0)};function O(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(b(T),T=-1):m=!0,O(k,i-a))):(e.sortIndex=s,n(c,e),g||f||(g=!0,I||(I=!0,S()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".fea3fefb.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="nimbus:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunknimbus=self.webpackChunknimbus||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),o=n(391),i=(n(175),"popstate");function a(){return p((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return u("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,h="POP",p=null,f=g();function g(){return(l.state||{idx:null}).idx}function m(){h="POP";let e=g(),t=null==e?null:e-f;f=e,p&&p({action:h,location:v.location,delta:t})}function y(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),s(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==f&&(f=0,l.replaceState({...l.state,idx:f},""));let v={get action(){return h},get location(){return e(o,l)},listen(e){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(i,m),p=e,()=>{o.removeEventListener(i,m),p=null}},createHref:e=>t(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=u(v.location,e,t);n&&n(r,e),f=g()+1;let i=c(r,f),s=v.createHref(r);try{l.pushState(i,"",s)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(s)}a&&p&&p({action:h,location:v.location,delta:1})},replace:function(e,t){h="REPLACE";let r=u(v.location,e,t);n&&n(r,e),f=g();let o=c(r,f),i=v.createHref(r);l.replaceState(o,"",i),a&&p&&p({action:h,location:v.location,delta:0})},go:e=>l.go(e)};return v}new WeakMap;function f(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,n,r){let o=x(("string"===typeof t?h(t):t).pathname||"/",n);if(null==o)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=P(o);a=E(i[s],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=D([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:T(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of y(e.path))o(e,t,n);else o(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=y(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,b=3,w=2,C=1,k=10,S=-2,I=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=S),t&&(r+=w),n.filter((e=>!I(e))).reduce(((e,t)=>e+(v.test(t)?b:""===t?C:k)),r)}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:D([i,u.pathname]),pathnameBase:L(D([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=D([i,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e){let t=O(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function M(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},s(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let i,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:B(r),hash:F(o)}}(r,i),u=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var H=["POST","PUT","PATCH","DELETE"],U=(new Set(H),["GET",...H]);new Set(U),Symbol("ResetLoaderData");var z=r.createContext(null);z.displayName="DataRouter";var $=r.createContext(null);$.displayName="DataRouterState";var j=r.createContext({isTransitioning:!1});j.displayName="ViewTransition";var G=r.createContext(new Map);G.displayName="Fetchers";var K=r.createContext(null);K.displayName="Await";var W=r.createContext(null);W.displayName="Navigation";var V=r.createContext(null);V.displayName="Location";var Q=r.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var Y=r.createContext(null);Y.displayName="RouteError";function J(){return null!=r.useContext(V)}function X(){return s(J(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(V).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(e){r.useContext(W).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(Q);return e?function(){let{router:e}=ue("useNavigate"),t=he("useNavigate"),n=r.useRef(!1);ee((()=>{n.current=!0}));let o=r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,Z),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))}),[e,t]);return o}():function(){s(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(z),{basename:t,navigator:n}=r.useContext(W),{matches:o}=r.useContext(Q),{pathname:i}=X(),a=JSON.stringify(N(o)),c=r.useRef(!1);ee((()=>{c.current=!0}));let u=r.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,Z),!c.current)return;if("number"===typeof r)return void n.go(r);let s=M(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:D([t,s.pathname])),(o.replace?n.replace:n.push)(s,o.state,o)}),[t,n,a,i,e]);return u}()}r.createContext(null);function ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(Q),{pathname:o}=X(),i=JSON.stringify(N(n));return r.useMemo((()=>M(e,JSON.parse(i),o,"path"===t)),[e,i,o,t])}function re(e,t,n,o){s(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=r.useContext(W),{matches:c}=r.useContext(Q),u=c[c.length-1],d=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",m=u&&u.route;{let e=m&&m.path||"";ge(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=X();if(t){let e="string"===typeof t?h(t):t;s("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let b=y.pathname||"/",w=b;if("/"!==g){let e=g.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let C=!a&&n&&n.matches&&n.matches.length>0?n.matches:f(e,{pathname:w});l(m||null!=C,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),l(null==C||void 0!==C[C.length-1].route.element||void 0!==C[C.length-1].route.Component||void 0!==C[C.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=le(C&&C.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:D([g,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:D([g,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,o);return t&&k?r.createElement(V.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function oe(){let e=pe(),t=q(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,s)}var ie=r.createElement(oe,null),ae=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Q.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function se(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(z);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Q.Provider,{value:t},o)}function le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,i=n?.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&void 0!==i?.[e.route.id]));s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight(((e,s,c)=>{let u,d=!1,h=null,p=null;n&&(u=i&&s.route.id?i[s.route.id]:void 0,h=s.route.errorElement||ie,a&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===c&&(d=!0,p=s.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,c+1)),g=()=>{let t;return t=u?h:d?p:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(se,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(e){let t=r.useContext(z);return s(t,ce(e)),t}function de(e){let t=r.useContext($);return s(t,ce(e)),t}function he(e){let t=function(e){let t=r.useContext(Q);return s(t,ce(e)),t}(e),n=t.matches[t.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pe(){let e=r.useContext(Y),t=de("useRouteError"),n=he("useRouteError");return void 0!==e?e:t.errors?.[n]}var fe={};function ge(e,t,n){t||fe[e]||(fe[e]=!0,l(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return re(t,void 0,r,n)}));function me(e){let{to:t,replace:n,state:o,relative:i}=e;s(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(W);l(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=r.useContext(Q),{pathname:u}=X(),d=te(),h=M(t,N(c),u,"path"===i),p=JSON.stringify(h);return r.useEffect((()=>{d(JSON.parse(p),{replace:n,state:o,relative:i})}),[d,p,i,n,o]),null}function ye(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve(e){let{basename:t="/",children:n=null,location:o,navigationType:i="POP",navigator:a,static:c=!1}=e;s(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:a,static:c,future:{}})),[u,a,c]);"string"===typeof o&&(o=h(o));let{pathname:p="/",search:f="",hash:g="",state:m=null,key:y="default"}=o,v=r.useMemo((()=>{let e=x(p,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:m,key:y},navigationType:i}}),[u,p,f,g,m,y,i]);return l(null!=v,`<Router basename="${u}"> is not able to match the URL "${p}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(W.Provider,{value:d},r.createElement(V.Provider,{children:n,value:v}))}function be(e){let{children:t,location:n}=e;return re(we(t),n)}r.Component;function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,we(e.props.children,i));s(e.type===ye,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,i)),n.push(a)})),n}var Ce="get",ke="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var Ie=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ee(e){return null==e||Te.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ke}"`),null)}function Ae(e,t){let n,r,o,i,a;if(Se(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?x(a,t):null,n=e.getAttribute("method")||Ce,o=Ee(e.getAttribute("enctype"))||ke,i=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?x(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ce,o=Ee(e.getAttribute("formenctype"))||Ee(a.getAttribute("enctype"))||ke,i=new FormData(a,e),!function(){if(null===Ie)try{new FormData(document.createElement("form"),0),Ie=!1}catch(e){Ie=!0}return Ie}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ce,r=null,o=ke,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function _e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Pe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function xe(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Oe(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ne(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o})).flat(1),[...new Set(r)];var r}function Me(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!xe(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e}),[])}function De(e){return{__html:e}}Symbol("SingleFetchRedirect");var Le=new Set([100,101,204,205]);function Be(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===x(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function Fe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(q(t))return r.createElement(qe,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement(qe,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function qe(e){let{title:t,renderScripts:n,isOutsideRemixApp:o,children:i}=e,{routeModules:a}=je();return a.root?.Layout&&!o?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?r.createElement(Je,null):null)))}function He(e){return!0===e}function Ue(){let e=r.useContext(z);return _e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ze(){let e=r.useContext($);return _e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=r.createContext(void 0);function je(){let e=r.useContext($e);return _e(e,"You must render this element inside a <HydratedRouter> element"),e}function Ge(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ke(e,t,n){if(n&&!Ye)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function We(e){let{page:t,...n}=e,{router:o}=Ue(),i=r.useMemo((()=>f(o.routes,t,o.basename)),[o.routes,t,o.basename]);return i?r.createElement(Qe,{page:t,matches:i,...n}):null}function Ve(e){let{manifest:t,routeModules:n}=je(),[o,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Me((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Pe(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Re).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),o}function Qe(e){let{page:t,matches:n,...o}=e,i=X(),{manifest:a,routeModules:s}=je(),{basename:l}=Ue(),{loaderData:c,matches:u}=ze(),d=r.useMemo((()=>Oe(t,n,u,a,i,"data")),[t,n,u,a,i]),h=r.useMemo((()=>Oe(t,n,u,a,i,"assets")),[t,n,u,a,i]),p=r.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in c&&s[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let o=Be(t,l);return r&&e.size>0&&o.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[o.pathname+o.search]}),[l,c,i,a,d,n,t,s]),f=r.useMemo((()=>Ne(h,a)),[h,a]),g=Ve(h);return r.createElement(r.Fragment,null,p.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...o}))),f.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...o}))),g.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}$e.displayName="FrameworkContext";var Ye=!1;function Je(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,ssr:i,renderMeta:a}=je(),{router:s,static:l,staticContext:c}=Ue(),{matches:u}=ze(),d=He(i);a&&(a.didRenderScripts=!0);let h=Ke(u,null,o);r.useEffect((()=>{Ye=!0}),[]);let p=r.useMemo((()=>{let o=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(t.url)}`};\n${h.map(((e,n)=>{let r=`route${n}`,o=t.routes[e.route.id];_e(o,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=o,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,o=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach((e=>{let n=f(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let s=[...o].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:s,sri:!!n||void 0}}(t,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(o),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(i),type:"module",async:!0}))}),[]),g=Ye?[]:(m=t.entry.imports.concat(Ne(h,t,{includeHydrateFallback:!0})),[...new Set(m)]);var m;let y="object"===typeof t.sri?t.sri:{};return Ye?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,d?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),g.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0}))),p)}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ze&&(window.__reactRouterVersion="7.5.1")}catch(db){}function et(e){let{basename:t,children:n,window:o}=e,i=r.useRef();null==i.current&&(i.current=a({window:o,v5Compat:!0}));let s=i.current,[l,c]=r.useState({action:s.action,location:s.location}),u=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>s.listen(u)),[s,u]),r.createElement(ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s})}var tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=r.forwardRef((function(e,t){let n,{onClick:o,discover:i="render",prefetch:a="none",relative:c,reloadDocument:u,replace:h,state:p,target:f,to:g,preventScrollReset:m,viewTransition:y,...v}=e,{basename:b}=r.useContext(W),w="string"===typeof g&&tt.test(g),C=!1;if("string"===typeof g&&w&&(n=g,Ze))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=x(t.pathname,b);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:C=!0}catch(db){l(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(W),{hash:i,pathname:a,search:l}=ne(e,{relative:t}),c=a;return"/"!==n&&(c="/"===a?n:D([n,a])),o.createHref({pathname:c,search:l,hash:i})}(g,{relative:c}),[S,I,T]=function(e,t){let n=r.useContext($e),[o,i]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=r.useRef(null);r.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(o){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[o]);let f=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,p,{}]:[a,p,{onFocus:Ge(l,f),onBlur:Ge(c,g),onMouseEnter:Ge(u,f),onMouseLeave:Ge(d,g),onTouchStart:Ge(h,f)}]:[!1,p,{}]}(a,v),E=function(e){let{target:t,replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),c=X(),u=ne(e,{relative:a});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:d(c)===d(u);l(e,{replace:t,state:o,preventScrollReset:i,relative:a,viewTransition:s})}}),[c,l,u,n,o,t,e,i,a,s])}(g,{replace:h,state:p,target:f,preventScrollReset:m,relative:c,viewTransition:y});let A=r.createElement("a",{...v,...T,href:n||k,onClick:C||u?o:function(e){o&&o(e),e.defaultPrevented||E(e)},ref:Xe(t,I),target:f,"data-discover":w||"render"!==i?void 0:"true"});return S&&!w?r.createElement(r.Fragment,null,A,r.createElement(We,{page:k})):A}));nt.displayName="Link";var rt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,p=ne(c,{relative:h.relative}),f=X(),g=r.useContext($),{navigator:m,basename:y}=r.useContext(W),v=null!=g&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(j);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=at("useViewTransitionState"),i=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=x(n.currentLocation.pathname,o)||n.currentLocation.pathname,l=x(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=A(i.pathname,l)||null!=A(i.pathname,a)}(p)&&!0===u,b=m.encodeLocation?m.encodeLocation(p).pathname:p.pathname,w=f.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(w=w.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&y&&(C=x(C,y)||C);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,I=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(k),T=null!=C&&(C===b||!a&&C.startsWith(b)&&"/"===C.charAt(b.length)),E={isActive:I,isPending:T,isTransitioning:v},_=I?n:void 0;S="function"===typeof i?i(E):[i,I?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(E):l;return r.createElement(nt,{...h,"aria-current":_,className:S,ref:t,style:P,to:c,viewTransition:u},"function"===typeof d?d(E):d)}));rt.displayName="NavLink";var ot=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:i,reloadDocument:a,replace:l,state:c,method:u=Ce,action:h,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:m,...y}=e,v=ct(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(W),o=r.useContext(Q);s(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a={...ne(e||".",{relative:t})},l=X();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:D([n,a.pathname]));return d(a)}(h,{relative:f}),w="get"===u.toLowerCase()?"get":"post",C="string"===typeof h&&tt.test(h);return r.createElement("form",{ref:t,method:w,action:b,onSubmit:a?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;v(t||e.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:l,state:c,relative:f,preventScrollReset:g,viewTransition:m})},...y,"data-discover":C||"render"!==n?void 0:"true"})}));function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(e){let t=r.useContext(z);return s(t,it(e)),t}ot.displayName="Form";var st=0,lt=()=>`__${String(++st)}__`;function ct(){let{router:e}=at("useSubmit"),{basename:t}=r.useContext(W),n=he("useRouteId");return r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:l,body:c}=Ae(r,t);if(!1===o.navigate){let t=o.fetcherKey||lt();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}new TextEncoder;var ut=n(579);const dt=function(){const e=te();return(0,ut.jsx)("div",{className:"entry-page-wrapper",children:(0,ut.jsxs)("div",{className:"entry-logo-container",children:[(0,ut.jsx)("img",{src:"/images/cloud_logo.png",alt:"Nimbus logo",className:"homepage-logo"}),(0,ut.jsx)("div",{className:"entry-logo-intro",children:(0,ut.jsx)("h2",{children:"Manage tasks effortlessly in the cloud"})}),(0,ut.jsx)("div",{children:(0,ut.jsx)("button",{className:"start-button",onClick:()=>{e("/login")},children:" Get Started "})})]})})},ht={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},pt=400,ft=499,gt=500,mt=599,yt=[ht.OPENID_SCOPE,ht.PROFILE_SCOPE,ht.OFFLINE_ACCESS_SCOPE],vt=[...yt,ht.EMAIL_SCOPE],bt="Content-Type",wt="Content-Length",Ct="Retry-After",kt="X-AnchorMailbox",St="x-ms-request-id",It="x-ms-httpver",Tt="active-account-filters",Et="common",At="organizations",_t="consumers",Pt="access_token",xt="xms_cc",Rt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Ot={PLAIN:"plain",S256:"S256"},Nt="code",Mt="id_token token refresh_token",Dt="query",Lt="fragment",Bt="query",Ft="authorization_code",qt="refresh_token",Ht="MSSTS",Ut="ADFS",zt="Generic",$t="-",jt=".",Gt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Kt="appmetadata",Wt="1",Vt="authority-metadata",Qt=86400,Yt="config",Jt="cache",Xt="network",Zt="hardcoded_values",en={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},tn={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},nn=60,rn=3600,on="throttling",an="retry-after, h429",sn="invalid_grant",ln="client_mismatch",cn=200,un=400,dn="1",hn="3",pn="4",fn="2",gn="4",mn="5",yn="0",vn="1",bn="2",wn="3",Cn="4",kn="pop";var Sn;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(Sn||(Sn={}));class In{constructor(e,t,n){this.level=Sn.Info;const r=e||In.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:Sn.Info,this.correlationId=r.correlationId||ht.EMPTY_STRING,this.packageName=t||ht.EMPTY_STRING,this.packageVersion=n||ht.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Sn.Info}}clone(e,t,n){return new In({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Sn[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:Sn.Error,containsPii:!1,correlationId:t||ht.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Sn.Error,containsPii:!0,correlationId:t||ht.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Sn.Warning,containsPii:!1,correlationId:t||ht.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Sn.Warning,containsPii:!0,correlationId:t||ht.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Sn.Info,containsPii:!1,correlationId:t||ht.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Sn.Info,containsPii:!0,correlationId:t||ht.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Sn.Verbose,containsPii:!1,correlationId:t||ht.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Sn.Verbose,containsPii:!0,correlationId:t||ht.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Sn.Trace,containsPii:!1,correlationId:t||ht.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Sn.Trace,containsPii:!0,correlationId:t||ht.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Tn="AAD",En="OIDC",An="EAR",_n="none",Pn="unexpected_error",xn="post_request_failed",Rn={[Pn]:"Unexpected error in authentication.",[xn]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class On extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,On.prototype),this.errorCode=e||ht.EMPTY_STRING,this.errorMessage=t||ht.EMPTY_STRING,this.subError=n||ht.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Nn(e,t){return new On(e,t?`${Rn[e]} ${t}`:Rn[e])}const Mn="client_info_decoding_error",Dn="client_info_empty_error",Ln="token_parsing_error",Bn="null_or_empty_token",Fn="endpoints_resolution_error",qn="network_error",Hn="openid_config_error",Un="hash_not_deserialized",zn="invalid_state",$n="state_mismatch",jn="state_not_found",Gn="nonce_mismatch",Kn="auth_time_not_found",Wn="max_age_transpired",Vn="multiple_matching_tokens",Qn="multiple_matching_accounts",Yn="multiple_matching_appMetadata",Jn="request_cannot_be_made",Xn="cannot_remove_empty_scope",Zn="cannot_append_scopeset",er="empty_input_scopeset",tr="device_code_polling_cancelled",nr="device_code_expired",rr="device_code_unknown_error",or="no_account_in_silent_request",ir="invalid_cache_record",ar="invalid_cache_environment",sr="no_account_found",lr="no_crypto_object",cr="unexpected_credential_type",ur="invalid_assertion",dr="invalid_client_credential",hr="token_refresh_required",pr="user_timeout_reached",fr="token_claims_cnf_required_for_signedjwt",gr="authorization_code_missing_from_server_response",mr="binding_key_not_removed",yr="end_session_endpoint_not_supported",vr="key_id_missing",br="no_network_connectivity",wr="user_canceled",Cr="missing_tenant_id_error",kr="method_not_implemented",Sr="nested_app_auth_bridge_disabled",Ir={[Mn]:"The client info could not be parsed/decoded correctly",[Dn]:"The client info was empty",[Ln]:"Token cannot be parsed",[Bn]:"The token is null or empty",[Fn]:"Endpoints cannot be resolved",[qn]:"Network request failed",[Hn]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Un]:"The hash parameters could not be deserialized",[zn]:"State was not the expected format",[$n]:"State mismatch error",[jn]:"State not found",[Gn]:"Nonce mismatch error",[Kn]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Wn]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Vn]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Qn]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Yn]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Jn]:"Token request cannot be made without authorization code or refresh token.",[Xn]:"Cannot remove null or empty scope from ScopeSet",[Zn]:"Cannot append ScopeSet",[er]:"Empty input ScopeSet cannot be processed",[tr]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[nr]:"Device code is expired.",[rr]:"Device code stopped polling for unknown reasons.",[or]:"Please pass an account object, silent flow is not supported without account information",[ir]:"Cache record object was null or undefined.",[ar]:"Invalid environment when attempting to create cache entry",[sr]:"No account found in cache for given key.",[lr]:"No crypto object detected.",[cr]:"Unexpected credential type.",[ur]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[dr]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[hr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[pr]:"User defined timeout for device code polling reached",[fr]:"Cannot generate a POP jwt if the token_claims are not populated",[gr]:"Server response does not contain an authorization code to proceed",[mr]:"Could not remove the credential's binding key from storage.",[yr]:"The provided authority does not support logout",[vr]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[br]:"No network connectivity. Check your internet connection.",[wr]:"User cancelled the flow.",[Cr]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[kr]:"This method has not been implemented",[Sr]:"The nested app auth bridge is disabled"};class Tr extends On{constructor(e,t){super(e,t?`${Ir[e]}: ${t}`:Ir[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Tr.prototype)}}function Er(e,t){return new Tr(e,t)}const Ar={createNewGuid:()=>{throw Er(kr)},base64Decode:()=>{throw Er(kr)},base64Encode:()=>{throw Er(kr)},base64UrlEncode:()=>{throw Er(kr)},encodeKid:()=>{throw Er(kr)},async getPublicKeyThumbprint(){throw Er(kr)},async removeTokenBindingKey(){throw Er(kr)},async clearKeystore(){throw Er(kr)},async signJwt(){throw Er(kr)},async hashString(){throw Er(kr)}},_r="@azure/msal-common",Pr="15.5.1";function xr(e,t){const n=function(e){if(!e)throw Er(Bn);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Er(Ln);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw Er(Ln)}}function Rr(e,t){if(0===t||Date.now()-3e5>e+t)throw Er(Wn)}function Or(){return Math.round((new Date).getTime()/1e3)}function Nr(e){return e.getTime()/1e3}function Mr(e){return e?new Date(1e3*Number(e)):new Date}function Dr(e,t){const n=Number(e)||0;return Or()+t>n}function Lr(e){return[Ur(e),zr(e),$r(e),jr(e),Gr(e)].join($t).toLowerCase()}function Br(e,t,n,r,o){return{credentialType:Gt.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function Fr(e,t,n,r,o,i,a,s,l,c,u,d,h,p,f){const g={homeAccountId:e,credentialType:Gt.ACCESS_TOKEN,secret:n,cachedAt:Or().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||tn.BEARER};if(d&&(g.userAssertionHash=d),c&&(g.refreshOn=c.toString()),p&&(g.requestedClaims=p,g.requestedClaimsHash=f),g.tokenType?.toLowerCase()!==tn.BEARER.toLowerCase())switch(g.credentialType=Gt.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case tn.POP:const e=xr(n,l);if(!e?.cnf?.kid)throw Er(fr);g.keyId=e.cnf.kid;break;case tn.SSH:g.keyId=h}return g}function qr(e,t,n,r,o,i,a){const s={credentialType:Gt.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(s.userAssertionHash=i),o&&(s.familyId=o),a&&(s.expiresOn=a.toString()),s}function Hr(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Ur(e){return[e.homeAccountId,e.environment].join($t).toLowerCase()}function zr(e){const t=e.credentialType===Gt.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join($t).toLowerCase()}function $r(e){return(e.target||"").toLowerCase()}function jr(e){return(e.requestedClaimsHash||"").toLowerCase()}function Gr(e){return e.tokenType&&e.tokenType.toLowerCase()!==tn.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Kr(){return Or()+Qt}function Wr(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Vr(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function Qr(e){return e.expiresAt<=Or()}const Yr="redirect_uri_empty",Jr="claims_request_parsing_error",Xr="authority_uri_insecure",Zr="url_parse_error",eo="empty_url_error",to="empty_input_scopes_error",no="invalid_prompt_value",ro="invalid_claims",oo="token_request_empty",io="logout_request_empty",ao="invalid_code_challenge_method",so="pkce_params_missing",lo="invalid_cloud_discovery_metadata",co="invalid_authority_metadata",uo="untrusted_authority",ho="missing_ssh_jwk",po="missing_ssh_kid",fo="missing_nonce_authentication_header",go="invalid_authentication_header",mo="cannot_set_OIDCOptions",yo="cannot_allow_platform_broker",vo="authority_mismatch",bo={[Yr]:"A redirect URI is required for all calls, and none has been set.",[Jr]:"Could not parse the given claims request object.",[Xr]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Zr]:"URL could not be parsed into appropriate segments.",[eo]:"URL was empty or null.",[to]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[no]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[ro]:"Given claims parameter must be a stringified JSON object.",[oo]:"Token request was empty and not found in cache.",[io]:"The logout request was null or undefined.",[ao]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[so]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[lo]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[co]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[uo]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[ho]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[po]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[fo]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[go]:"Invalid authentication header provided",[mo]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[yo]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[vo]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class wo extends On{constructor(e){super(e,bo[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,wo.prototype)}}function Co(e){return new wo(e)}class ko{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(db){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(db){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class So{constructor(e){const t=e?ko.trimArrayEntries([...e]):[],n=t?ko.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw Co(to);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||ht.EMPTY_STRING).split(" ");return new So(t)}static createSearchScopes(e){const t=new So(e);return t.containsOnlyOIDCScopes()?t.removeScope(ht.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new So(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return vt.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(db){throw Er(Zn)}}removeScope(e){if(!e)throw Er(Xn);this.scopes.delete(e.trim())}removeOIDCScopes(){vt.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw Er(er);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw Er(er);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return ht.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function Io(e,t){if(!e)throw Er(Dn);try{const n=t(e);return JSON.parse(n)}catch(db){throw Er(Mn)}}function To(e){if(!e)throw Er(Mn);const t=e.split(jt,2);return{uid:t[0],utid:t.length<2?ht.EMPTY_STRING:t[1]}}function Eo(e,t){return!!e&&!!t&&e===t.split(".")[1]}function Ao(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:a,acr:s}=r,l=o||a||s||"";return{tenantId:l,localAccountId:t||n||"",name:i,isHomeTenant:Eo(l,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:Eo(n,e)}}function _o(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...i}=Ao(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...i,idTokenClaims:n,idToken:r},o}return o}const Po=0,xo=1,Ro=2,Oo=3;function No(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class Mo{generateAccountId(){return[this.homeAccountId,this.environment].join($t).toLowerCase()}generateAccountKey(){return Mo.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join($t).toLowerCase()}static createAccount(e,t,n){const r=new Mo;let o;t.authorityType===xo?r.authorityType=Ut:t.protocolMode===En?r.authorityType=zt:r.authorityType=Ht,e.clientInfo&&n&&(o=Io(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const i=e.environment||t&&t.getPreferredCache();if(!i)throw Er(ar);r.environment=i,r.realm=o?.utid||No(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,s=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=a||s||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=Ao(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new Mo;return r.authorityType=e.authorityType||zt,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==xo&&t!==Ro){if(e)try{const t=Io(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(db){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function Do(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Lo(e){if(!e||e.indexOf("=")<0)return null;try{const t=Do(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(db){throw Er(Un)}return null}function Bo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach(((e,o)=>{!t&&n&&o in n?r.push(`${o}=${e}`):r.push(`${o}=${encodeURIComponent(e)}`)})),r.join("&")}class Fo{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Co(eo);e.includes("#")||(this._urlString=Fo.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return ko.endsWith(t,"?")?t=t.slice(0,-1):ko.endsWith(t,"?/")&&(t=t.slice(0,-2)),ko.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(db){throw Co(Zr)}if(!e.HostNameAndPort||!e.PathSegments)throw Co(Zr);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Co(Xr)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Fo.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==Et&&n[0]!==At||(n[0]=e),Fo.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Co(Zr);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw Co(Zr);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===ht.FORWARD_SLASH){const n=new Fo(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Fo(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Lo(e)}}const qo={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Ho={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Uo=new Set;function zo(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=$o(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function $o(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}Ho.metadata.forEach((e=>{e.aliases.forEach((e=>{Uo.add(e)}))}));const jo="cache_quota_exceeded",Go="cache_error_unknown",Ko={[jo]:"Exceeded cache storage capacity.",[Go]:"Unexpected error occurred when using cache storage."};class Wo extends Error{constructor(e,t){const n=t||(Ko[e]?Ko[e]:Ko[Go]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Wo.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class Vo{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(_r,Pr),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,i=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const a=this.getIdToken(e,t,n.tenantId);return a&&(o=xr(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(i=_o(e,n,o,a?.secret),i)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const i=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const a=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,i,e,n);t&&a.push(t)})),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw Er(ir);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(db){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),db instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${db.message}`,t),"QuotaExceededError"===db.name||"NS_ERROR_DOM_QUOTA_REACHED"===db.name||db.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new Wo(jo)):new Wo(db.name,db.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${db}`,t),new Wo(Go))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=So.fromString(e.target),i=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){So.fromString(t.target).intersectingScopeSets(o)&&i.push(this.removeAccessToken(e))}})),await Promise.all(i),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},i=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));i&&0===i.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split($t).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split($t).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(Gt.ID_TOKEN.toLowerCase())&&-1===t.indexOf(Gt.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(Gt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(Gt.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(Gt.REFRESH_TOKEN.toLowerCase())>-1){const e=`${Gt.REFRESH_TOKEN}${$t}${this.clientId}${$t}`,n=`${Gt.REFRESH_TOKEN}${$t}${Wt}${$t}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===Gt.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===tn.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===Gt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===tn.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw Er(mr)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=Mo.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Gt.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(i,t),s=a.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=a;if(!n){const n=new Map;a.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,i){this.commonLogger.trace("CacheManager - getAccessToken called");const a=So.createSearchScopes(t.scopes),s=t.authenticationScheme||tn.BEARER,l=s&&s.toLowerCase()!==tn.BEARER.toLowerCase()?Gt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Gt.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(Lr(e))})),o&&i&&o.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?Wt:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Gt.REFRESH_TOKEN,clientId:this.clientId,familyId:i},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,a)&&l.push(t)}}));const c=l.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&r&&o&&r.addFields({multiMatchedRT:c},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw Er(Yn);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==Wt)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new Fo(r).getUrlComponents().HostNameAndPort;n=zo(o,e.cloudDiscoveryMetadata?.metadata,Yt,t)||zo(o,Ho.metadata,Zt,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==Gt.ACCESS_TOKEN&&e.credentialType!==Gt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return So.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(Kt)}isAuthorityMetadata(e){return-1!==e.indexOf(Vt)}generateAuthorityMetadataCacheKey(e){return`${Vt}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Qo extends Vo{async setAccount(){throw Er(kr)}getAccount(){throw Er(kr)}async setIdTokenCredential(){throw Er(kr)}getIdTokenCredential(){throw Er(kr)}async setAccessTokenCredential(){throw Er(kr)}getAccessTokenCredential(){throw Er(kr)}async setRefreshTokenCredential(){throw Er(kr)}getRefreshTokenCredential(){throw Er(kr)}setAppMetadata(){throw Er(kr)}getAppMetadata(){throw Er(kr)}setServerTelemetry(){throw Er(kr)}getServerTelemetry(){throw Er(kr)}setAuthorityMetadata(){throw Er(kr)}getAuthorityMetadata(){throw Er(kr)}getAuthorityMetadataKeys(){throw Er(kr)}setThrottlingCache(){throw Er(kr)}getThrottlingCache(){throw Er(kr)}removeItem(){throw Er(kr)}getKeys(){throw Er(kr)}getAccountKeys(){throw Er(kr)}getTokenKeys(){throw Er(kr)}}const Yo={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Jo={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Sn.Info,correlationId:ht.EMPTY_STRING},Xo={claimsBasedCachingEnabled:!1},Zo={async sendGetRequestAsync(){throw Er(kr)},async sendPostRequestAsync(){throw Er(kr)}},ei={sku:ht.SKU,version:Pr,cpu:ht.EMPTY_STRING,os:ht.EMPTY_STRING},ti={clientSecret:ht.EMPTY_STRING,clientAssertion:void 0},ni={azureCloudInstance:_n,tenant:`${ht.DEFAULT_COMMON_TENANT}`},ri={application:{appName:"",appVersion:""}};function oi(e){return e.authOptions.authority.options.protocolMode===En}const ii={sendGetRequestAsync:()=>Promise.reject(Er(kr)),sendPostRequestAsync:()=>Promise.reject(Er(kr))},ai="acquireTokenByCode",si="acquireTokenByRefreshToken",li="acquireTokenSilent",ci="acquireTokenSilentAsync",ui="acquireTokenPopup",di="acquireTokenPreRedirect",hi="acquireTokenRedirect",pi="cryptoOptsGetPublicKeyThumbprint",fi="cryptoOptsSignJwt",gi="silentCacheClientAcquireToken",mi="silentIframeClientAcquireToken",yi="awaitConcurrentIframe",vi="silentRefreshClientAcquireToken",bi="ssoSilent",wi="standardInteractionClientGetDiscoveredAuthority",Ci="nativeInteractionClientAcquireToken",ki="networkClientSendPostRequestAsync",Si="refreshTokenClientExecutePostToTokenEndpoint",Ii="authorizationCodeClientExecutePostToTokenEndpoint",Ti="refreshTokenClientExecuteTokenRequest",Ei="refreshTokenClientAcquireToken",Ai="refreshTokenClientAcquireTokenWithCachedRefreshToken",_i="refreshTokenClientAcquireTokenByRefreshToken",Pi="refreshTokenClientCreateTokenRequestBody",xi="acquireTokenFromCache",Ri="silentFlowClientAcquireCachedToken",Oi="silentFlowClientGenerateResultFromCacheRecord",Ni="acquireTokenBySilentIframe",Mi="initializeBaseRequest",Di="initializeSilentRequest",Li="initializeClientApplication",Bi="initializeCache",Fi="silentIframeClientTokenHelper",qi="silentHandlerInitiateAuthRequest",Hi="silentHandlerMonitorIframeForHash",Ui="silentHandlerLoadFrame",zi="silentHandlerLoadFrameSync",$i="standardInteractionClientCreateAuthCodeClient",ji="standardInteractionClientGetClientConfiguration",Gi="standardInteractionClientInitializeAuthorizationRequest",Ki="getAuthCodeUrl",Wi="getStandardParams",Vi="handleCodeResponseFromServer",Qi="handleCodeResponse",Yi="handleResponseEar",Ji="handleResponsePlatformBroker",Xi="handleResponseCode",Zi="updateTokenEndpointAuthority",ea="authClientAcquireToken",ta="authClientExecuteTokenRequest",na="authClientCreateTokenRequestBody",ra="popTokenGenerateCnf",oa="popTokenGenerateKid",ia="handleServerTokenResponse",aa="deserializeResponse",sa="authorityFactoryCreateDiscoveredInstance",la="authorityResolveEndpointsAsync",ca="authorityGetCloudDiscoveryMetadataFromNetwork",ua="authorityUpdateCloudDiscoveryMetadata",da="authorityGetEndpointMetadataFromNetwork",ha="authorityUpdateEndpointMetadata",pa="authorityUpdateMetadataWithRegionalInformation",fa="regionDiscoveryDetectRegion",ga="regionDiscoveryGetRegionFromIMDS",ma="regionDiscoveryGetCurrentVersion",ya="acquireTokenByCodeAsync",va="handleRedirectPromise",ba="handleNativeRedirectPromise",wa="nativeMessageHandlerHandshake",Ca="removeHiddenIframe",ka="clearTokensAndKeysWithClaims",Sa="cacheManagerGetRefreshToken",Ia="importExistingCache",Ta="setUserData",Ea="localStorageUpdated",Aa="generatePkceCodes",_a="generateCodeVerifier",Pa="generateCodeChallengeFromVerifier",xa="sha256Digest",Ra="getRandomValues",Oa="generateHKDF",Na="generateBaseKey",Ma="base64Decode",Da="urlEncodeArr",La="encrypt",Ba="decrypt",Fa="generateEarKey",qa="decryptEarResponse",Ha=(new Map([[ai,"ATByCode"],[si,"ATByRT"],[li,"ATS"],[ci,"ATSAsync"],[ui,"ATPopup"],[hi,"ATRedirect"],[pi,"CryptoGetPKThumb"],[fi,"CryptoSignJwt"],[gi,"SltCacheClientAT"],[mi,"SltIframeClientAT"],[vi,"SltRClientAT"],[bi,"SsoSlt"],[wi,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[Ci,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[ki,"NetClientSendPost"],[Si,"RTClientExecPost"],[Ii,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[Ti,"RTClientExecTReq"],[Ei,"RTClientAT"],[Ai,"RTClientATWithCachedRT"],[_i,"RTClientATByRT"],[Pi,"RTClientCreateTReqBody"],[xi,"ATFromCache"],[Ri,"SltFlowClientATCached"],[Oi,"SltFlowClientGenResFromCache"],[Ni,"ATBySltIframe"],[Mi,"InitBaseReq"],[Di,"InitSltReq"],[Li,"InitClientApplication"],[Bi,"InitCache"],[Ia,"importCache"],[Ta,"setUserData"],[Ea,"localStorageUpdated"],[Fi,"SIClientTHelper"],[qi,"SHandlerInitAuthReq"],[Hi,"SltHandlerMonitorIframeForHash"],[Ui,"SHandlerLoadFrame"],[zi,"SHandlerLoadFrameSync"],[$i,"StdIntClientCreateAuthCodeClient"],[ji,"StdIntClientGetClientConf"],[Gi,"StdIntClientInitAuthReq"],[Ki,"GetAuthCodeUrl"],[Vi,"HandleCodeResFromServer"],[Qi,"HandleCodeResp"],[Yi,"HandleRespEar"],[Xi,"HandleRespCode"],[Ji,"HandleRespPlatBroker"],[Zi,"UpdTEndpointAuth"],[ea,"AuthClientAT"],[ta,"AuthClientExecTReq"],[na,"AuthClientCreateTReqBody"],[ra,"PopTGenCnf"],[oa,"PopTGenKid"],[ia,"HandleServerTRes"],[aa,"DeserializeRes"],[sa,"AuthFactCreateDiscInst"],[la,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[ca,"AuthGetCDMetaFromNet"],[ua,"AuthUpdCDMeta"],[da,"AuthUpdCDMetaFromNet"],[ha,"AuthUpdEndpointMeta"],[pa,"AuthUpdMetaWithRegInfo"],[fa,"RegDiscDetectReg"],[ga,"RegDiscGetRegFromIMDS"],[ma,"RegDiscGetCurrentVer"],[ya,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[va,"HandleRedirectPromise"],[ba,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[wa,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[Ca,"RemoveHiddenIframe"],[ka,"ClearTAndKeysWithClaims"],[Sa,"CacheManagerGetRT"],[Aa,"GenPkceCodes"],[_a,"GenCodeVerifier"],[Pa,"GenCodeChallengeFromVerifier"],[xa,"Sha256Digest"],[Ra,"GetRandomValues"],[Oa,"genHKDF"],[Na,"genBaseKey"],[Ma,"b64Decode"],[Da,"urlEncArr"],[La,"encrypt"],[Ba,"decrypt"],[Fa,"genEarKey"],[qa,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Ua{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class za{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Ha,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Ua}}startPerformanceMeasurement(){return new Ua}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const $a="invalid_grant",ja=483,Ga=600,Ka="msal",Wa=30,Va="msal.js.browser",Qa="53ee284d-920a-4b59-9d30-a60315b26836",Ya="ppnbnpeolgkicgegkbkbjmhlideopiji",Ja="MATS",Xa="Handshake",Za="HandshakeResponse",es="GetToken",ts="Response",ns="localStorage",rs="sessionStorage",os="memoryStorage",is="GET",as="POST",ss="signin",ls="signout",cs="request.origin",us="urlHash",ds="request.params",hs="code.verifier",ps="interaction.status",fs="request.native",gs="msal.account.keys",ms="msal.token.keys",ys="wrapper.sku",vs="wrapper.version",bs=861,ws=862,Cs=863,ks=865,Ss=866,Is=61,Ts=961,Es=962;var As;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(As||(As={}));const _s={scopes:yt},Ps="msal.db",xs=`${Ps}.keys`,Rs=0,Os=1,Ns=2,Ms=3,Ds=4,Ls=5,Bs=[Rs,Ls,Ds];class Fs{navigateInternal(e,t){return Fs.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Fs.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class qs extends On{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,qs.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Hs(e,t,n){return new qs(e,t,n)}const Us="pkce_not_created",zs="ear_jwk_empty",$s="ear_jwe_empty",js="crypto_nonexistent",Gs="empty_navigate_uri",Ks="hash_empty_error",Ws="no_state_in_hash",Vs="hash_does_not_contain_known_properties",Qs="unable_to_parse_state",Ys="state_interaction_type_mismatch",Js="interaction_in_progress",Xs="popup_window_error",Zs="empty_window_error",el="user_cancelled",tl="monitor_popup_timeout",nl="monitor_window_timeout",rl="redirect_in_iframe",ol="block_iframe_reload",il="block_nested_popups",al="iframe_closed_prematurely",sl="silent_logout_unsupported",ll="no_account_error",cl="silent_prompt_value_error",ul="no_token_request_cache_error",dl="unable_to_parse_token_request_cache_error",hl="auth_request_not_set_error",pl="invalid_cache_type",fl="non_browser_environment",gl="database_not_open",ml="no_network_connectivity",yl="post_request_failed",vl="get_request_failed",bl="failed_to_parse_response",wl="unable_to_load_token",Cl="crypto_key_not_found",kl="auth_code_required",Sl="auth_code_or_nativeAccountId_required",Il="spa_code_and_nativeAccountId_present",Tl="database_unavailable",El="unable_to_acquire_token_from_native_platform",Al="native_handshake_timeout",_l="native_extension_not_installed",Pl="native_connection_not_established",xl="uninitialized_public_client_application",Rl="native_prompt_not_supported",Ol="invalid_base64_string",Nl="invalid_pop_token_request",Ml="failed_to_build_headers",Dl="failed_to_parse_headers",Ll="failed_to_decrypt_ear_response",Bl="For more visit: aka.ms/msaljs/browser-errors",Fl={[Us]:"The PKCE code challenge and verifier could not be generated.",[zs]:"No EAR encryption key provided. This is unexpected.",[$s]:"Server response does not contain ear_jwe property. This is unexpected.",[js]:"The crypto object or function is not available.",[Gs]:"Navigation URI is empty. Please check stack trace for more info.",[Ks]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Bl}`,[Ws]:"Hash does not contain state. Please verify that the request originated from msal.",[Vs]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Bl}`,[Qs]:"Unable to parse state. Please verify that the request originated from msal.",[Ys]:"Hash contains state but the interaction type does not match the caller.",[Js]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Bl}`,[Xs]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Zs]:"window.open returned null or undefined window object.",[el]:"User cancelled the flow.",[tl]:`Token acquisition in popup failed due to timeout.  ${Bl}`,[nl]:`Token acquisition in iframe failed due to timeout.  ${Bl}`,[rl]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[ol]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Bl}`,[il]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[al]:"The iframe being monitored was closed prematurely.",[sl]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[ll]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[cl]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[ul]:"No token request found in cache.",[dl]:"The cached token request could not be parsed.",[hl]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[pl]:"Invalid cache type",[fl]:"Login and token requests are not supported in non-browser environments.",[gl]:"Database is not open!",[ml]:"No network connectivity. Check your internet connection.",[yl]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[vl]:"Network request failed. Please check the network trace to determine root cause.",[bl]:"Failed to parse network response. Check network trace.",[wl]:"Error loading token to cache.",[Cl]:"Cryptographic Key or Keypair not found in browser storage.",[kl]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Sl]:"An authorization code or nativeAccountId must be provided to this flow.",[Il]:"Request cannot contain both spa code and native account id.",[Tl]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[El]:`Unable to acquire token from native platform.  ${Bl}`,[Al]:"Timed out while attempting to establish connection to browser extension",[_l]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Pl]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Bl}`,[xl]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Bl}`,[Rl]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ol]:"Invalid base64 encoded string.",[Nl]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Ml]:"Failed to build request headers object.",[Dl]:"Failed to parse response headers",[Ll]:"Failed to decrypt ear response"};class ql extends On{constructor(e,t){super(e,Fl[e],t),Object.setPrototypeOf(this,ql.prototype),this.name="BrowserAuthError"}}function Hl(e,t){return new ql(e,t)}class Ul{async sendGetRequestAsync(e,t){let n,r={},o=0;const i=zl(t);try{n=await fetch(e,{method:is,headers:i})}catch(db){throw Hl(window.navigator.onLine?vl:ml)}r=$l(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(db){throw Hs(Hl(bl),o,r)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=zl(t);let o,i=0,a={};try{o=await fetch(e,{method:as,headers:r,body:n})}catch(db){throw Hl(window.navigator.onLine?yl:ml)}a=$l(o.headers);try{return i=o.status,{headers:a,body:await o.json(),status:i}}catch(db){throw Hs(Hl(bl),i,a)}}}function zl(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(db){throw Hl(Ml)}}function $l(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(db){throw Hl(Dl)}}function jl(e){return encodeURIComponent(Kl(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Gl(e){return Wl(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kl(e){return Wl((new TextEncoder).encode(e))}function Wl(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function Vl(e){return(new TextDecoder).decode(Ql(e))}function Ql(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Hl(Ol)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const Yl="AES-GCM",Jl="HKDF",Xl="SHA-256",Zl=new Uint8Array([1,0,1]),ec="0123456789abcdef",tc=new Uint32Array(1),nc="raw",rc="encrypt",oc="decrypt",ic={name:"RSASSA-PKCS1-v1_5",hash:Xl,modulusLength:2048,publicExponent:Zl};async function ac(e,t,n){t?.addQueueMeasurement(xa,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Xl,r)}function sc(e){return window.crypto.getRandomValues(e)}function lc(){return window.crypto.getRandomValues(tc),tc[0]}function cc(){const e=Date.now(),t=1024*lc()+(1023&lc()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=lc();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let s=0;s<n.length;s++)a+=ec.charAt(n[s]>>>4),a+=ec.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(a+="-");return a}async function uc(e){return window.crypto.subtle.exportKey("jwk",e)}async function dc(){const e=await pc(),t={alg:"dir",kty:"oct",k:Gl(new Uint8Array(e))};return Kl(JSON.stringify(t))}async function hc(e,t){const n=t.split(".");if(5!==n.length)throw Hl(Ll,"jwe_length");const r=await async function(e){const t=Vl(e),n=Ql(JSON.parse(t).k);return window.crypto.subtle.importKey(nc,n,Yl,!1,[oc])}(e).catch((()=>{throw Hl(Ll,"import_key")}));try{const e=(new TextEncoder).encode(n[0]),t=Ql(n[2]),o=Ql(n[3]),i=Ql(n[4]),a=8*i.byteLength,s=new Uint8Array(o.length+i.length);s.set(o),s.set(i,o.length);const l=await window.crypto.subtle.decrypt({name:Yl,iv:t,tagLength:a,additionalData:e},r,s);return(new TextDecoder).decode(l)}catch(db){throw Hl(Ll,"decrypt")}}async function pc(){const e=await window.crypto.subtle.generateKey({name:Yl,length:256},!0,[rc,oc]);return window.crypto.subtle.exportKey(nc,e)}async function fc(e){return window.crypto.subtle.importKey(nc,e,Jl,!1,["deriveKey"])}async function gc(e,t,n){return window.crypto.subtle.deriveKey({name:Jl,salt:t,hash:Xl,info:(new TextEncoder).encode(n)},e,{name:Yl,length:256},!1,[rc,oc])}async function mc(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await gc(e,o,n),a=await window.crypto.subtle.encrypt({name:Yl,iv:new Uint8Array(12)},i,r);return{data:Gl(new Uint8Array(a)),nonce:Gl(o)}}async function yc(e,t,n,r){const o=Ql(r),i=await gc(e,Ql(t),n),a=await window.crypto.subtle.decrypt({name:Yl,iv:new Uint8Array(12)},i,o);return(new TextDecoder).decode(a)}async function vc(e){const t=await ac(e);return Gl(new Uint8Array(t))}const bc="storage_not_supported",wc="stubbed_public_client_application_called",Cc="in_mem_redirect_unavailable",kc={[bc]:"Given storage configuration option was not supported.",[wc]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Cc]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Sc extends On{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Sc.prototype)}}function Ic(e){return new Sc(e,kc[e])}function Tc(){return window.parent!==window}function Ec(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Ac(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${Ka}.`))throw Hl(il)}function _c(){if("undefined"===typeof window)throw Hl(fl)}function Pc(e){if(!e)throw Hl(xl)}function xc(e){_c(),function(){if(Fo.hashContainsKnownProperties(window.location.hash)&&Tc())throw Hl(ol)}(),Ac(),Pc(e)}function Rc(e,t){if(xc(e),function(e){if(Tc()&&!e)throw Hl(rl)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===os&&!t.cache.storeAuthStateInCookie)throw Ic(Cc)}function Oc(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const Nc=1e4;const Mc="4.11.0";class Dc{static loggerCallback(e,t){switch(e){case Sn.Error:return void console.error(t);case Sn.Info:return void console.info(t);case Sn.Verbose:return void console.debug(t);case Sn.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:i}=e;const a={clientId:ht.EMPTY_STRING,authority:`${ht.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:ht.EMPTY_STRING,authorityMetadata:ht.EMPTY_STRING,redirectUri:"undefined"!==typeof window?Ec():"",postLogoutRedirectUri:ht.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Tn,OIDCOptions:{serverResponseType:Lt,defaultScopes:[ht.OPENID_SCOPE,ht.PROFILE_SCOPE,ht.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:_n,tenant:ht.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:rs,temporaryCacheLocation:rs,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==ns),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:Sn.Info,piiLoggingEnabled:!1},c={...{...Yo,loggerOptions:l,networkClient:t?new Ul:ii,navigationClient:new Fs,loadFrameTimeout:0,windowHashTimeout:o?.loadFrameTimeout||6e4,iframeHashTimeout:o?.loadFrameTimeout||Nc,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:o?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:Wa},...o,loggerOptions:o?.loggerOptions||l},u={application:{appName:ht.EMPTY_STRING,appVersion:ht.EMPTY_STRING},client:new za};n?.protocolMode!==En&&n?.OIDCOptions&&new In(c.loggerOptions).warning(JSON.stringify(Co(mo)));if(n?.protocolMode&&n.protocolMode===En&&c?.allowPlatformBroker)throw Co(yo);return{auth:{...a,...n,OIDCOptions:{...a.OIDCOptions,...n?.OIDCOptions}},cache:{...s,...r},system:c,telemetry:{...u,...i}}}(e,this.browserEnvironment);try{t=window[rs]}catch(db){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,i={...this.config.system.loggerOptions},a=n&&Object.keys(Sn).includes(n)?Sn[n]:void 0;a&&(i.loggerCallback=Dc.loggerCallback,i.logLevel=a),void 0!==o&&(i.piiLoggingEnabled=o),this.logger=new In(i,"@azure/msal-browser",Mc),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Lc extends Dc{getModuleName(){return Lc.MODULE_NAME}getId(){return Lc.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Lc.MODULE_NAME="",Lc.ID="StandardOperatingContext";const Bc="missing_kid_error",Fc="missing_alg_error",qc={[Bc]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Fc]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Hc extends On{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Hc.prototype)}}function Uc(e){return new Hc(e,qc[e])}class zc{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Uc(Bc);if(!e.alg)throw Uc(Fc);const t=new zc({typ:e.typ||kn,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class $c{constructor(){this.dbName=Ps,this.version=1,this.tableName=xs,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(Hl(Tl))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Hl(gl));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(Hl(gl));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Hl(gl));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(Hl(gl));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Hl(gl));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(Ps),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class jc{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Gc{constructor(e){this.inMemoryCache=new jc,this.indexedDBCache=new $c,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof ql&&e.errorCode===Tl))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(db){this.handleDatabaseAccessError(db)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(db){this.handleDatabaseAccessError(db)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(db){this.handleDatabaseAccessError(db)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(db){this.handleDatabaseAccessError(db)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(db){this.handleDatabaseAccessError(db)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(db){return this.handleDatabaseAccessError(db),!1}}}class Kc{constructor(e,t,n){this.logger=e,function(e){if(!window)throw Hl(fl);if(!window.crypto)throw Hl(js);if(!e&&!window.crypto.subtle)throw Hl(js,"crypto_subtle_undefined")}(n??!1),this.cache=new Gc(this.logger),this.performanceClient=t}createNewGuid(){return cc()}base64Encode(e){return Kl(e)}base64Decode(e){return Vl(e)}base64UrlEncode(e){return jl(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(pi,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(ic,e,t)}(Kc.EXTRACTABLE,Kc.POP_KEY_USAGES),r=await uc(n.publicKey),o=Wc({e:r.e,kty:r.kty,n:r.n}),i=await this.hashString(o),a=await uc(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,ic,t,n)}(a,!1,["sign"]);return await this.cache.setItem(i,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(db){return db instanceof Error?this.logger.error(`Clearing keystore failed with error: ${db.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(fi,r),i=await this.cache.getItem(t);if(!i)throw Hl(Cl);const a=await uc(i.publicKey),s=Wc(a),l=jl(JSON.stringify({kid:t})),c=jl(zc.getShrHeaderString({...n?.header,alg:a.alg,kid:l}));e.cnf={jwk:JSON.parse(s)};const u=`${c}.${jl(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(ic,e,t)}(i.privateKey,d),p=`${u}.${Gl(new Uint8Array(h))}`;return o&&o.end({success:!0}),p}async hashString(e){return vc(e)}}function Wc(e){return JSON.stringify(e,Object.keys(e).sort())}Kc.POP_KEY_USAGES=["sign","verify"],Kc.EXTRACTABLE=!0;const Vc=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...arguments);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(db){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(db))}catch(db){n.trace("Unable to print error message.")}throw i?.end({success:!1},db),db}},Qc=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1},e),e}))};class Yc{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(fa,this.correlationId);let n=e;if(n)t.region_source=hn;else{const e=Yc.IMDS_OPTIONS;try{const r=await Qc(this.getRegionFromIMDS.bind(this),ga,this.logger,this.performanceClient,this.correlationId)(ht.IMDS_VERSION,e);if(r.status===cn&&(n=r.body,t.region_source=pn),r.status===un){const r=await Qc(this.getCurrentVersion.bind(this),ma,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=dn,null;const o=await Qc(this.getRegionFromIMDS.bind(this),ga,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===cn&&(n=o.body,t.region_source=pn)}}catch(db){return t.region_source=dn,null}}return n||(t.region_source=dn),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(ga,this.correlationId),this.networkInterface.sendGetRequestAsync(`${ht.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,ht.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(ma,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${ht.IMDS_ENDPOINT}?format=json`,e);return t.status===un&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(db){return null}}}Yc.IMDS_OPTIONS={headers:{Metadata:"true"}};class Jc{constructor(e,t,n,r,o,i,a,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=s||!1,this.regionDiscovery=new Yc(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(ht.CIAM_AUTH_URL))return Oo;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case ht.ADFS:return xo;case ht.DSTS:return Ro}return Po}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Fo(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Er(Fn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Er(Fn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Er(Fn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Er(yr);return this.replacePath(this.metadata.end_session_endpoint)}throw Er(Fn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Er(Fn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Er(Fn)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Jc.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Po&&this.protocolMode!==En}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new Fo(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new Fo(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose(`Replacing tenant domain name ${i} with id ${e}`),i=e)}e!==i&&(t=t.replace(`/${i}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===xo||this.protocolMode===En&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(la,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Qc(this.updateCloudDiscoveryMetadata.bind(this),ua,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Qc(this.updateEndpointMetadata.bind(this),ha,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Kr(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==Jt&&n?.source!==Jt&&(e.expiresAt=Kr(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(ha,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Zt&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){Wr(e,await Qc(this.updateMetadataWithRegionalInformation.bind(this),pa,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Qc(this.getEndpointMetadataFromNetwork.bind(this),da,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Qc(this.updateMetadataWithRegionalInformation.bind(this),pa,this.logger,this.performanceClient,this.correlationId)(n)),Wr(e,n,!0),Xt;throw Er(Hn,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Wr(e,t,!1),{source:Yt};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Wr(e,t,!1),{source:Zt,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Qr(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Jt}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Fo(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(db){throw Co(co)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(da,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(db){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${db}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in qo?qo[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(pa,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==ht.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=fn,this.regionDiscoveryMetadata.region_used=t,Jc.replaceWithRegionalInformation(e,t);const n=await Qc(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),fa,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=gn,this.regionDiscoveryMetadata.region_used=n,Jc.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=mn}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(ua,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Qc(this.getCloudDiscoveryMetadataFromNetwork.bind(this),ca,this.logger,this.performanceClient,this.correlationId)();if(n)return Vr(e,n,!0),Xt;throw Co(uo)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||ht.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||ht.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||ht.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Vr(e,t,!1),Yt;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,$o(Ho.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Vr(e,t,!1),Zt;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=Qr(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Jt):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Oo)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Jc.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=$o(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(db){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Co(lo)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Jc.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(ca,this.correlationId);const e=`${ht.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,i=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===ht.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=$o(i,this.hostnameAndPort)}catch(r){if(r instanceof On)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Jc.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){const e=this.authorityOptions.knownAuthorities.filter((e=>e&&Fo.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort));return e.length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==_n){const e=t.tenant?t.tenant:ht.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return ht.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Er(Fn)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Uo.has(e)}static isPublicCloudAuthority(e){return ht.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new Fo(e);r.validateAsUri();const o=r.getUrlComponents();let i=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=`${t}.${ht.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Fo.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Jc.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Jc.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Jc.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new Fo(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(ht.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${ht.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function Xc(e){return e.endsWith(ht.FORWARD_SLASH)?e:`${e}${ht.FORWARD_SLASH}`}Jc.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Et,_t,At]);const Zc="no_tokens_found",eu="native_account_unavailable",tu="refresh_token_expired",nu="bad_token",ru=["interaction_required","consent_required","login_required",nu],ou=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],iu={[Zc]:"No refresh token found in the cache. Please sign-in.",[eu]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[tu]:"Refresh token has expired.",[nu]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class au extends On{constructor(e,t,n,r,o,i,a,s){super(e,t,n),Object.setPrototypeOf(this,au.prototype),this.timestamp=r||ht.EMPTY_STRING,this.traceId=o||ht.EMPTY_STRING,this.correlationId=i||ht.EMPTY_STRING,this.claims=a||ht.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function su(e,t,n){const r=!!e&&ru.indexOf(e)>-1,o=!!n&&ou.indexOf(n)>-1,i=!!t&&ru.some((e=>t.indexOf(e)>-1));return r||i||o}function lu(e){return new au(e,iu[e])}function cu(e,t,n){return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}const uu=864e5,du="Lax",hu="None";class pu{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...i]=decodeURIComponent(e).trim().split("="),a=i.join("=");if(o===t)return a}return""}getUserData(){throw Er(kr)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:du,i=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${o};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*uu);return n.toUTCString()}(n);i+=`expires=${e};`}(r||o===hu)&&(i+="Secure;"),document.cookie=i}async setUserData(){return Promise.reject(Er(kr))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function fu(e){const t=e.getItem(gs);return t?JSON.parse(t):[]}function gu(e,t){const n=t.getItem(`${ms}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const mu="msal.cache.encryption";class yu{constructor(e,t,n){if(!window.localStorage)throw Ic(bc);this.memoryStorage=new jc,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){this.initialized=!0;const t=new pu,n=t.getItem(mu);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(db){}if(r.key&&r.id){const t=Vc(Ql,Ma,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Qc(fc,Oa,this.logger,this.performanceClient,e)(t)},await Qc(this.importExistingCache.bind(this),Ia,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=cc(),r=await Qc(pc,Na,this.logger,this.performanceClient,e)(),o=Vc(Gl,Da,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Qc(fc,Oa,this.logger,this.performanceClient,e)(r)};const i={id:n,key:o};t.setItem(mu,JSON.stringify(i),0,!0,hu)}this.broadcast.addEventListener("message",this.updateCache.bind(this))}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Hl(xl);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw Hl(xl);const{data:r,nonce:o}=await Qc(mc,La,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),i={id:this.encryptionCookie.id,nonce:o,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(i)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();fu(this).forEach((e=>this.removeItem(e)));const e=gu(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(ht.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=fu(this);t=await this.importArray(t,e),this.setItem(gs,JSON.stringify(t));const n=gu(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${ms}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(db){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Qc(yc,Ba,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const o=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(o)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(Ea);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class vu{constructor(){if(!window.sessionStorage)throw Ic(bc)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}const bu="msal:initializeStart",wu="msal:initializeEnd",Cu="msal:accountAdded",ku="msal:accountRemoved",Su="msal:activeAccountChanged",Iu="msal:loginStart",Tu="msal:loginSuccess",Eu="msal:loginFailure",Au="msal:acquireTokenStart",_u="msal:acquireTokenSuccess",Pu="msal:acquireTokenFailure",xu="msal:acquireTokenFromNetworkStart",Ru="msal:ssoSilentStart",Ou="msal:ssoSilentSuccess",Nu="msal:ssoSilentFailure",Mu="msal:acquireTokenByCodeStart",Du="msal:acquireTokenByCodeSuccess",Lu="msal:acquireTokenByCodeFailure",Bu="msal:handleRedirectStart",Fu="msal:handleRedirectEnd",qu="msal:popupOpened",Hu="msal:logoutStart",Uu="msal:logoutSuccess",zu="msal:logoutFailure",$u="msal:logoutEnd",ju="msal:restoreFromBFCache";class Gu extends Vo{constructor(e,t,n,r,o,i,a){super(e,n,r,a),this.cacheConfig=t,this.logger=r,this.internalStorage=new jc,this.browserStorage=Ku(e,t.cacheLocation,r,o),this.temporaryCacheStorage=Ku(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new pu,this.performanceClient=o,this.eventHandler=i}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&Mo.isAccountEntity(n)?Vo.toObject(new Mo,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await Qc(this.browserStorage.setUserData.bind(this.browserStorage),Ta,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===ns&&r&&this.eventHandler.emitEvent(Cu,void 0,e.getAccountInfo())}getAccountKeys(){return fu(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(gs,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(gs,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===ns&&this.eventHandler.emitEvent(ku,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,Gt.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,Gt.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,Gt.REFRESH_TOKEN)}getTokenKeys(){return gu(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case Gt.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case Gt.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case Gt.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Er(cr)}this.browserStorage.setItem(`${ms}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case Gt.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Gt.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Gt.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Er(cr)}this.browserStorage.setItem(`${ms}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Gt.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Hr(r)&&r.hasOwnProperty("realm")&&r.credentialType===Gt.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Gt.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=Lr(e);await Qc(this.browserStorage.setUserData.bind(this.browserStorage),Ta,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Gt.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Gt.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Hr(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===Gt.ACCESS_TOKEN||r.credentialType===Gt.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Gt.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=Lr(e);await Qc(this.browserStorage.setUserData.bind(this.browserStorage),Ta,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Gt.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Gt.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Hr(r)&&r.credentialType===Gt.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Gt.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=Lr(e);await Qc(this.browserStorage.setUserData.bind(this.browserStorage),Ta,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Gt.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(Kt)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[Kt,t,n].join($t).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(en.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(Vt)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(ys,e),this.internalStorage.setItem(vs,t)}getWrapperMetadata(){return[this.internalStorage.getItem(ys)||ht.EMPTY_STRING,this.internalStorage.getItem(vs)||ht.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(Tt),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(Tt);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(Su)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(on));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===ns){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(ht.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(ht.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(ka,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):ko.startsWith(e,ht.CACHE_PREFIX)?e:`${ht.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(ds)),this.removeTemporaryItem(this.generateCacheKey(hs)),this.removeTemporaryItem(this.generateCacheKey(cs)),this.removeTemporaryItem(this.generateCacheKey(us)),this.removeTemporaryItem(this.generateCacheKey(fs)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=Kl(JSON.stringify(e));if(this.setTemporaryCache(ds,n,!0),t){const e=Kl(t);this.setTemporaryCache(hs,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(ds,!0);if(!e)throw Hl(ul);const t=this.getTemporaryCache(hs,!0);let n,r="";try{n=JSON.parse(Vl(e)),t&&(r=Vl(t))}catch(db){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${db}`),Hl(dl)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(fs,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${ht.CACHE_PREFIX}.${ps}`,t=this.getTemporaryCache(e,!1);return t?JSON.parse(t):null}setInteractionInProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ss;const n=`${ht.CACHE_PREFIX}.${ps}`;if(e){if(this.getInteractionInProgress())throw Hl(Js);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:t}),!1)}else e||this.getInteractionInProgress()?.clientId!==this.clientId||this.removeTemporaryItem(n)}async hydrateCache(e,t){const n=Br(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:Fr(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Nr(e.expiresOn):0,e.extExpiresOn?Nr(e.extExpiresOn):0,Vl,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(db){if(db instanceof Wo&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(db){}throw db}}}function Ku(e,t,n,r){try{switch(t){case ns:return new yu(e,n,r);case rs:return new vu}}catch(db){n.error(db)}return new jc}class Wu{constructor(e){this.eventCallbacks=new Map,this.logger=e||new In({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||cc();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case Cu:case ku:case Su:this.broadcastChannel?.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}const Vu="home_account_id",Qu="UPN",Yu="client_id",Ju="redirect_uri",Xu="token_type",Zu="req_cnf",ed="return_spa_code",td="x-client-xtra-sku",nd="brk_client_id",rd="brk_redirect_uri",od="instance_aware";function id(e,t,n){if(!t)return;const r=e.get(Yu);r&&e.has(nd)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Ju)},t)}function ad(e,t){e.set("response_type",t)}function sd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yt;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const o=n?[...t||[],...r]:t||[],i=new So(o);e.set("scope",i.printScopes())}function ld(e,t){e.set(Yu,t)}function cd(e,t){e.set(Ju,t)}function ud(e,t){e.set("login_hint",t)}function dd(e,t){e.set(kt,`UPN:${t}`)}function hd(e,t){e.set(kt,`Oid:${t.uid}@${t.utid}`)}function pd(e,t){e.set("sid",t)}function fd(e,t,n){const r=function(e,t){let n;if(e)try{n=JSON.parse(e)}catch(db){throw Co(ro)}else n={};t&&t.length>0&&(n.hasOwnProperty(Pt)||(n[Pt]={}),n[Pt][xt]={values:t});return JSON.stringify(n)}(t,n);try{JSON.parse(r)}catch(db){throw Co(ro)}e.set("claims",r)}function gd(e,t){e.set("client-request-id",t)}function md(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function yd(e,t){t?.appName&&e.set("x-app-name",t.appName),t?.appVersion&&e.set("x-app-ver",t.appVersion)}function vd(e,t){t&&e.set("state",t)}function bd(e,t){e.set("client_secret",t)}function wd(e,t){t&&e.set("client_assertion",t)}function Cd(e,t){t&&e.set("client_assertion_type",t)}function kd(e,t){e.set("grant_type",t)}function Sd(e){e.set("client_info","1")}function Id(e){e.has(od)||e.set(od,"true")}function Td(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)}))}function Ed(e,t){t&&(e.set(Xu,tn.POP),e.set(Zu,t))}function Ad(e,t){t&&(e.set(Xu,tn.SSH),e.set(Zu,t))}function _d(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function Pd(e){e.set("x-ms-lib-capability",an)}function xd(e,t,n){e.has(nd)||e.set(nd,t),e.has(rd)||e.set(rd,n)}async function Rd(e,t,n,r,o,i,a){a?.addQueueMeasurement(sa,i);const s=Jc.transformCIAMAuthority(Xc(e)),l=new Jc(s,t,n,r,o,i,a);try{return await Qc(l.resolveEndpointsAsync.bind(l),la,o,a,i)(),l}catch(db){throw Er(Fn)}}class Od extends On{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Od.prototype)}}class Nd{static generateThrottlingStorageKey(e){return`${on}.${JSON.stringify(e)}`}static preProcess(e,t){const n=Nd.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new Od(r.errorCodes?.join(" ")||ht.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(Nd.checkResponseStatus(n)||Nd.checkResponseForRetryAfter(n)){const r={throttleTime:Nd.calculateThrottleTime(parseInt(n.headers[Ct])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Nd.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(Ct)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||nn),n+rn))}static removeThrottle(e,t,n,r){const o=cu(t,n,r),i=this.generateThrottlingStorageKey(o);e.removeItem(i)}}class Md{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:i,networkInterface:a,cryptoInterface:s,clientCredentials:l,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:p}=e;const f={...Jo,...r};return{authOptions:(g=t,{clientCapabilities:[],azureCloudOptions:ni,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...g}),systemOptions:{...Yo,...n},loggerOptions:f,cacheOptions:{...Xo,...o},storageInterface:i||new Qo(t.clientId,Ar,new In(f)),networkInterface:a||Zo,cryptoInterface:s||Ar,clientCredentials:l||ti,libraryInfo:{...ei,...c},telemetry:{...ri,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:p||null};var g}(e),this.logger=new In(this.config.loggerOptions,_r,Pr),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[bt]=ht.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Vu:try{const n=To(e.credential);t[kt]=`Oid:${n.uid}@${n.utid}`}catch(db){this.logger.verbose("Could not parse home account ID for CCS Header: "+db)}break;case Qu:t[kt]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){i&&this.performanceClient?.addQueueMeasurement(i,o);const a=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&a.status<500&&429!==a.status&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,n,r){let o;Nd.preProcess(this.cacheManager,e);try{o=await Qc(this.networkClient.sendPostRequestAsync.bind(this.networkClient),ki,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:e[It]||"",requestId:e[St]||""},r)}catch(db){if(db instanceof qs){const t=db.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[It]||"",requestId:t[St]||"",contentTypeHeader:t[bt]||void 0,contentLengthHeader:t[wt]||void 0,httpStatus:db.httpStatus},r),db.error}throw db instanceof On?db:Er(qn)}return Nd.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Zi,t);const n=`https://${e}/${this.authority.tenant}/`,r=await Rd(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&xd(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Td(t,e.tokenQueryParameters),gd(t,e.correlationId),id(t,e.correlationId,this.performanceClient),Bo(t)}}class Dd{static setRequestState(e,t,n){const r=Dd.generateLibraryState(e,n);return t?`${r}${ht.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw Er(lr);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw Er(lr);if(!t)throw Er(zn);try{const n=t.split(ht.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(ht.RESOURCE_DELIM):ht.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:o||ht.EMPTY_STRING,libraryState:a}}catch(db){throw Er(zn)}}}const Ld="sw";class Bd{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(ra,e.correlationId);const n=await Qc(this.generateKid.bind(this),ra,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(oa,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Ld}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:a,shrNonce:s,shrOptions:l}=n,c=i?new Fo(i):void 0,u=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Or(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...r},t,l,n.correlationId)}}class Fd{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class qd{constructor(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||ht.NOT_AVAILABLE} - Timestamp: ${e.timestamp||ht.NOT_AVAILABLE} - Description: ${e.error_description||ht.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||ht.NOT_AVAILABLE} - Trace ID: ${e.trace_id||ht.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new Od(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=gt&&e.status<=mt)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=pt&&e.status<=ft)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);if(su(e.error,e.error_description,e.suberror))throw new au(e.error,e.error_description,e.suberror,e.timestamp||ht.EMPTY_STRING,e.trace_id||ht.EMPTY_STRING,e.correlation_id||ht.EMPTY_STRING,e.claims||ht.EMPTY_STRING,r);throw o}}async handleServerTokenResponse(e,t,n,r,o,i,a,s,l){let c,u;if(this.performanceClient?.addQueueMeasurement(ia,e.correlation_id),e.id_token){if(c=xr(e.id_token||ht.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&c.nonce!==o.nonce)throw Er(Gn);if(r.maxAge||0===r.maxAge){const e=c.auth_time;if(!e)throw Er(Kn);Rr(e,r.maxAge)}}this.homeAccountIdentifier=Mo.generateHomeAccountId(e.client_info||ht.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,c),o&&o.state&&(u=Dd.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const d=this.generateCacheRecord(e,t,n,r,c,i,o);let h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new Fd(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),a&&!s&&d.account){const e=d.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await qd.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,c,u,void 0,l)}await this.cacheStorage.saveCacheRecord(d,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return qd.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,c,u,e,l)}generateCacheRecord(e,t,n,r,o,i,a){const s=t.getPreferredCache();if(!s)throw Er(ar);const l=No(o);let c,u;e.id_token&&o&&(c=Br(this.homeAccountIdentifier,s,e.id_token,this.clientId,l||""),u=Hd(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,l,a,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?So.fromString(e.scope):new So(r.scopes||[]),a=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+a,p=h+c,f=u&&u>0?n+u:void 0;d=Fr(this.homeAccountIdentifier,s,e.access_token,this.clientId,l||t.tenant||"",o.printScopes(),h,p,this.cryptoObj.base64Decode,f,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=qr(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,i,t)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:d,refreshToken:h,appMetadata:p}}static async generateAuthenticationResult(e,t,n,r,o,i,a,s,l){let c,u,d=ht.EMPTY_STRING,h=[],p=null,f=ht.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==tn.POP||o.popKid)d=n.accessToken.secret;else{const t=new Bd(e),{secret:r,keyId:i}=n.accessToken;if(!i)throw Er(vr);d=await t.signPopToken(r,i,o)}h=So.fromString(n.accessToken.target).asArray(),p=Mr(n.accessToken.expiresOn),c=Mr(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(u=Mr(n.accessToken.refreshOn))}n.appMetadata&&(f=n.appMetadata.familyId===Wt?Wt:"");const g=i?.oid||i?.sub||"",m=i?.tid||"";s?.spa_accountid&&n.account&&(n.account.nativeAccountId=s?.spa_accountid);const y=n.account?_o(n.account.getAccountInfo(),void 0,i,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:m,scopes:h,account:y,idToken:n?.idToken?.secret||"",idTokenClaims:i||{},accessToken:d,fromCache:r,expiresOn:p,extExpiresOn:c,refreshOn:u,correlationId:o.correlationId,requestId:l||ht.EMPTY_STRING,familyId:f,tokenType:n.accessToken?.tokenType||ht.EMPTY_STRING,state:a?a.userRequestState:ht.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||ht.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||ht.EMPTY_STRING,code:s?.spa_code,fromNativeBroker:!1}}}function Hd(e,t,n,r,o,i,a,s,l,c,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d));const p=h||Mo.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:i,environment:a,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:c},t,r),f=p.tenantProfiles||[],g=s||p.realm;if(g&&!f.find((e=>e.tenantId===g))){const e=Ao(n,p.localAccountId,g,o);f.push(e)}return p.tenantProfiles=f,p}class Ud{static validateRedirectUri(e){if(!e)throw Co(Yr)}static validatePrompt(e){const t=[];for(const n in Rt)t.push(Rt[n]);if(t.indexOf(e)<0)throw Co(no)}static validateClaims(e){try{JSON.parse(e)}catch(db){throw Co(ro)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw Co(so);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([Ot.PLAIN,Ot.S256].indexOf(e)<0)throw Co(ao)}}async function zd(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class $d extends Md{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(ea,e.correlationId),!e.code)throw Er(Jn);const n=Or(),r=await Qc(this.executeTokenRequest.bind(this),ta,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[St],i=new qd(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),Qc(i.handleServerTokenResponse.bind(i),ia,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw Co(io);const t=this.createLogoutUrlQueryString(e);return Fo.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(ta,t.correlationId);const n=this.createTokenQueryParameters(t),r=Fo.appendQueryString(e.tokenEndpoint,n),o=await Qc(this.createTokenRequestBody.bind(this),na,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=Io(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${jt}${e.utid}`,type:Vu}}catch(db){this.logger.verbose("Could not parse client info for CCS Header: "+db)}const a=this.createTokenRequestHeaders(i||t.ccsCredential),s=cu(this.config.authOptions.clientId,t);return Qc(this.executePostToTokenEndpoint.bind(this),Ii,this.logger,this.performanceClient,t.correlationId)(r,o,a,s,t.correlationId,Ii)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(na,e.correlationId);const t=new Map;if(ld(t,e.embeddedClientId||e.tokenBodyParameters?.[Yu]||this.config.authOptions.clientId),this.includeRedirectUri?cd(t,e.redirectUri):Ud.validateRedirectUri(e.redirectUri),sd(t,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(t,e.code),md(t,this.config.libraryInfo),yd(t,this.config.telemetry.application),Pd(t),this.serverTelemetryManager&&!oi(this.config)&&_d(t,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&bd(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;wd(t,await zd(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Cd(t,n.assertionType)}if(kd(t,Ft),Sd(t),e.authenticationScheme===tn.POP){const n=new Bd(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Qc(n.generateCnf.bind(n),ra,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}Ed(t,r)}else if(e.authenticationScheme===tn.SSH){if(!e.sshJwk)throw Co(ho);Ad(t,e.sshJwk)}let n;if((!ko.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&fd(t,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=Io(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${jt}${t.utid}`,type:Vu}}catch(db){this.logger.verbose("Could not parse client info for CCS Header: "+db)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Vu:try{hd(t,To(n.credential))}catch(db){this.logger.verbose("Could not parse home account ID for CCS Header: "+db)}break;case Qu:dd(t,n.credential)}return e.embeddedClientId&&xd(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Td(t,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[ed]||Td(t,{[ed]:"1"}),id(t,e.correlationId,this.performanceClient),Bo(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&gd(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&vd(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&Td(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&Id(t),Bo(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function jd(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[n,r]],[2,[o,i]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return a.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class Gd{constructor(e,t){this.cacheOutcome=yn,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||ht.EMPTY_STRING,this.wrapperVer=e.wrapperVer||ht.EMPTY_STRING,this.telemetryCacheKey=en.CACHE_KEY+$t+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${en.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(en.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(en.VALUE_SEPARATOR);return[en.SCHEMA_VERSION,o,r].join(en.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Gd.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(en.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(en.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?en.OVERFLOW_TRUE:en.OVERFLOW_FALSE].join(en.VALUE_SEPARATOR);return[en.SCHEMA_VERSION,e.cacheHits,n,r,i].join(en.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=en.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof On?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(en.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=Gd.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||ht.EMPTY_STRING,i=e.failedRequests[2*t+1]||ht.EMPTY_STRING,a=e.errors[t]||ht.EMPTY_STRING;if(r+=o.toString().length+i.toString().length+a.length+3,!(r<en.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||ht.EMPTY_STRING),e.push(this.regionSource||ht.EMPTY_STRING),e.push(this.regionOutcome||ht.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return jd(e)}}class Kd{constructor(e,t,n,r,o,i,a,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=l||cc(),this.logger=r.clone(Va,Mc,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){Mo.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Mo.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(db){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Fo.getAbsoluteUrl(t,Ec())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Gd(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(wi,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=n?.length?"true"===n:this.config.auth.instanceAware,a=t&&i?this.config.auth.authority.replace(Fo.getDomainFromUrl(o),t.environment):o,s=Jc.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await Qc(Rd,sa,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw Co(vo);return l}}async function Wd(e,t,n,r){n.addQueueMeasurement(Mi,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a={...e,correlationId:e.correlationId,authority:o,scopes:i};if(a.authenticationScheme){if(a.authenticationScheme===tn.SSH){if(!e.sshJwk)throw Co(ho);if(!e.sshKid)throw Co(po)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}else a.authenticationScheme=tn.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!ko.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await vc(e.claims)),a}async function Vd(e,t,n,r,o){r.addQueueMeasurement(Di,e.correlationId);const i=await Qc(Wd,Mi,o,r,e.correlationId)(e,n,r,o);return{...e,...i,account:t,forceRefresh:e.forceRefresh||!1}}class Qd extends Kd{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||cc(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Fo.getAbsoluteUrl(e.postLogoutRedirectUri,Ec())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Fo.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Ec())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Fo.getAbsoluteUrl(Ec(),Ec())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement($i,this.correlationId);const t=await Qc(this.getClientConfiguration.bind(this),ji,this.logger,this.performanceClient,this.correlationId)(e);return new $d(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(ji,this.correlationId);const a=await Qc(this.getDiscoveredAuthority.bind(this),wi,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Va,version:Mc,cpu:ht.EMPTY_STRING,os:ht.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Gi,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Dd.setRequestState(this.browserCrypto,e&&e.state||ht.EMPTY_STRING,r),i={...await Qc(Wd,Mi,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||cc(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return i;const a=e.account||this.browserStorage.getActiveAccount();return a&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${a.homeAccountId}`,this.correlationId),i.account=a),i}}const Yd="user_switch",Jd={[Yd]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Xd extends On{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Xd.prototype),this.name="NativeAuthError",this.ext=n}}function Zd(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function eh(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return lu(eu);case"USER_INTERACTION_REQUIRED":return new au(e,t);case"USER_CANCEL":return Hl(el);case"NO_NETWORK":return Hl(ml)}return new Xd(e,Jd[e]||t,n)}class th{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(wa)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Qa,extensionId:this.extensionId,responseId:cc(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new th(e,t,n,Ya);return await r.sendHandshakeRequest(),r}catch(db){const o=new th(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Qa,extensionId:this.extensionId,responseId:cc(),body:{method:Xa}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Hl(Al)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Qa&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Xa){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Hl(_l))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===ts){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(eh(e.code,e.description,e.ext));else{if(!e.result)throw Nn(Pn,"Event does not contain result.");e.result.code&&e.result.description?n.reject(eh(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Za){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case tn.BEARER:case tn.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}function nh(e,t,n){const r=Lo(e);if(!r)throw Do(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),Hl(Vs)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),Hl(Ks));return r}function rh(e,t,n){if(!e.state)throw Hl(Ws);const r=function(e,t){if(!t)return null;try{return Dd.parseRequestState(e,t).libraryState.meta}catch(db){throw Er(zn)}}(t,e.state);if(!r)throw Hl(Qs);if(r.interactionType!==n)throw Hl(Ys)}function oh(e,t,n,r){const o=t.correlationId,i=new Map;ld(i,t.embeddedClientId||t.extraQueryParameters?.[Yu]||e.clientId);if(sd(i,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,e.authority.options.OIDCOptions?.defaultScopes),cd(i,t.redirectUri),gd(i,o),function(e,t){e.set("response_mode",t||Bt)}(i,t.responseMode),Sd(i),t.prompt&&(!function(e,t){e.set("prompt",t)}(i,t.prompt),r?.addFields({prompt:t.prompt},o)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(i,t.domainHint),r?.addFields({domainHintFromRequest:!0},o)),t.prompt!==Rt.SELECT_ACCOUNT)if(t.sid&&t.prompt===Rt.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),pd(i,t.sid),r?.addFields({sidFromRequest:!0},o);else if(t.account){const e=(a=t.account,a.idTokenClaims?.sid||null);let s=function(e){return e.idTokenClaims?.login_hint||null}(t.account);if(s&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),s=null),s){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),ud(i,s),r?.addFields({loginHintFromClaim:!0},o);try{hd(i,To(t.account.homeAccountId))}catch(db){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===Rt.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),pd(i,e),r?.addFields({sidFromClaim:!0},o);try{hd(i,To(t.account.homeAccountId))}catch(db){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),ud(i,t.loginHint),dd(i,t.loginHint),r?.addFields({loginHintFromRequest:!0},o);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),ud(i,t.account.username),r?.addFields({loginHintFromUpn:!0},o);try{hd(i,To(t.account.homeAccountId))}catch(db){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),ud(i,t.loginHint),dd(i,t.loginHint),r?.addFields({loginHintFromRequest:!0},o));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");var a;return t.nonce&&function(e,t){e.set("nonce",t)}(i,t.nonce),t.state&&vd(i,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&fd(i,t.claims,e.clientCapabilities),t.embeddedClientId&&xd(i,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(od)||Id(i),i}function ih(e,t,n,r){const o=Bo(t,n,r);return Fo.appendQueryString(e.authorizationEndpoint,o)}function ah(e,t){if(!e.state||!t)throw e.state?Er(jn,"Cached State"):Er(jn,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(db){throw Er(zn,e.state)}try{r=decodeURIComponent(t)}catch(db){throw Er(zn,e.state)}if(n!==r)throw Er($n);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(su(e.error,e.error_description,e.suberror))throw new au(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Od(e.error||"",e.error_description,e.suberror,t)}}class sh{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(Qi,t.correlationId);try{n=function(e,t){if(ah(e,t),!e.code)throw Er(gr);return e}(e,t.state)}catch(db){throw db instanceof Od&&db.subError===el?Hl(el):db}return Qc(this.handleCodeResponseFromServer.bind(this),Vi,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Vi,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Qc(this.authModule.updateAuthority.bind(this.authModule),Zi,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Qc(this.authModule.acquireToken.bind(this.authModule),ea,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Vu}:e.loginHint?{credential:e.loginHint,type:Qu}:null}}class lh extends Md{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Ri,e.correlationId);let t=yn;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!ko.isEmptyObj(e.claims))throw this.setCacheOutcome(vn,e.correlationId),Er(hr);if(!e.account)throw Er(or);const n=e.account.tenantId||function(e){const t=new Fo(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case Et:case At:case _t:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(bn,e.correlationId),Er(hr);if(i=o.cachedAt,Number(i)>Or()||Dr(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(wn,e.correlationId),Er(hr);var i;o.refreshOn&&Dr(o.refreshOn,0)&&(t=Cn);const a=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Qc(this.generateResultFromCacheRecord.bind(this),Oi,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==yn&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(Oi,t.correlationId),e.idToken&&(n=xr(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw Er(Kn);Rr(e,t.maxAge)}return qd.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class ch extends Qd{async acquireToken(e){this.performanceClient.addQueueMeasurement(gi,e.correlationId);const t=this.initializeServerTelemetryManager(Is),n=await Qc(this.getClientConfiguration.bind(this),ji,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new lh(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Qc(r.acquireCachedToken.bind(r),Ri,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof ql&&o.errorCode===Cl&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class uh extends Kd{constructor(e,t,n,r,o,i,a,s,l,c,u,d){super(e,t,n,r,o,i,s,l,d),this.apiId=a,this.accountId=c,this.nativeMessageHandler=l,this.nativeStorageManager=u,this.silentCacheClient=new ch(e,this.nativeStorageManager,n,r,o,i,s,l,d);const h=this.nativeMessageHandler.getExtensionId()===Ya?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=Gd.makeExtraSkuString({libraryName:Va,libraryVersion:Mc,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[td]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(Ci,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(Ci,e.correlationId),r=Or(),o=this.initializeServerTelemetryManager(this.apiId);try{const i=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,i);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(db){if(t===Os)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),db;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=i,s={method:es,request:a},l=await this.nativeMessageHandler.sendMessage(s),c=this.validateNativeResponse(l);return await this.handleNativeResponse(c,i,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),o.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(db){throw db instanceof Xd&&o.setNativeBrokerErrorCode(db.errorCode),db}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:So.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Er(sr);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw Er(sr);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(db){throw db}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:es,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(db){if(db instanceof Xd){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(db.errorCode),Zd(db))throw db}}this.browserStorage.setTemporaryCache(fs,JSON.stringify(r),!0);const i={apiId:bs,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(fs));const i={method:es,request:o},a=Or();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,a),n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(db){throw db}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=xr(e.id_token,Vl),o=this.createHomeAccountIdentifier(e,r),i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==i&&e.account.id!==t.accountId)throw eh(Yd);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=Hd(this.browserStorage,a,o,Vl,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const l=await this.generateAuthenticationResult(e,t,r,s,a.canonicalAuthority,n);return await this.cacheAccount(s),await this.cacheNativeTokens(e,t,o,r,e.access_token,l.tenantId,n),l}createHomeAccountIdentifier(e,t){return Mo.generateHomeAccountId(e.client_info||ht.EMPTY_STRING,Po,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?So.fromString(e.scope):So.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===tn.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new Bd(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Er(vr);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,i){const a=this.addTelemetryFromNativeResponse(e),s=e.scope?So.fromString(e.scope):So.fromString(t.scope),l=e.account.properties||{},c=l.UID||n.oid||n.sub||ht.EMPTY_STRING,u=l.TenantId||n.tid||ht.EMPTY_STRING,d=_o(r.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const h=await this.generatePopAccessToken(e,t),p=t.tokenType===tn.POP?tn.POP:tn.BEARER;return{authority:o,uniqueId:c,tenantId:u,scopes:s.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:h,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:Mr(i+e.expires_in),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,i,a){const s=Br(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=a+(t.tokenType===tn.POP?ht.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),c=this.generateScopes(e,t),u={idToken:s,accessToken:Fr(n,t.authority,o,t.clientId,r.tid||i,c.printScopes(),l,0,Vl,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(u,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Nn(Pn,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(db){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Fo(t);n.validateAsUri();const{scopes:r,...o}=e,i=new So(r||[]);i.appendScopes(yt);const a={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case Cs:case Is:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Rt.NONE}if(e.prompt)switch(e.prompt){case Rt.NONE:case Rt.CONSENT:case Rt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),Hl(Rl)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw Hl(Nl);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Ja,e.authenticationScheme===tn.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new Bd(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const o=await Qc(n.generateCnf.bind(n),ra,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,a.keyId=o.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(nd)&&e.extraParameters.hasOwnProperty(rd)&&e.extraParameters.hasOwnProperty(Yu);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[rd],n=e.extraParameters[Yu]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}async function dh(e,t,n,r,o){const i=oh({...e.auth,authority:t},n,r,o);if(md(i,{sku:Va,version:Mc,os:"",cpu:""}),e.auth.protocolMode!==En&&yd(i,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(i),n.authenticationScheme===tn.POP)){const e=new Kc(r,o),t=new Bd(e);let a;if(n.popKid)a=e.encodeKid(n.popKid);else{a=(await Qc(t.generateCnf.bind(t),ra,r,o,n.correlationId)(n,r)).reqCnfString}Ed(i,a)}return id(i,n.correlationId,o),i}async function hh(e,t,n,r,o){if(!n.codeChallenge)throw Co(so);const i=await Qc(dh,Wi,r,o,n.correlationId)(e,t,n,r,o);return ad(i,Nt),function(e,t,n){if(!t||!n)throw Co(so);e.set("code_challenge",t),e.set("code_challenge_method",n)}(i,n.codeChallenge,ht.S256_CODE_CHALLENGE_METHOD),Td(i,n.extraQueryParameters||{}),ih(t,i,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function ph(e,t,n,r,o,i){if(!r.earJwk)throw Hl(zs);const a=await dh(t,n,r,o,i);ad(a,Mt),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(a,r.earJwk);const s=new Map;Td(s,r.extraQueryParameters||{});return function(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach(((t,n)=>{const o=e.createElement("input");o.hidden=!0,o.name=n,o.value=t,r.appendChild(o)})),e.body.appendChild(r),r}(e,ih(n,s,t.auth.encodeExtraQueryParams,r.extraQueryParameters),a)}async function fh(e,t,n,r,o,i,a,s,l,c){if(!c)throw Hl(Pl);const u=new Kc(s,l),d=new uh(r,o,u,s,a,r.system.navigationClient,n,l,c,t,i,e.correlationId),{userRequestState:h}=Dd.parseRequestState(u,e.state);return Qc(d.acquireToken.bind(d),Ci,s,l,e.correlationId)({...e,state:h,prompt:void 0})}async function gh(e,t,n,r,o,i,a,s,l,c,u,d){if(Nd.removeThrottle(a,o.auth.clientId,e),t.accountId)return Qc(fh,Ji,c,u,e.correlationId)(e,t.accountId,r,o,a,s,l,c,u,d);const h={...e,code:t.code||"",codeVerifier:n},p=new sh(i,a,h,c,u);return await Qc(p.handleCodeResponse.bind(p),Qi,c,u,e.correlationId)(t,e)}async function mh(e,t,n,r,o,i,a,s,l,c,u){if(Nd.removeThrottle(i,r.auth.clientId,e),ah(t,e.state),!t.ear_jwe)throw Hl($s);if(!e.earJwk)throw Hl(zs);const d=JSON.parse(await Qc(hc,qa,l,c,e.correlationId)(e.earJwk,t.ear_jwe));if(d.accountId)return Qc(fh,Ji,l,c,e.correlationId)(e,d.accountId,n,r,i,a,s,l,c,u);const h=new qd(r.auth.clientId,i,new Kc(l,c),l,null,null,c);h.validateTokenResponse(d);const p={code:"",state:e.state,nonce:e.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await Qc(h.handleServerTokenResponse.bind(h),ia,l,c,e.correlationId)(d,o,Or(),e,p,void 0,void 0,void 0,void 0)}async function yh(e,t,n){e.addQueueMeasurement(Aa,n);const r=Vc(vh,_a,t,e,n)(e,t,n);return{verifier:r,challenge:await Qc(bh,Pa,t,e,n)(r,e,t,n)}}function vh(e,t,n){try{const r=new Uint8Array(32);Vc(sc,Ra,t,e,n)(r);return Gl(r)}catch(db){throw Hl(Us)}}async function bh(e,t,n,r){t.addQueueMeasurement(Pa,r);try{const o=await Qc(ac,xa,n,t,r)(e,t,r);return Gl(new Uint8Array(o))}catch(db){throw Hl(Us)}}class wh extends Qd{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s,this.eventHandler=o}acquireToken(e,t){try{const n={popupName:this.generatePopupName(e.scopes||yt,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n,t))}catch(db){return Promise.reject(db)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(db){return Promise.reject(db)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await Qc(this.initializeAuthorizationRequest.bind(this),Gi,this.logger,this.performanceClient,this.correlationId)(e,As.Popup);t.popup&&Oc(r.authority);const o=th.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return r.platformBroker=o,this.config.auth.protocolMode===An?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,o=this.initializeServerTelemetryManager(ws),i=n||await Qc(yh,Aa,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a={...e,codeChallenge:i.challenge};try{const n=await Qc(this.createAuthCodeClient.bind(this),$i,this.logger,this.performanceClient,r)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),s=await Qc(hh,Ki,this.logger,this.performanceClient,r)(this.config,n.authority,a,this.logger,this.performanceClient),l=this.initiateAuthRequest(s,t);this.eventHandler.emitEvent(qu,As.Popup,{popupWindow:l},null);const c=await this.monitorPopupForHash(l,t.popupWindowParent),u=Vc(nh,aa,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await Qc(gh,Xi,this.logger,this.performanceClient,r)(e,u,i.verifier,ws,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(db){throw t.popup?.close(),db instanceof On&&(db.setCorrelationId(this.correlationId),o.cacheFailedRequest(db)),db}}async executeEarFlow(e,t){const n=e.correlationId,r=await Qc(this.getDiscoveredAuthority.bind(this),wi,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await Qc(dc,Fa,this.logger,this.performanceClient,n)(),i={...e,earJwk:o},a=t.popup||this.openPopup("about:blank",t);(await ph(a.document,this.config,r,i,this.logger,this.performanceClient)).submit();const s=await Qc(this.monitorPopupForHash.bind(this),Hi,this.logger,this.performanceClient,n)(a,t.popupWindowParent),l=Vc(nh,aa,this.logger,this.performanceClient,this.correlationId)(s,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Qc(mh,Yi,this.logger,this.performanceClient,n)(i,l,ws,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Hu,As.Popup,e);const o=this.initializeServerTelemetryManager(Es);try{await this.clearCacheOnLogout(e.account);const i=await Qc(this.createAuthCodeClient.bind(this),$i,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{i.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&i.authority.protocolMode===En){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Uu,As.Popup,e),r){const e={apiId:Es,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Fo.getAbsoluteUrl(r,Ec());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const a=i.getLogoutUri(e);this.eventHandler.emitEvent(Uu,As.Popup,e);const s=this.openPopup(a,t);if(this.eventHandler.emitEvent(qu,As.Popup,{popupWindow:s},null),await this.monitorPopupForHash(s,t.popupWindowParent).catch((()=>{})),r){const e={apiId:Es,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Fo.getAbsoluteUrl(r,Ec());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(db){throw t.popup?.close(),db instanceof On&&(db.setCorrelationId(this.correlationId),o.cacheFailedRequest(db)),this.eventHandler.emitEvent(zu,As.Popup,null,db),this.eventHandler.emitEvent($u,As.Popup),db}this.eventHandler.emitEvent($u,As.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Hl(Gs)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(Hl(el));let o="";try{o=e.location.href}catch(db){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===Dt?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw Hl(Zs);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(db){throw this.logger.error("error opening popup "+db.message),Hl(Xs)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:o}=t;const i=o.screenLeft?o.screenLeft:o.screenX,a=o.screenTop?o.screenTop:o.screenY,s=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!c||c<0||c>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=ja),(!u||u<0||u>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=Ga),(!d||d<0||d>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,l/2-Ga/2+a)),(!h||h<0||h>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,s/2-ja/2+i)),o.open(e,n,`width=${c}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${Ka}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Ka}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Ch extends Qd{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.nativeStorage=s}async acquireToken(e){const t=await Qc(this.initializeAuthorizationRequest.bind(this),Gi,this.logger,this.performanceClient,this.correlationId)(e,As.Redirect);t.platformBroker=th.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ju,As.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(cs,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===An?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(db){throw db instanceof On&&db.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),db}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(bs),o=await Qc(yh,Aa,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),i={...e,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(i,o.verifier);try{const n=await Qc(this.createAuthCodeClient.bind(this),$i,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),o=await Qc(hh,Ki,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,i,this.logger,this.performanceClient);return await this.initiateAuthRequest(o,t)}catch(db){throw db instanceof On&&(db.setCorrelationId(this.correlationId),r.cacheFailedRequest(db)),db}}async executeEarFlow(e){const t=e.correlationId,n=await Qc(this.getDiscoveredAuthority.bind(this),wi,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Qc(dc,Fa,this.logger,this.performanceClient,t)(),o={...e,earJwk:r};this.browserStorage.cacheAuthorizeRequest(o);(await ph(document,this.config,n,o,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=this.initializeServerTelemetryManager(ks);try{const[i,a]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(cs,!0)||ht.EMPTY_STRING,l=Fo.removeHashFromUrl(s);if(l===Fo.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(s);return await this.handleResponse(i,t,n,o)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,t,n,o);if(!Tc()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(us,a,!0);const e={apiId:ks,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(s&&"null"!==s)this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),r=await this.navigationClient.navigateInternal(s,e);else{const t=function(){const e=new Fo(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(cs,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(i,t,n,o)}return null}catch(db){throw db instanceof On&&(db.setCorrelationId(this.correlationId),o.cacheFailedRequest(db)),db}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===Dt?window.location.search:window.location.hash);let n=Lo(t);if(n){try{rh(n,this.browserCrypto,As.Redirect)}catch(db){return db instanceof On&&this.logger.error(`Interaction type validation failed due to ${db.errorCode}: ${db.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(us,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(us)),o&&(n=Lo(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw Hl(Ws);if(e.ear_jwe){const n=await Qc(this.getDiscoveredAuthority.bind(this),wi,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return Qc(mh,Yi,this.logger,this.performanceClient,t.correlationId)(t,e,bs,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const o=await Qc(this.createAuthCodeClient.bind(this),$i,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return Qc(gh,Xi,this.logger,this.performanceClient,t.correlationId)(t,e,n,bs,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:bs,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Hl(Gs)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(Ts);try{this.eventHandler.emitEvent(Hu,As.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:Ts,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await Qc(this.createAuthCodeClient.bind(this),$i,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===En)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Uu,As.Redirect,t)}const i=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Uu,As.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ls),void await this.navigationClient.navigateExternal(i,r);if(!1!==e.onRedirectNavigate(i))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ls),void await this.navigationClient.navigateExternal(i,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(db){throw db instanceof On&&(db.setCorrelationId(this.correlationId),n.cacheFailedRequest(db)),this.eventHandler.emitEvent(zu,As.Redirect,null,db),this.eventHandler.emitEvent($u,As.Redirect),db}this.eventHandler.emitEvent($u,As.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Fo.getAbsoluteUrl(t,Ec())}}async function kh(e,t,n,r,o){if(t.addQueueMeasurement(qi,r),!e)throw n.info("Navigate url is empty"),Hl(Gs);return o?Qc(Th,Ui,n,t,r)(e,o,t,r):Vc(Eh,zi,n,t,r)(e)}async function Sh(e,t,n,r,o){const i=Ah();if(!i.contentDocument)throw"No document associated with iframe!";return(await ph(i.contentDocument,e,t,n,r,o)).submit(),i}async function Ih(e,t,n,r,o,i,a){return r.addQueueMeasurement(Hi,i),new Promise(((r,i)=>{t<Nc&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(l),i(Hl(nl))}),t),l=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(db){}if(!t||"about:blank"===t)return;let o="";n&&(o=a===Dt?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(l),r(o)}),n)})).finally((()=>{Vc(_h,Ca,o,r,i)(e)}))}function Th(e,t,n,r){return n.addQueueMeasurement(Ui,r),new Promise(((n,r)=>{const o=Ah();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Eh(e){const t=Ah();return t.src=e,t}function Ah(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function _h(e){document.body===e.parentNode&&document.body.removeChild(e)}class Ph extends Qd{constructor(e,t,n,r,o,i,a,s,l,c,u){super(e,t,n,r,o,i,s,c,u),this.apiId=a,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(mi,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==Rt.NONE&&t.prompt!==Rt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${Rt.NONE}`),t.prompt=Rt.NONE):t.prompt=Rt.NONE;const n=await Qc(this.initializeAuthorizationRequest.bind(this),Gi,this.logger,this.performanceClient,e.correlationId)(t,As.Silent);return n.platformBroker=th.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme),Oc(n.authority),this.config.auth.protocolMode===An?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await Qc(this.createAuthCodeClient.bind(this),$i,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await Qc(this.silentTokenHelper.bind(this),Fi,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(db){if(db instanceof On&&(db.setCorrelationId(this.correlationId),n.cacheFailedRequest(db)),!t||!(db instanceof On)||db.errorCode!==$a)throw db;return this.performanceClient.addFields({retryError:db.errorCode},this.correlationId),await Qc(this.silentTokenHelper.bind(this),Fi,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await Qc(this.getDiscoveredAuthority.bind(this),wi,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Qc(dc,Fa,this.logger,this.performanceClient,t)(),o={...e,earJwk:r},i=await Qc(Sh,qi,this.logger,this.performanceClient,t)(this.config,n,o,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,s=await Qc(Ih,Hi,this.logger,this.performanceClient,t)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,a),l=Vc(nh,aa,this.logger,this.performanceClient,t)(s,a,this.logger);return Qc(mh,Yi,this.logger,this.performanceClient,t)(o,l,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(Hl(sl))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Fi,n);const r=await Qc(yh,Aa,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o={...t,codeChallenge:r.challenge},i=await Qc(hh,Ki,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient),a=await Qc(kh,qi,this.logger,this.performanceClient,n)(i,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,l=await Qc(Ih,Hi,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),c=Vc(nh,aa,this.logger,this.performanceClient,n)(l,s,this.logger);return Qc(gh,Xi,this.logger,this.performanceClient,n)(t,c,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}class xh extends Md{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(Ei,e.correlationId);const t=Or(),n=await Qc(this.executeTokenRequest.bind(this),Ti,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[St],o=new qd(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Qc(o.handleServerTokenResponse.bind(o),ia,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw Co(oo);if(this.performanceClient?.addQueueMeasurement(_i,e.correlationId),!e.account)throw Er(or);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Qc(this.acquireTokenWithCachedRefreshToken.bind(this),Ai,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(db){const n=db instanceof au&&db.errorCode===Zc,r=db instanceof Od&&db.errorCode===sn&&db.subError===ln;if(n||r)return Qc(this.acquireTokenWithCachedRefreshToken.bind(this),Ai,this.logger,this.performanceClient,e.correlationId)(e,!1);throw db}return Qc(this.acquireTokenWithCachedRefreshToken.bind(this),Ai,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(Ai,e.correlationId);const n=Vc(this.cacheManager.getRefreshToken.bind(this.cacheManager),Sa,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw lu(Zc);if(n.expiresOn&&Dr(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),lu(tu);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||tn.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Vu}};try{return await Qc(this.acquireToken.bind(this),Ei,this.logger,this.performanceClient,e.correlationId)(r)}catch(db){if(db instanceof au&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),db.subError===nu)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=Lr(n);this.cacheManager.removeRefreshToken(e)}throw db}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Ti,e.correlationId);const n=this.createTokenQueryParameters(e),r=Fo.appendQueryString(t.tokenEndpoint,n),o=await Qc(this.createTokenRequestBody.bind(this),Pi,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),a=cu(this.config.authOptions.clientId,e);return Qc(this.executePostToTokenEndpoint.bind(this),Si,this.logger,this.performanceClient,e.correlationId)(r,o,i,a,e.correlationId,Si)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Pi,e.correlationId);const t=new Map;if(ld(t,e.embeddedClientId||e.tokenBodyParameters?.[Yu]||this.config.authOptions.clientId),e.redirectUri&&cd(t,e.redirectUri),sd(t,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),kd(t,qt),Sd(t),md(t,this.config.libraryInfo),yd(t,this.config.telemetry.application),Pd(t),this.serverTelemetryManager&&!oi(this.config)&&_d(t,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(t,e.refreshToken),this.config.clientCredentials.clientSecret&&bd(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;wd(t,await zd(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Cd(t,n.assertionType)}if(e.authenticationScheme===tn.POP){const n=new Bd(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Qc(n.generateCnf.bind(n),ra,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}Ed(t,r)}else if(e.authenticationScheme===tn.SSH){if(!e.sshJwk)throw Co(ho);Ad(t,e.sshJwk)}if((!ko.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&fd(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Vu:try{hd(t,To(e.ccsCredential.credential))}catch(db){this.logger.verbose("Could not parse home account ID for CCS Header: "+db)}break;case Qu:dd(t,e.ccsCredential.credential)}return e.embeddedClientId&&xd(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Td(t,e.tokenBodyParameters),id(t,e.correlationId,this.performanceClient),Bo(t)}}class Rh extends Qd{async acquireToken(e){this.performanceClient.addQueueMeasurement(vi,e.correlationId);const t=await Qc(Wd,Mi,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(Is),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Qc(o.acquireTokenByRefreshToken.bind(o),_i,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(Hl(sl))}async createRefreshTokenClient(e){const t=await Qc(this.getClientConfiguration.bind(this),ji,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new xh(t,this.performanceClient)}}class Oh{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw Hl(fl);const r=e.correlationId||cc(),o=t.id_token?xr(t.id_token,Vl):void 0,i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Jc(Jc.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,i,this.logger,e.correlationId||cc()):void 0,s=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,a),l=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,r),c=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,n,r),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,r);return this.generateAuthenticationResult(e,{account:s,idToken:l,accessToken:c,refreshToken:u},o,a)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=Mo.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Hl(wl);const i=Mo.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),a=r?.tid,s=Hd(this.storage,o,i,Vl,r,t,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(s,n),s}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const i=Br(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(i,o),i}async loadAccessToken(e,t,n,r,o,i,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?So.fromString(t.scope):new So(e.scopes),l=i.expiresOn||t.expires_in+Or(),c=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+Or(),u=Fr(n,r,t.access_token,this.config.auth.clientId,o,s.printScopes(),l,c,Vl);return await this.storage.setAccessTokenCredential(u,a),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=qr(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){let o,i="",a=[],s=null;t?.accessToken&&(i=t.accessToken.secret,a=So.fromString(t.accessToken.target).asArray(),s=Mr(t.accessToken.expiresOn),o=Mr(t.accessToken.extendedExpiresOn));const l=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:a,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:i,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}class Nh extends $d{constructor(e){super(e),this.includeRedirectUri=!1}}class Mh extends Qd{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,s,l,c),this.apiId=a}async acquireToken(e){if(!e.code)throw Hl(kl);const t=await Qc(this.initializeAuthorizationRequest.bind(this),Gi,this.logger,this.performanceClient,e.correlationId)(e,As.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await Qc(this.getClientConfiguration.bind(this),ji,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new Nh(o);this.logger.verbose("Auth code client created");const a=new sh(i,this.browserStorage,r,this.logger,this.performanceClient);return await Qc(a.handleCodeResponseFromServer.bind(a),Vi,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(db){throw db instanceof On&&(db.setCorrelationId(this.correlationId),n.cacheFailedRequest(db)),db}}logout(){return Promise.reject(Hl(sl))}}function Dh(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function Lh(e,t){try{xc(e)}catch(db){throw t.end({success:!1},db),db}}class Bh{constructor(e){var t,n,r,o;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Kc(this.logger,this.performanceClient):Ar,this.eventHandler=new Wu(this.logger),this.browserStorage=this.isBrowserEnvironment?new Gu(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(db){throw Co(lo)}return{canonicalAuthority:e.authority?Xc(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,o=this.eventHandler,new Gu(t,{cacheLocation:os,temporaryCacheLocation:os,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},Ar,n,r,o));const i={cacheLocation:os,temporaryCacheLocation:os,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Gu(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Oh(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new Bh(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(wu);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowPlatformBroker,r=this.performanceClient.startMeasurement(Li,t);if(this.eventHandler.emitEvent(bu),await Qc(this.browserStorage.initialize.bind(this.browserStorage),Bi,this.logger,this.performanceClient,t)(t),n)try{this.nativeExtensionProvider=await th.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(db){this.logger.verbose(db)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Qc(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),ka,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t),this.initialized=!0,this.eventHandler.emitEvent(wu),r.end({allowPlatformBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Pc(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const t=this.browserStorage.getInteractionInProgress()?.type;if(t===ls)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),o=r&&th.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let i,a;this.eventHandler.emitEvent(Bu,As.Redirect);try{if(o&&this.nativeExtensionProvider){i=this.performanceClient.startMeasurement(hi,r?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new uh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ks,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=Qc(e.handleRedirectPromise.bind(e),ba,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;i=this.performanceClient.startMeasurement(hi,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const o=this.createRedirectClient(r);a=Qc(o.handleRedirectPromise.bind(o),va,this.logger,this.performanceClient,i.event.correlationId)(e,t,n,i)}}catch(db){throw this.browserStorage.resetRequestCache(),db}return a.then((e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Tu,As.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(_u,As.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:Dh(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(Fu,As.Redirect),e})).catch((e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(Pu,As.Redirect,null,t):this.eventHandler.emitEvent(Eu,As.Redirect,null,t),this.eventHandler.emitEvent(Fu,As.Redirect),i.end({success:!1},t),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(di,t);n.add({accountType:Dh(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(Rc(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ss),o?this.eventHandler.emitEvent(Au,As.Redirect,e):this.eventHandler.emitEvent(Iu,As.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new uh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,bs,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof Xd&&Zd(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof au){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(db){throw this.browserStorage.resetRequestCache(),n.end({success:!1},db),o?this.eventHandler.emitEvent(Pu,As.Redirect,null,db):this.eventHandler.emitEvent(Eu,As.Redirect,null,db),db}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(ui,t);n.add({scenarioId:e.scenarioId,accountType:Dh(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Lh(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,ss)}catch(db){return Promise.reject(db)}const r=this.getAllAccounts();let o;r.length>0?this.eventHandler.emitEvent(Au,As.Popup,e):this.eventHandler.emitEvent(Iu,As.Popup,e);const i=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))o=this.acquireTokenNative({...e,correlationId:t},ws).then((e=>(n.end({success:!0,isNativeBroker:!0,accountType:Dh(e.account)}),e))).catch((n=>{if(n instanceof Xd&&Zd(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,i)}if(n instanceof au){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,i)}throw n}));else{o=this.createPopupClient(t).acquireToken(e,i)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Tu,As.Popup,e):this.eventHandler.emitEvent(_u,As.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Dh(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(Pu,As.Popup,null,e):this.eventHandler.emitEvent(Eu,As.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(bi,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Dh(e.account)}),Lh(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(Ru,As.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,Cs).catch((e=>{if(e instanceof Xd&&Zd(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(Ou,As.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Dh(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Nu,As.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(ai,t);Lh(this.initialized,n),this.eventHandler.emitEvent(Mu,As.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Hl(Il);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Du,As.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Dh(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Lu,As.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},Ss,e.nativeAccountId).catch((e=>{throw e instanceof Xd&&Zd(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:Dh(r.account),success:!0}),r}throw Hl(El)}throw Hl(Sl)}catch(db){throw this.eventHandler.emitEvent(Lu,As.Silent,null,db),n.end({success:!1},db),db}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(ya,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(xi,e.correlationId),t){case Rs:case Os:case Ns:const t=this.createSilentCacheClient(e.correlationId);return Qc(t.acquireToken.bind(t),gi,this.logger,this.performanceClient,e.correlationId)(e);default:throw Er(hr)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(si,e.correlationId),t){case Rs:case Ns:case Ms:case Ds:const t=this.createSilentRefreshClient(e.correlationId);return Qc(t.acquireToken.bind(t),vi,this.logger,this.performanceClient,e.correlationId)(e);default:throw Er(hr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Ni,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Qc(t.acquireToken.bind(t),mi,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);Rc(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ls);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);xc(this.initialized),this.browserStorage.setInteractionInProgress(!0,ls);return this.createPopupClient(t).logout(e).finally((()=>{this.browserStorage.setInteractionInProgress(!1)}))}catch(db){return Promise.reject(db)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=Mo.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Hl(Pl);return new uh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!th.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Rt.NONE:case Rt.CONSENT:case Rt.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new wh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Ch(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Ph(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Cs,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new ch(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Rh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Mh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ss,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return _c(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===ns?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===ns?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?cc():ht.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||_s})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||_s})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(li,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Lh(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw Hl(ll);return n.add({accountType:Dh(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),{...r,state:e.state,correlationId:t}))).catch((e=>{throw e instanceof On&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=cu(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:n},t.homeAccountId),o=JSON.stringify(r),i=this.activeSilentTokenRequests.get(o);if("undefined"===typeof i){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=Qc(this.acquireTokenSilentAsync.bind(this),ci,this.logger,this.performanceClient,n)({...e,correlationId:n},t);return this.activeSilentTokenRequests.set(o,r),r.finally((()=>{this.activeSilentTokenRequests.delete(o)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),i}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(ci,e.correlationId),this.eventHandler.emitEvent(Au,As.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Qc(Vd,Di,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Rs;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof au&&e.subError!==nu),r=e.errorCode===$a||e.errorCode===hr,o=n&&r||e.errorCode===Zc||e.errorCode===tu,i=Bs.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==Ls){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const i=this.performanceClient.startMeasurement(yi,r.correlationId);i.add({awaitIframeCorrelationId:n});const a=await t;if(i.end({success:a}),a)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Qc(this.acquireTokenBySilentIframe.bind(this),Ni,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Qc(this.acquireTokenBySilentIframe.bind(this),Ni,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(_u,As.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(Pu,As.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return th.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Is,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof Xd&&Zd(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,Er(hr);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Os&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Qc(this.acquireTokenFromCache.bind(this),xi,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===Os)throw n;return this.eventHandler.emitEvent(xu,As.Silent,e),Qc(this.acquireTokenByRefreshToken.bind(this),si,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Qc(yh,Aa,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}}class Fh{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Lc(e);return await n.initialize(),Bh.createController(n,t)}(e);return new Fh(e,t)}constructor(e,t){this.controller=t||new Bh(new Lc(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const qh="nimbustodo1",Hh="b2clogin.com",Uh={auth:{clientId:"6438927f-5f93-41f7-80aa-d6516cd19114",authority:`${`https://${qh}.${Hh}`}/${qh}.onmicrosoft.com/${"B2C_1_nimbussignup_signin"}`,knownAuthorities:[`${qh}.${Hh}`],redirectUri:"https://ashy-grass-0bd7dc61e.azurestaticapps.net",postLogoutRedirectUri:"https://ashy-grass-0bd7dc61e.azurestaticapps.net",navigateToLoginRequestUrl:!0},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{allowRedirectInIframe:!0,loggerOptions:{loggerCallback:(e,t)=>console.log(`MSAL: ${t}`),logLevel:Sn.Warning}}},zh={scopes:["openid","profile","offline_access"]},$h=new Fh(Uh),jh=async()=>{try{$h.getActiveAccount()||await(async()=>{try{await $h.initialize(),console.log("MSAL initialized successfully \u2705")}catch(e){throw console.error("\u274c MSAL initialization failed:",e),e}})();const e=(await $h.loginPopup(zh)).account;return $h.setActiveAccount(e),{name:e.name,username:e.username}}catch(e){throw console.error("\u274c Microsoft login failed:",e),e}},Gh=(0,r.createContext)(null),Kh=e=>{let{children:t}=e;const[n,o]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=$h.getAllAccounts()[0];e&&o({name:e.name,username:e.username});const t=$h.addEventCallback((e=>{e.eventType===Tu&&e.payload.account&&($h.setActiveAccount(e.payload.account),o({name:e.payload.account.name,username:e.payload.account.username}))}));return()=>{t&&$h.removeEventCallback(t)}}),[]);const i={user:n,login:async()=>{try{const e=(await $h.loginPopup(zh)).account;o({name:e.name,username:e.username})}catch(e){console.error("\u274c Login failed:",e)}},logout:()=>{const e=$h.getActiveAccount();e&&($h.logoutPopup({account:e,postLogoutRedirectUri:"/"}),o(null))}};return(0,ut.jsx)(Gh.Provider,{value:i,children:t})},Wh=()=>{const e=(0,r.useContext)(Gh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};const Vh=function(){const e=te(),{login:t}=Wh(),[n,o]=(0,r.useState)("");return(0,ut.jsx)("div",{className:"login-page-wrapper",children:(0,ut.jsxs)("div",{className:"login-container",children:[(0,ut.jsx)("div",{className:"gif-section",children:(0,ut.jsx)("div",{className:"logo-container",children:(0,ut.jsx)("div",{className:"logo",children:(0,ut.jsx)("h1",{children:"Nimbus To-Do"})})})}),(0,ut.jsxs)("div",{className:"sign-in-box",children:[(0,ut.jsx)("h1",{children:"Sign In"}),n&&(0,ut.jsx)("div",{className:"error-message",children:n}),(0,ut.jsxs)("form",{children:[(0,ut.jsx)("input",{type:"email",placeholder:"Email",disabled:!0}),(0,ut.jsx)("input",{type:"password",placeholder:"Password",disabled:!0}),(0,ut.jsx)("button",{type:"submit",disabled:!0,children:"Sign In"})]}),(0,ut.jsxs)("div",{className:"social-auth",children:[(0,ut.jsx)("p",{children:"Or sign in with"}),(0,ut.jsxs)("button",{className:"microsoft-btn",onClick:async()=>{try{const n=await jh();console.log("\u2705 User logged in:",n),t(n),e("/dashboard")}catch(n){console.error("\u274c Microsoft login failed:",n),o("Microsoft login failed: "+n.message)}},children:[(0,ut.jsx)("i",{className:"fab fa-microsoft"})," Microsoft"]})]})]})]})})};const Qh=function(){const e=te(),[t,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[a,s]=(0,r.useState)("");return(0,ut.jsx)("div",{className:"login-page-wrapper",children:(0,ut.jsxs)("div",{className:"login-container",children:[(0,ut.jsx)("div",{className:"gif-section",children:(0,ut.jsx)("div",{className:"logo-container",children:(0,ut.jsx)("div",{className:"logo",children:(0,ut.jsx)("h1",{children:"Nimbus To-Do"})})})}),(0,ut.jsxs)("div",{className:"sign-in-box",children:[(0,ut.jsx)("h1",{children:"Sign Up"}),(0,ut.jsx)("input",{type:"email",placeholder:"Email",value:t,onChange:e=>n(e.target.value)}),(0,ut.jsx)("input",{type:"password",placeholder:"Password",value:o,onChange:e=>i(e.target.value)}),(0,ut.jsx)("input",{type:"password",placeholder:"Confirm Password",value:a,onChange:e=>s(e.target.value)}),(0,ut.jsx)("button",{onClick:()=>{t&&o&&o===a?e("/dashboard"):alert("Please check your inputs and ensure passwords match")},children:"Sign Up"}),(0,ut.jsxs)("div",{className:"signin-link",children:["Already have an account? ",(0,ut.jsx)("a",{href:"/login",children:"Login"})]})]})]})})};var Yh=n(950);function Jh(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xh=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Zh=()=>Math.random().toString(36).substring(7).split("").join("."),ep={INIT:`@@redux/INIT${Zh()}`,REPLACE:`@@redux/REPLACE${Zh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zh()}`};function tp(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function np(e,t,n){if("function"!==typeof e)throw new Error(Jh(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Jh(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Jh(1));return n(np)(e,t)}let r=e,o=t,i=new Map,a=i,s=0,l=!1;function c(){a===i&&(a=new Map,i.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(Jh(3));return o}function d(e){if("function"!==typeof e)throw new Error(Jh(4));if(l)throw new Error(Jh(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(Jh(6));t=!1,c(),a.delete(n),i=null}}}function h(e){if(!tp(e))throw new Error(Jh(7));if("undefined"===typeof e.type)throw new Error(Jh(8));if("string"!==typeof e.type)throw new Error(Jh(17));if(l)throw new Error(Jh(9));try{l=!0,o=r(o,e)}finally{l=!1}return(i=a).forEach((e=>{e()})),e}h({type:ep.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Jh(10));r=e,h({type:ep.REPLACE})},[Xh]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Jh(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Xh](){return this}}}}}function rp(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(this,r))}}function op(e,t){if("function"===typeof e)return rp(e,t);if("object"!==typeof e||null===e)throw new Error(Jh(16));const n={};for(const r in e){const o=e[r];"function"===typeof o&&(n[r]=rp(o,t))}return n}function ip(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}n(237);var ap=r.version.startsWith("19"),sp=Symbol.for(ap?"react.transitional.element":"react.element"),lp=Symbol.for("react.portal"),cp=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),dp=Symbol.for("react.profiler"),hp=Symbol.for("react.consumer"),pp=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),mp=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),vp=Symbol.for("react.lazy"),bp=fp,wp=yp;function Cp(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case sp:switch(e=e.type){case cp:case dp:case up:case gp:case mp:return e;default:switch(e=e&&e.$$typeof){case pp:case fp:case vp:case yp:case hp:return e;default:return t}}case lp:return t}}}function kp(e,t,n,r,o){let i,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=o,p=!1;function f(o,p){const f=!d(p,a),g=!u(o,i,p,a);return i=o,a=p,f&&g?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):f?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):g?function(){const t=e(i,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(o,u){return p?f(o,u):(i=o,a=u,s=e(i,a),l=t(r,a),c=n(s,l,a),p=!0,c)}}function Sp(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Ip(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Tp(e,t){return function(t,n){let{displayName:r}=n;const o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(t,n){o.mapToProps=e,o.dependsOnOwnProps=Ip(e);let r=o(t,n);return"function"===typeof r&&(o.mapToProps=r,o.dependsOnOwnProps=Ip(r),r=o(t,n)),r},o}}function Ep(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Ap(e,t,n){return{...n,...e,...t}}function _p(e){e()}var Pp={notify(){},get:()=>[]};function xp(e,t){let n,r=Pp,o=0,i=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){o++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_p((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){r&&null!==e&&(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function l(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=Pp)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}var Rp=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Op=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Np=(()=>Rp||Op?r.useLayoutEffect:r.useEffect)();function Mp(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Dp(e,t){if(Mp(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Mp(e[n[o]],t[n[o]]))return!1;return!0}var Lp={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bp={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Fp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qp={[bp]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[wp]:Fp};function Hp(e){return Cp(e)===yp?Fp:qp[e.$$typeof]||Lp}var Up=Object.defineProperty,zp=Object.getOwnPropertyNames,$p=Object.getOwnPropertySymbols,jp=Object.getOwnPropertyDescriptor,Gp=Object.getPrototypeOf,Kp=Object.prototype;function Wp(e,t){if("string"!==typeof t){if(Kp){const n=Gp(t);n&&n!==Kp&&Wp(e,n)}let n=zp(t);$p&&(n=n.concat($p(t)));const r=Hp(e),o=Hp(t);for(let i=0;i<n.length;++i){const a=n[i];if(!Bp[a]&&(!o||!o[a])&&(!r||!r[a])){const n=jp(t,a);try{Up(e,a,n)}catch(db){}}}}return e}var Vp=Symbol.for("react-redux-context"),Qp="undefined"!==typeof globalThis?globalThis:{};function Yp(){if(!r.createContext)return{};const e=Qp[Vp]??=new Map;let t=e.get(r.createContext);return t||(t=r.createContext(null),e.set(r.createContext,t)),t}var Jp=Yp(),Xp=[null,null];function Zp(e,t,n,r,o,i){e.current=r,n.current=!1,o.current&&(o.current=null,i())}function ef(e,t){return e===t}var tf=function(e,t,n){let{pure:o,areStatesEqual:i=ef,areOwnPropsEqual:a=Dp,areStatePropsEqual:s=Dp,areMergedPropsEqual:l=Dp,forwardRef:c=!1,context:u=Jp}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=u,h=function(e){return e?"function"===typeof e?Tp(e):Ep(e,"mapStateToProps"):Sp((()=>({})))}(e),p=function(e){return e&&"object"===typeof e?Sp((t=>function(e,t){const n={};for(const r in e){const o=e[r];"function"===typeof o&&(n[r]=function(){return t(o(...arguments))})}return n}(e,t))):e?"function"===typeof e?Tp(e):Ep(e,"mapDispatchToProps"):Sp((e=>({dispatch:e})))}(t),f=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:o,areMergedPropsEqual:i}=n,a=!1;return function(t,n,o){const s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):Ep(e,"mergeProps"):()=>Ap}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,o={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:f,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function u(t){const[n,i,a]=r.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=r.useMemo((()=>d),[n,d]),l=r.useContext(s),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(l)&&Boolean(l.store);const h=c?t.store:l.store,p=u?l.getServerState:h.getState,f=r.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:o,...i}=t;return kp(n(e,i),r(e,i),o(e,i),e,i)}(h.dispatch,o)),[h]),[m,y]=r.useMemo((()=>{if(!g)return Xp;const e=xp(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),v=r.useMemo((()=>c?l:{...l,subscription:m}),[c,l,m]),b=r.useRef(void 0),w=r.useRef(a),C=r.useRef(void 0),k=r.useRef(!1),S=r.useRef(!1),I=r.useRef(void 0);Np((()=>(S.current=!0,()=>{S.current=!1})),[]);const T=r.useMemo((()=>()=>C.current&&a===w.current?C.current:f(h.getState(),a)),[h,a]),E=r.useMemo((()=>e=>m?function(e,t,n,r,o,i,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const p=()=>{if(d||!s.current)return;const e=t.getState();let n,p;try{n=r(e,o.current)}catch(db){p=db,h=db}p||(h=null),n===i.current?a.current||c():(i.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,h,m,f,w,b,k,S,C,y,e):()=>{}),[m]);var A,_,P;let x;A=Zp,_=[w,b,k,a,C,y],Np((()=>A(..._)),P);try{x=r.useSyncExternalStore(E,T,p?()=>f(p(),a):T)}catch(O){throw I.current&&(O.message+=`\nThe error may be correlated with this previous error:\n${I.current.stack}\n\n`),O}Np((()=>{I.current=void 0,C.current=void 0,b.current=x}));const R=r.useMemo((()=>r.createElement(e,{...x,ref:i})),[i,e,x]);return r.useMemo((()=>g?r.createElement(s.Provider,{value:v},R):R),[s,R,v])}const m=r.memo(u);if(m.WrappedComponent=e,m.displayName=u.displayName=n,c){const t=r.forwardRef((function(e,t){return r.createElement(m,{...e,reactReduxForwardedRef:t})}));return t.displayName=n,t.WrappedComponent=e,Wp(t,e)}return Wp(m,e)}};var nf=function(e){const{children:t,context:n,serverState:o,store:i}=e,a=r.useMemo((()=>{const e=xp(i);return{store:i,subscription:e,getServerState:o?()=>o:void 0}}),[i,o]),s=r.useMemo((()=>i.getState()),[i]);Np((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const l=n||Jp;return r.createElement(l.Provider,{value:a},t)};var rf="Invariant failed";var of=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},af=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},sf=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},lf={top:0,right:0,bottom:0,left:0},cf=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?lf:n,o=e.border,i=void 0===o?lf:o,a=e.padding,s=void 0===a?lf:a,l=of(af(t,r)),c=of(sf(t,i)),u=of(sf(c,s));return{marginBox:l,borderBox:of(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},uf=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(rf)}(!1),n},df=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return cf({borderBox:l,border:i,margin:a,padding:s})},hf=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),df(e,t)},pf=function(e,t){var n={top:uf(t.marginTop),right:uf(t.marginRight),bottom:uf(t.marginBottom),left:uf(t.marginLeft)},r={top:uf(t.paddingTop),right:uf(t.paddingRight),bottom:uf(t.paddingBottom),left:uf(t.paddingLeft)},o={top:uf(t.borderTopWidth),right:uf(t.borderRightWidth),bottom:uf(t.borderBottomWidth),left:uf(t.borderLeftWidth)};return cf({borderBox:e,margin:n,padding:r,border:o})},ff=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return pf(t,n)};const gf=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(null,arguments)}function yf(e,t){}yf.bind(null,"warn"),yf.bind(null,"error");function vf(){}function bf(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const wf="Invariant failed";class Cf extends Error{}function kf(e,t){throw new Cf(wf)}Cf.prototype.toString=function(){return this.message};class Sf extends r.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=vf,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof Cf&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=bf(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Cf))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const If=e=>e+1,Tf=(e,t)=>{const n=e.droppableId===t.droppableId,r=If(e.index),o=If(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${o}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${o}\n  `},Ef=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,Af=e=>`\n  The item has returned to its starting position\n  of ${If(e.index)}\n`,_f={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${If(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return Tf(e.source,t);const n=e.combine;return n?Ef(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${Af(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${Tf(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${Ef(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${Af(e.source)}\n  `}};function Pf(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(n=e[o],r=t[o],!(n===r||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function xf(e,t){const n=(0,r.useState)((()=>({inputs:t,result:e()})))[0],o=(0,r.useRef)(!0),i=(0,r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&Pf(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,r.useEffect)((()=>{o.current=!1,i.current=a}),[a]),a.result}function Rf(e,t){return xf((()=>e),t)}const Of={x:0,y:0},Nf=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Mf=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Df=(e,t)=>e.x===t.x&&e.y===t.y,Lf=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),Bf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},Ff=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),qf=(e,t)=>Math.min(...t.map((t=>Ff(e,t)))),Hf=e=>t=>({x:e(t.x),y:e(t.y)});const Uf=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),zf=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],$f=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=of({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):of(e);var jf=e=>{let{page:t,withPlaceholder:n,axis:r,frame:o}=e;const i=((e,t)=>t?Uf(e,t.scroll.diff.displacement):e)(t.marginBox,o),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(i,r,n);return{page:t,withPlaceholder:n,active:$f(a,o)}},Gf=(e,t)=>{e.frame||kf();const n=e.frame,r=Mf(t,n.scroll.initial),o=Lf(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},a=jf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}};function Kf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pf,n=null;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;const a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}const Wf=Kf((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Vf=Kf((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Qf=Kf((e=>Object.values(e))),Yf=Kf((e=>Object.values(e)));var Jf=Kf(((e,t)=>{const n=Yf(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function Xf(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Zf(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var eg=Kf(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),tg=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ng={point:Of,value:0},rg={invisible:{},visible:{},all:[]},og={displaced:rg,displacedBy:ng,at:null};var ig=(e,t)=>n=>e<=n&&n<=t,ag=e=>{const t=ig(e.top,e.bottom),n=ig(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(a&&s)return!0;return a&&i||s&&o}},sg=e=>{const t=ig(e.top,e.bottom),n=ig(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const lg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},cg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const ug=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:o,isVisibleThroughFrameFn:i}=e;const a=o?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Of;return Uf(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,i)&&((e,t,n)=>n(t)(e))(a,r,i)},dg=e=>ug({...e,isVisibleThroughFrameFn:sg});function hg(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:o,forceShouldAnimate:i,last:a}=e;return t.reduce((function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return of(af(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:n,viewport:o,withDroppableDisplacement:!0},ug({...c,isVisibleThroughFrameFn:ag})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const i=o[e];return!i||i.shouldAnimate})(l,a,i),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function pg(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:o}=e;const i=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:rg,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function fg(e){let{draggable:t,insideDestination:n,destination:r,viewport:o,displacedBy:i,last:a,index:s,forceShouldAnimate:l}=e;const c=tg(t,r);if(null==s)return pg({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});const u=n.find((e=>e.descriptor.index===s));if(!u)return pg({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});const d=eg(t,n),h=n.indexOf(u);return{displaced:hg({afterDragging:d.slice(h),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function gg(e,t){return Boolean(t.effected[e])}var mg=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:o,destination:i,insideDestination:a,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||kf(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:o}=e;if(!r.length)return null;const i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:fg({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:o,afterCritical:i}=e;if(!n.isCombineEnabled)return null;const a=o.draggableId,s=r[a].descriptor.index;return gg(a,i)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==d?null:fg({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},yg=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const o=Zf(n);o||kf();const i=o.draggableId,a=r[i].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:o}=e;const i=Boolean(t.visible[r]||t.invisible[r]);return gg(r,n)?i?Of:Lf(o.point):i?o.point:Of})({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Nf(a,s)};const vg=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,bg=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,wg=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return Bf(t.line,n.marginBox[t.end]+vg(t,r),bg(t,n.marginBox,r))},Cg=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return Bf(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),bg(t,n.marginBox,r))};var kg=e=>{let{impact:t,draggable:n,draggables:r,droppable:o,afterCritical:i}=e;const a=Jf(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return Bf(t.line,n.contentBox[t.start]+vg(t,r),bg(t,n.contentBox,r))})({axis:l,moveInto:o.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(gg(d,i))return Cg({axis:l,moveRelativeTo:e.page,isMoving:s});const t=df(e.page,u.point);return Cg({axis:l,moveRelativeTo:t,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(gg(h.descriptor.id,i)){const e=df(h.page,Lf(i.displacedBy.point));return wg({axis:l,moveRelativeTo:e,isMoving:s})}return wg({axis:l,moveRelativeTo:h.page,isMoving:s})},Sg=(e,t)=>{const n=e.frame;return n?Nf(t,n.scroll.diff.displacement):t};var Ig=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:o,afterCritical:i}=e;const a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?kg({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):yg({impact:t,draggables:o,afterCritical:i}):a})(e),n=e.droppable;return n?Sg(n,t):t},Tg=(e,t)=>{const n=Mf(t,e.scroll.initial),r=Lf(n);return{frame:of({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Eg(e,t){return e.map((e=>t[e]))}var Ag=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const o=((e,t)=>Nf(e.scroll.diff.displacement,t))(r,t),i=Mf(o,n.page.borderBox.center);return Nf(n.client.borderBox.center,i)},_g=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:o,withDroppableDisplacement:i,onlyOnMainAxis:a=!1}=e;const s=Mf(r,t.page.borderBox.center),l={target:Uf(t.page.borderBox,s),destination:n,withDroppableDisplacement:i,viewport:o};return a?(e=>{return ug({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=ig(e.top,e.bottom),r=ig(e.left,e.right);return e=>t===lg?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):dg(l)},Pg=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:o,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=Jf(r.descriptor.id,o),d=tg(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:o,previousImpact:i}=e;if(!r.isCombineEnabled)return null;if(!Xf(i))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...i,at:t}}const s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;const c=eg(n,o);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&kf();const d=u-1;return d<0?null:a(c[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||mg({isMovingForward:t,isInHomeList:d,draggable:n,draggables:o,destination:r,insideDestination:u,previousImpact:i,viewport:a,afterCritical:c});if(!h)return null;const p=Ig({impact:h,draggable:n,droppable:r,draggables:o,afterCritical:c});if(_g({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:Ag({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null}}const f=Mf(p,s),g=(e=>{let{impact:t,viewport:n,destination:r,draggables:o,maxScrollChange:i}=e;const a=Tg(n,Nf(n.scroll.current,i)),s=r.frame?Gf(r,Nf(r.frame.scroll.current,i)):r,l=t.displaced,c=hg({afterDragging:Eg(l.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=hg({afterDragging:Eg(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},p=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?h[e]=t:d[e]=!0})),{...t,displaced:{all:l.all,invisible:d,visible:h}}})({impact:h,viewport:a,destination:r,draggables:o,maxScrollChange:f});return{clientSelection:l,impact:g,scrollJumpRequest:f}};const xg=e=>{const t=e.subject.active;return t||kf(),t};const Rg=(e,t)=>{const n=e.page.borderBox.center;return gg(e.descriptor.id,t)?Mf(n,t.displacedBy.point):n},Og=(e,t)=>{const n=e.page.borderBox;return gg(e.descriptor.id,t)?Uf(n,Lf(t.displacedBy.point)):n};var Ng=Kf((function(e,t){const n=t[e.line];return{value:n,point:Bf(e.line,n)}}));const Mg=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Dg=(e,t,n)=>{const r=e.frame;tg(t,e)&&kf(),e.subject.withPlaceholder&&kf();const o=Ng(e.axis,t.displaceBy).point,i=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return Bf(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],i=Jf(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-o;return i<=0?null:Bf(r.line,i)})(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=jf({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=i?Nf(r.scroll.max,i):r.scroll.max,l=Mg(r,s),c=jf({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var Lg=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:o,draggables:i,droppables:a,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:o,viewport:i}=e;const a=r.subject.active;if(!a)return null;const s=r.axis,l=ig(a[s.start],a[s.end]),c=Qf(o).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>ag(i.frame)(xg(e)))).filter((e=>{const n=xg(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((e=>{const t=xg(e),n=ig(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort(((e,n)=>{const r=xg(e)[s.crossAxisStart],o=xg(n)[s.crossAxisStart];return t?r-o:o-r})).filter(((e,t,n)=>xg(e)[s.crossAxisStart]===xg(n[0])[s.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>ig(xg(e)[s.start],xg(e)[s.end])(n[s.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>xg(e)[s.start]-xg(t)[s.start]))[0]:c.sort(((e,t)=>{const r=qf(n,zf(xg(e))),o=qf(n,zf(xg(t)));return r!==o?r-o:xg(e)[s.start]-xg(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;const u=Jf(c.descriptor.id,i),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:o,afterCritical:i}=e;const a=o.filter((e=>dg({target:Og(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const o=Ff(t,Sg(r,Rg(e,i))),a=Ff(t,Sg(r,Rg(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:o,draggables:i,destination:a,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:rg,displacedBy:ng,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=Ig({impact:e,draggable:o,droppable:a,draggables:i,afterCritical:l}),n=tg(o,a)?a:Dg(a,o,i);return _g({draggable:o,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===o.descriptor.id||c?e:e+1})(),d=Ng(a.axis,o.displaceBy);return fg({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:rg,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const p=Ig({impact:h,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Ag({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},Bg=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var Fg=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=Bg(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:p}=t.dimensions;return l?Pg({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Lg({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function qg(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Hg(e){const t=ig(e.top,e.bottom),n=ig(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Ug(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const o=Qf(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(o=n,!((r=t).left<o.right&&r.right>o.left&&r.top<o.bottom&&r.bottom>o.top))return!1;var r,o;if(Hg(n)(t.center))return!0;const i=e.axis,a=n.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=ig(n[i.crossAxisStart],n[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const o=n.page.borderBox.center,i=r.map((e=>{const n=e.axis,r=Bf(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Ff(o,r)}})).sort(((e,t)=>t.distance-e.distance));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}const zg=(e,t)=>of(Uf(e,t));function $g(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var jg=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:o,previousImpact:i,viewport:a,afterCritical:s}=e;const l=zg(n.page.borderBox,t),c=Ug({pageBorderBox:l,draggable:n,droppables:o});if(!c)return og;const u=o[c],d=Jf(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?zg(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:o,insideDestination:i,afterCritical:a}=e;if(!o.isCombineEnabled)return null;const s=o.axis,l=Ng(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=eg(t,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=gg(t,a),l=$g({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:o.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:o,last:i,viewport:a,afterCritical:s}=e;const l=r.axis,c=Ng(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],p=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:eg(n,o).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=gg(t,s),o=$g({displaced:i,id:t});return r?o?h<=n:d<n-u:o?h<=n+u:d<n}))||null,inHomeList:tg(n,r)});return fg({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:p})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},Gg=(e,t)=>({...e,[t.descriptor.id]:t});const Kg=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const o=Bg(t),i=Bg(n);if(!o)return r;if(o===i)return r;const a=r[o];if(!a.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||kf();const n=e.frame;if(!n){const t=jf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||kf();const o=Mg(n,r),i=jf({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}})(a);return Gg(r,s)};var Wg=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:o,impact:i,scrollJumpRequest:a}=e;const s=o||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Mf(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Nf(t.initial.client.borderBoxCenter,u)},h={selection:Nf(d.selection,s.scroll.current),borderBoxCenter:Nf(d.borderBoxCenter,s.scroll.current),offset:Nf(d.offset,s.scroll.diff.value)},p={client:d,page:h};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:s,current:p};const f=l.draggables[t.critical.draggable.id],g=i||jg({pageOffset:h.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:o,impact:i}=e;const a=Kg({previousImpact:o,impact:i,droppables:r}),s=Bg(i);if(!s)return a;const l=r[s];if(tg(t,l))return a;if(l.subject.withPlaceholder)return a;const c=Dg(l,t,n);return Gg(a,c)})({draggable:f,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:p,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}};var Vg=e=>{let{impact:t,viewport:n,draggables:r,destination:o,forceShouldAnimate:i}=e;const a=t.displaced,s=function(e,t){return e.map((e=>t[e]))}(a.all,r),l=hg({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a});return{...t,displaced:l}},Qg=e=>{let{impact:t,draggable:n,droppable:r,draggables:o,viewport:i,afterCritical:a}=e;const s=Ig({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return Ag({pageBorderBoxCenter:s,draggable:n,viewport:i})},Yg=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&kf();const o=t.impact,i=r||t.viewport,a=n||t.dimensions,{draggables:s,droppables:l}=a,c=s[t.critical.draggable.id],u=Bg(o);u||kf();const d=l[u],h=Vg({impact:o,viewport:i,destination:d,draggables:s}),p=Qg({impact:h,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Wg({impact:h,clientSelection:p,state:t,dimensions:a,viewport:i})},Jg=e=>{let{draggable:t,home:n,draggables:r,viewport:o}=e;const i=Ng(n.axis,t.displaceBy),a=Jf(n.descriptor.id,r),s=a.indexOf(t);-1===s&&kf();const l=a.slice(s+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:c};var d;return{impact:{displaced:hg({afterDragging:l,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const Xg=e=>{0},Zg=e=>{0};var em=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const o=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,i=(e=>{const t=e.frame;return t||kf(),t})(n[t]),a=i.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const o=df(t.client,n),i=hf(o,r);return{...t,placeholder:{...t.placeholder,client:o},client:o,page:i}})({draggable:e,offset:Nf(o,a),initialWindowScroll:r.scroll.initial});return s}))};const tm=e=>"SNAP"===e.movementMode,nm=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:Gg(e.droppables,t)}))(e.dimensions,t);return!tm(e)||n?Wg({state:e,dimensions:r}):Yg({state:e,dimensions:r})};function rm(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const om={phase:"IDLE",completed:null,shouldFlush:!1};var im=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:om,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...om,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&kf();const{critical:n,clientSelection:r,viewport:o,dimensions:i,movementMode:a}=t.payload,s=i.draggables[n.draggable.id],l=i.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:Of},u={client:c,page:{selection:Nf(c.selection,o.scroll.initial),borderBoxCenter:Nf(c.selection,o.scroll.initial),offset:Nf(c.selection,o.scroll.diff.value)}},d=Qf(i.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:p}=Jg({draggable:s,home:l,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:p,onLiftImpact:h,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&kf();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&kf(),(e=>{let{state:t,published:n}=e;Xg();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return Gf(n,e.scroll)})),o={...t.dimensions.droppables,...Wf(r)},i=Vf(em({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a={...t.dimensions.draggables,...i};n.removals.forEach((e=>{delete a[e]}));const s={droppables:o,draggables:a},l=Bg(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:p}=Jg({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=c&&c.isCombineEnabled?t.impact:h,g=jg({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:f,viewport:t.viewport,afterCritical:p});Zg();const m={...t,phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===t.phase?m:{...m,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;qg(e)||kf();const{client:n}=t.payload;return Df(n,e.current.client.selection)?e:Wg({state:e,clientSelection:n,impact:tm(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return rm(e);if("COLLECTING"===e.phase)return rm(e);qg(e)||kf();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const i=Gf(o,r);return nm(e,i,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;qg(e)||kf();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||kf(),o.isEnabled===r&&kf();const i={...o,isEnabled:r};return nm(e,i,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;qg(e)||kf();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||kf(),o.isCombineEnabled===r&&kf();const i={...o,isCombineEnabled:r};return nm(e,i,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;qg(e)||kf(),e.isWindowScrollAllowed||kf();const n=t.payload.newScroll;if(Df(e.viewport.scroll.current,n))return rm(e);const r=Tg(e.viewport,n);return tm(e)?Yg({state:e,viewport:r}):Wg({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!qg(e))return e;const n=t.payload.maxScroll;if(Df(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&kf();const n=Fg({state:e,type:t.type});return n?Wg({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&kf();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&kf();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function am(e,t){return e instanceof Object&&"type"in e&&e.type===t}const sm=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),lm=()=>({type:"COLLECTION_STARTING",payload:null}),cm=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),um=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),dm=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),hm=e=>({type:"MOVE",payload:e}),pm=()=>({type:"MOVE_UP",payload:null}),fm=()=>({type:"MOVE_DOWN",payload:null}),gm=()=>({type:"MOVE_RIGHT",payload:null}),mm=()=>({type:"MOVE_LEFT",payload:null}),ym=e=>({type:"DROP_COMPLETE",payload:e}),vm=e=>({type:"DROP",payload:e}),bm=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const wm="cubic-bezier(.2,1,.1,1)",Cm={drop:0,combining:.7},km={drop:.75},Sm={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Im=`${Sm.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,Tm={fluid:`opacity ${Im}`,snap:`transform ${Im}, opacity ${Im}`,drop:e=>{const t=`${e}s ${wm}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Im}`,placeholder:`height ${Im}, width ${Im}, margin ${Im}`},Em=e=>Df(e,Of)?void 0:`translate(${e.x}px, ${e.y}px)`,Am=Em,_m=(e,t)=>{const n=Em(e);if(n)return t?`${n} scale(${km.drop})`:n},{minDropTime:Pm,maxDropTime:xm}=Sm,Rm=xm-Pm;const Om=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!am(r,"DROP"))return void e(r);const o=t(),i=r.payload.reason;if("COLLECTING"===o.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:i}));if("IDLE"===o.phase)return;"DROP_PENDING"===o.phase&&o.isWaiting&&kf(),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&kf();const a=o.critical,s=o.dimensions,l=s.draggables[o.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:o,viewport:i,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:Vg({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:rg},didDropInsideDroppable:!0}})({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=u?Xf(c):null,h=u?Zf(c):null,p={index:a.draggable.index,droppableId:a.droppable.id},f={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:i,mode:o.movementMode,destination:d,combine:h},g=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:o,afterCritical:i}=e;const{draggables:a,droppables:s}=r,l=Bg(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=Qg({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return Mf(d,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),m={critical:o.critical,afterCritical:o.afterCritical,result:f,impact:c};if(!(!Df(o.current.client.offset,g)||Boolean(f.combine)))return void n(ym({completed:m}));const y=(e=>{let{current:t,destination:n,reason:r}=e;const o=Ff(t,n);if(o<=0)return Pm;if(o>=1500)return xm;const i=Pm+Rm*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))})({current:o.current.client.offset,destination:g,reason:i});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:y,completed:m}))}};var Nm=()=>({x:window.pageXOffset,y:window.pageYOffset});function Mm(e){let{onWindowScroll:t}=e;const n=gf((function(){t(Nm())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let o=vf;function i(){return o!==vf}return{start:function(){i()&&kf(),o=bf(window,[r])},stop:function(){i()||kf(),n.cancel(),o(),o=vf},isActive:i}}const Dm=e=>{const t=Mm({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&am(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>am(e,"DROP_COMPLETE")||am(e,"DROP_ANIMATE")||am(e,"FLUSH"))(n)&&t.stop(),e(n)}};var Lm=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&kf();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const Bm=(e,t)=>{Xg(),t(),Zg()},Fm=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function qm(e,t,n,r){if(!e)return void n(r(t));const o=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),o=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=()=>t,o})(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var Hm=(e,t)=>{const n=((e,t)=>{const n=Lm();let r=null;const o=n=>{r||kf(),r=null,Bm(0,(()=>qm(e().onDragEnd,n,t,_f.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&kf(),Bm(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&kf(),Bm(0,(()=>{const r=e().onBeforeDragStart;r&&r(Fm(t,n))}))},start:(o,i)=>{r&&kf();const a=Fm(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((()=>{Bm(0,(()=>qm(e().onDragStart,a,t,_f.onDragStart)))}))},update:(o,i)=>{const a=Xf(i),s=Zf(i);r||kf();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(o,r.lastCritical);l&&(r.lastCritical=o);const c=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=a);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(h&&(r.lastCombine=s),!l&&!c&&!h)return;const p={...Fm(o,r.mode),combine:s,destination:a};n.add((()=>{Bm(0,(()=>qm(e().onDragUpdate,p,t,_f.onDragUpdate)))}))},flush:()=>{r||kf(),n.flush()},drop:o,abort:()=>{if(!r)return;const e={...Fm(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};o(e)}}})(e,t);return e=>t=>r=>{if(am(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(am(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(am(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),am(r,"FLUSH"))return void n.abort();const o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}};const Um=e=>t=>n=>{if(!am(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&kf(),e.dispatch(ym({completed:r.completed}))},zm=e=>{let t=null,n=null;return r=>o=>{if((am(o,"FLUSH")||am(o,"DROP_COMPLETE")||am(o,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),!am(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=bf(window,[i])}))}};var $m=e=>t=>n=>r=>{if((e=>am(e,"DROP_COMPLETE")||am(e,"DROP_ANIMATE")||am(e,"FLUSH"))(r))return e.stop(),void n(r);if(am(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();return"DRAGGING"!==o.phase&&kf(),void e.start(o)}n(r),e.scroll(t.getState())};const jm=e=>t=>n=>{if(t(n),!am(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(vm({reason:r.reason})))},Gm=ip;var Km=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:o,announce:i,autoScroller:a}=e;return np(im,Gm(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const o=e(n,r);let i=()=>{throw new Error(Jh(15))};const a={getState:o.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},s=t.map((e=>e(a)));return i=ip(...s)(o.dispatch),{...o,dispatch:i}}}((s=r,()=>e=>t=>{am(t,"INITIAL_PUBLISH")&&s.dragging(),am(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(am(t,"FLUSH")||am(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(am(n,"DROP_COMPLETE")||am(n,"FLUSH")||am(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>o=>{if(!am(o,"LIFT"))return void t(o);const{id:i,clientSelection:a,movementMode:s}=o.payload,l=n();"DROP_ANIMATING"===l.phase&&r(ym({completed:l.completed})),"IDLE"!==n().phase&&kf(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:s}});const c={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:h}})}})(t),Om,Um,zm,jm,$m(a),Dm,(e=>{let t=!1;return()=>n=>r=>{if(am(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(am(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(am(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),Hm(o,i))));var s};var Wm=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:o}=e;const i=Mf({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Vm=()=>{const e=document.documentElement;return e||kf(),e},Qm=()=>{const e=Vm();return Wm({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Ym=e=>{let{critical:t,scrollOptions:n,registry:r}=e;Xg();const o=(()=>{const e=Nm(),t=Qm(),n=e.y,r=e.x,o=Vm(),i=o.clientWidth,a=o.clientHeight;return{frame:of({top:n,left:r,right:r+i,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Of,displacement:Of}}}})(),i=o.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(i,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(i))),c={draggables:Vf(l),droppables:Wf(s)};Zg();return{dimensions:c,critical:t,viewport:o}};function Jm(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Xm=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},o=null;const i=()=>{o||(n.collectionStarting(),o=requestAnimationFrame((()=>{o=null,Xg();const{additions:e,removals:i,modified:a}=r,s=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(Of))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(i),modified:l};r={additions:{},removals:{},modified:{}},Zg(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:()=>{o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=t=>{n||kf();const o=n.critical.draggable;"ADDITION"===t.type&&Jm(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Jm(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:(r,o)=>{e.droppable.exists(r)||kf(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:(r,o)=>{n&&(e.droppable.exists(r)||kf(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,o)=>{n&&(e.droppable.exists(r)||kf(),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:t=>{n&&kf();const r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},Ym({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return i},Zm=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),ey=e=>{window.scrollBy(e.x,e.y)};const ty=Kf((e=>Qf(e).filter((e=>!!e.isEnabled&&!!e.frame))));var ny=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const o=((e,t)=>{const n=ty(t).find((t=>(t.frame||kf(),Hg(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return o};const ry={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var oy=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const o=n-t;if(0===o)return 0;return(r-t)/o},iy=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>ry)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-oy({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=n.maxPixelScroll*n.ease(r);return Math.ceil(o)}(t,n,i);return 0===a?0:o?Math.max(((e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,s=i,l=Date.now()-a;if(l>=i)return e;if(l<o)return 1;const c=oy({startOfRange:o,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,i),1):a},ay=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>ry)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,o,a);return n[o.end]<n[o.start]?iy({distanceToEdge:n[o.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*iy({distanceToEdge:n[o.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})};const sy=Hf((e=>0===e?0:e));var ly=e=>{let{dragStartTime:t,container:n,subject:r,center:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},l=ay({container:n,distanceToEdges:s,dragStartTime:t,axis:lg,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),c=ay({container:n,distanceToEdges:s,dragStartTime:t,axis:cg,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=sy({x:c,y:l});if(Df(u,Of))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?Df(d,Of)?null:d:null};const cy=Hf((e=>0===e?0:e>0?1:-1)),uy=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:o}=t;const i=Nf(n,o),a={x:e(i.x,r.x),y:e(i.y,r.y)};return Df(a,Of)?null:a}})(),dy=e=>{let{max:t,current:n,change:r}=e;const o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=cy(r),a=uy({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},hy=(e,t)=>dy({current:e.scroll.current,max:e.scroll.max,change:t}),py=(e,t)=>{const n=e.frame;return!!n&&dy({current:n.scroll.current,max:n.scroll.max,change:t})};var fy=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:o,scrollDroppable:i,getAutoScrollerOptions:a}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s=ly({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&hy(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void o(e)}const c=ny({center:s,destination:Bg(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s=t.frame;if(!s)return null;const l=ly({dragStartTime:o,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&py(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&i(c.descriptor.id,u)},gy=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const o=(e,t)=>{if(!py(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&py(e,t)?uy({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const o=Mf(t,r);n(e.descriptor.id,o);return Mf(t,o)},i=(e,t,n)=>{if(!e)return n;if(!hy(t,n))return n;const o=((e,t)=>{if(!hy(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return uy({current:r,max:n,change:t})})(t,n);if(!o)return r(n),null;const i=Mf(n,o);r(i);return Mf(n,i)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=Bg(e.impact);r||kf();const a=o(e.dimensions.droppables[r],n);if(!a)return;const s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&((e,n)=>{const r=Nf(e.current.client.selection,n);t({client:r})})(e,l)}},my=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:o}=e;const i=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>ry}=e;const o=gf(t),i=gf(n);let a=null;const s=e=>{a||kf();const{shouldUseTimeDampening:t,dragStartTime:n}=a;fy({state:e,scrollWindow:o,scrollDroppable:i,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{Xg(),a&&kf();const t=Date.now();let n=!1;const o=()=>{n=!0};fy({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:o,scrollDroppable:o,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},Zg(),n&&s(e)},stop:()=>{a&&(o.cancel(),i.cancel(),a=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:o}),a=gy({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{o().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):i.scroll(e))},start:i.start,stop:i.stop}};const yy="data-rfd",vy=(()=>{const e=`${yy}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),by=(()=>{const e=`${yy}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),wy=(()=>{const e=`${yy}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Cy={contextId:`${yy}-scroll-container-context-id`},ky=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const Sy="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,Iy=()=>{const e=document.querySelector("head");return e||kf(),e},Ty=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Ey(e,t){const n=xf((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(vy.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),o=[(()=>{const e=`\n      transition: ${Tm.outOfTheWay};\n    `;return{selector:t(by.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(wy.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:ky(o,"always"),resting:ky(o,"resting"),dragging:ky(o,"dragging"),dropAnimating:ky(o,"dropAnimating"),userCancel:ky(o,"userCancel")}})(e)),[e]),o=(0,r.useRef)(null),i=(0,r.useRef)(null),a=Rf(Kf((e=>{const t=i.current;t||kf(),t.textContent=e})),[]),s=Rf((e=>{const t=o.current;t||kf(),t.textContent=e}),[]);Sy((()=>{(o.current||i.current)&&kf();const r=Ty(t),l=Ty(t);return o.current=r,i.current=l,r.setAttribute(`${yy}-always`,e),l.setAttribute(`${yy}-dynamic`,e),Iy().appendChild(r),Iy().appendChild(l),s(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||kf(),Iy().removeChild(t),e.current=null};e(o),e(i)}}),[t,s,a,n.always,n.resting,e]);const l=Rf((()=>a(n.dragging)),[a,n.dragging]),c=Rf((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=Rf((()=>{i.current&&a(n.resting)}),[a,n.resting]);return xf((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}function Ay(e,t){return Array.from(e.querySelectorAll(t))}var _y=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Py(e){return e instanceof _y(e).HTMLElement}function xy(e,t){const n=`[${vy.contextId}="${e}"]`,r=Ay(document,n);if(!r.length)return null;const o=r.find((e=>e.getAttribute(vy.draggableId)===t));return o&&Py(o)?o:null}function Ry(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||kf(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||kf(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Oy=r.createContext(null),Ny=()=>{const e=document.body;return e||kf(),e};const My={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const Dy={separator:"::"};function Ly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dy;const n=r.useId();return xf((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var By=r.createContext(null);function Fy(e){0}function qy(e,t){Fy()}function Hy(){qy()}function Uy(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),t}function zy(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const $y=9,jy=13,Gy=33,Ky=34,Wy=35,Vy=36,Qy={[jy]:!0,[$y]:!0};var Yy=e=>{Qy[e.keyCode]&&e.preventDefault()};const Jy=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const Xy={type:"IDLE"};function Zy(e){let{cancel:t,completed:n,getPhase:r,setPhase:o}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:i}=e;if(0!==t)return;const a={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&kf();const l=s.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Yy(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&kf(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Jy,fn:t}]}function ev(){}const tv={[Ky]:!0,[Gy]:!0,[Vy]:!0,[Wy]:!0};function nv(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(tv[r.keyCode]?r.preventDefault():Yy(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Jy,fn:n}]}const rv={type:"IDLE"};const ov=["input","button","textarea","select","option","optgroup","video","audio"];function iv(e,t){if(null==t)return!1;if(ov.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&iv(e,t.parentElement)}function av(e,t){const n=t.target;return!!Py(n)&&iv(e,n)}var sv=e=>of(e.getBoundingClientRect()).center;const lv=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function cv(e,t){return null==e?null:e[lv](t)?e:cv(e.parentElement,t)}function uv(e,t){return e.closest?e.closest(t):cv(e,t)}function dv(e,t){const n=t.target;if(!((r=n)instanceof _y(r).Element))return null;var r;const o=function(e){return`[${vy.contextId}="${e}"]`}(e),i=uv(n,o);return i&&Py(i)?i:null}function hv(e){e.preventDefault()}function pv(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:o}=e;return!!r()&&t===n}function fv(e){let{lockAPI:t,store:n,registry:r,draggableId:o}=e;if(t.isClaimed())return!1;const i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!Zm(n.getState(),o))}function gv(e){let{lockAPI:t,contextId:n,store:r,registry:o,draggableId:i,forceSensorStop:a,sourceEvent:s}=e;if(!fv({lockAPI:t,store:r,registry:o,draggableId:i}))return null;const l=o.draggable.getById(i),c=function(e,t){const n=`[${by.contextId}="${e}"]`,r=Ay(document,n).find((e=>e.getAttribute(by.id)===t));return r&&Py(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&av(c,s))return null;const u=t.claim(a||vf);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function p(){return t.isActive(u)}const f=function(e,t){pv({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function o(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),o.shouldBlockNextClick){const e=bf(window,[{eventName:"click",fn:hv,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(vm({reason:t}))}return"PRE_DRAG"!==d&&(n(),kf()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",{isActive:()=>pv({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>o("DROP",e),cancel:e=>o("CANCEL",e),...e.actions}}const m={isActive:()=>pv({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=gf((e=>{f((()=>hm({client:e})))}));return{...g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>f(pm),moveRight:()=>f(gm),moveDown:()=>f(fm),moveLeft:()=>f(mm)};return g({liftActionArgs:{id:i,clientSelection:sv(c),movementMode:"SNAP"},cleanup:vf,actions:e})},abort:function(){pv({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&t.release()}};return m}const mv=[function(e){const t=(0,r.useRef)(Xy),n=(0,r.useRef)(vf),o=xf((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,s,{sourceEvent:t});if(!o)return;t.preventDefault();const i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}})),[e]),i=xf((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=Rf((function(){n.current=bf(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=Rf((()=>{"IDLE"!==t.current.type&&(t.current=Xy,n.current(),a())}),[a]),l=Rf((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=Rf((function(){const e=Zy({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=bf(window,e,{capture:!0,passive:!1})}),[l,s]),u=Rf((function(e,n){"IDLE"!==t.current.type&&kf(),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Sy((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,r.useRef)(ev),n=xf((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const r=e.findClosestDraggableId(n);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:n});if(!i)return;n.preventDefault();let a=!0;const s=i.snapLift();function l(){a||kf(),a=!1,t.current(),o()}t.current(),t.current=bf(window,nv(s,l),{capture:!0,passive:!1})}})),[e]),o=Rf((function(){t.current=bf(window,[n],{passive:!1,capture:!0})}),[n]);Sy((function(){return o(),function(){t.current()}}),[o])},function(e){const t=(0,r.useRef)(rv),n=(0,r.useRef)(vf),o=Rf((function(){return t.current}),[]),i=Rf((function(e){t.current=e}),[]),a=xf((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:t});if(!o)return;const i=t.touches[0],{clientX:a,clientY:s}=i,c={x:a,y:s};n.current(),h(o,c)}})),[e]),s=Rf((function(){n.current=bf(window,[a],{capture:!0,passive:!1})}),[a]),l=Rf((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(rv),n.current(),s())}),[s,i]),c=Rf((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=Rf((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},r=bf(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:o,clientY:i}=e.touches[0],a={x:o,y:i};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&kf();const o=e.touches[0];if(!o)return;if(!(o.force>=.15))return;const i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}},{eventName:Jy,fn:t}]}(t),e),i=bf(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Jy,fn:t}]}(t),e);n.current=function(){r(),i()}}),[c,o,l]),d=Rf((function(){const e=o();"PENDING"!==e.type&&kf();const t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),h=Rf((function(e,t){"IDLE"!==o().type&&kf();const n=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,o,i,d]);Sy((function(){return s(),function(){n.current();const e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(rv))}}),[o,s,i]),Sy((function(){return bf(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function yv(e){let{contextId:t,store:n,registry:o,customSensors:i,enableDefaultSensors:a}=e;const s=[...a?mv:[],...i||[]],l=(0,r.useState)((()=>function(){let e=null;function t(){e||kf(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&kf();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=Rf((function(e,t){zy(e)&&!zy(t)&&l.tryAbandon()}),[l]);Sy((function(){let e=n.getState();return n.subscribe((()=>{const t=n.getState();c(e,t),e=t}))}),[l,n,c]),Sy((()=>l.tryAbandon),[l.tryAbandon]);const u=Rf((e=>fv({lockAPI:l,registry:o,store:n,draggableId:e})),[l,o,n]),d=Rf(((e,r,i)=>gv({lockAPI:l,registry:o,contextId:t,store:n,draggableId:e,forceSensorStop:r||null,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})),[t,l,o,n]),h=Rf((e=>function(e,t){const n=dv(e,t);return n?n.getAttribute(vy.draggableId):null}(t,e)),[t]),p=Rf((e=>{const t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),f=Rf((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=Rf((()=>l.isClaimed()),[l]),m=xf((()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:g})),[u,d,h,p,f,g]);Fy();for(let r=0;r<s.length;r++)s[r](m)}function vv(e){return e.current||kf(),e.current}function bv(e){const{contextId:t,setCallbacks:n,sensors:o,nonce:i,dragHandleUsageInstructions:a}=e,s=(0,r.useRef)(null);Hy();const l=Uy(e),c=Rf((()=>(e=>({onBeforeCapture:t=>{(0,Yh.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current)),[l]),u=Rf((()=>(e=>({...ry,...e.autoScrollerOptions,durationDampening:{...ry.durationDampening,...e.autoScrollerOptions}}))(l.current)),[l]),d=function(e){const t=xf((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),mf(e.style,My),Ny().appendChild(e),function(){setTimeout((function(){const t=Ny();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),Rf((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),h=function(e){let{contextId:t,text:n}=e;const o=Ly("hidden-text",{separator:"-"}),i=xf((()=>function(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}({contextId:t,uniqueId:o})),[o,t]);return(0,r.useEffect)((function(){const e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Ny().appendChild(e),function(){const t=Ny();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:a}),p=Ey(t,i),f=Rf((e=>{vv(s).dispatch(e)}),[]),g=xf((()=>op({publishWhileDragging:sm,updateDroppableScroll:cm,updateDroppableIsEnabled:um,updateDroppableIsCombineEnabled:dm,collectionStarting:lm},f)),[f]),m=function(){const e=xf(Ry,[]);return(0,r.useEffect)((()=>function(){e.clean()}),[e]),e}(),y=xf((()=>Xm(m,g)),[m,g]),v=xf((()=>my({scrollWindow:ey,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:u,...op({move:hm},f)})),[y.scrollDroppable,f,u]),b=function(e){const t=(0,r.useRef)({}),n=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=Rf((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),s=Rf((function(t){const n=xy(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=Rf((function(e,t){n.current===e&&(n.current=t)}),[]),c=Rf((function(){o.current||i.current&&(o.current=requestAnimationFrame((()=>{o.current=null;const e=n.current;e&&s(e)})))}),[s]),u=Rf((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(vy.draggableId)===e&&(n.current=e)}),[]);return Sy((()=>(i.current=!0,function(){i.current=!1;const e=o.current;e&&cancelAnimationFrame(e)})),[]),xf((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),w=xf((()=>Km({announce:d,autoScroller:v,dimensionMarshal:y,focusMarshal:b,getResponders:c,styleMarshal:p})),[d,v,y,b,c,p]);s.current=w;const C=Rf((()=>{const e=vv(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),k=Rf((()=>{const e=vv(s).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(xf((()=>({isDragging:k,tryAbort:C})),[k,C]));const S=Rf((e=>Zm(vv(s).getState(),e)),[]),I=Rf((()=>qg(vv(s).getState())),[]),T=xf((()=>({marshal:y,focus:b,contextId:t,canLift:S,isMovementAllowed:I,dragHandleUsageInstructionsId:h,registry:m})),[t,y,h,b,S,I,m]);return yv({contextId:t,store:w,registry:m,customSensors:o||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((()=>C),[C]),r.createElement(By.Provider,{value:T},r.createElement(nf,{context:Oy,store:w},e.children))}function wv(e){const t=r.useId(),n=e.dragHandleUsageInstructions||_f.dragHandleUsageInstructions;return r.createElement(Sf,null,(o=>r.createElement(bv,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const Cv=5e3,kv=4500,Sv=(e,t)=>t?Tm.drop(t.duration):e?Tm.snap:Tm.fluid,Iv=(e,t)=>{if(e)return t?Cm.drop:Cm.combining};function Tv(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:o}=e,i=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(o),l=s?_m(n,i):Am(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Sv(a,o),transform:l,opacity:Iv(i,s),zIndex:s?kv:Cv,pointerEvents:"none"}}(e):{transform:Am((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function Ev(e){const t=Ly("draggable"),{descriptor:n,registry:o,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=xf((()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l})),[a,l,s]),u=Rf((e=>{const t=i();return t||kf(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Of;const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=pf(o,r),a=hf(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),d=xf((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),h=(0,r.useRef)(d),p=(0,r.useRef)(!0);Sy((()=>(o.draggable.register(h.current),()=>o.draggable.unregister(h.current))),[o.draggable]),Sy((()=>{if(p.current)return void(p.current=!1);const e=h.current;h.current=d,o.draggable.update(d,e)}),[d,o.draggable])}var Av=r.createContext(null);function _v(e){const t=(0,r.useContext)(e);return t||kf(),t}function Pv(e){e.preventDefault()}var xv=(e,t)=>e===t,Rv=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function Ov(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const Nv={mapped:{type:"SECONDARY",offset:Of,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ov(null)}};const Mv=tf((()=>{const e=function(){const e=Kf(((e,t)=>({x:e,y:t}))),t=Kf((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Kf((function(e,n,r,o){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,o,i,a,null)}}}));return(r,o)=>{if(zy(r)){if(r.critical.draggable.id!==o.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=Bg(r.impact),l=(i=r.impact).at&&"COMBINE"===i.at.type?i.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,o.isClone,s,l,c)}var i;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==o.draggableId)return null;const n=o.isClone,i=r.dimensions.draggables[o.draggableId],a=e.result,s=a.mode,l=Rv(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:wm,moveTo:r.newHomeClientOffset,opacity:c?Cm.drop:null,scale:c?km.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:i,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=Kf(((e,t)=>({x:e,y:t}))),t=Kf(Ov),n=Kf((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(Of,e,!0):null,o=(t,o,i,a)=>{const s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Zf(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;const o=Lf(a.displacedBy.point),s=e(o.x,o.y);return n(s,u,!0)}if(l)return r(u);const d=i.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(zy(e))return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||Nv}),{dropAnimationFinished:bm},null,{context:Oy,areStatePropsEqual:xv})((e=>{const t=(0,r.useRef)(null),n=Rf((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e}),[]),o=Rf((()=>t.current),[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=_v(By),{type:l,droppableId:c}=_v(Av),u=xf((()=>({id:e.draggableId,index:e.index,type:l,droppableId:c})),[e.draggableId,e.index,l,c]),{children:d,draggableId:h,isEnabled:p,shouldRespectForcePress:f,canDragInteractiveElements:g,isClone:m,mapped:y,dropAnimationFinished:v}=e;if(qy(),Fy(),!m){Ev(xf((()=>({descriptor:u,registry:s,getDraggableRef:o,canDragInteractiveElements:g,shouldRespectForcePress:f,isEnabled:p})),[u,s,o,g,f,p]))}const b=xf((()=>p?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Pv}:null),[i,a,h,p]),w=Rf((e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&(0,Yh.flushSync)(v)}),[v,y]),C=xf((()=>{const e=Tv(y),t="DRAGGING"===y.type&&y.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:b}}),[i,b,h,y,w,n]),k=xf((()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),[u.droppableId,u.id,u.index,u.type]);return r.createElement(r.Fragment,null,d(C,y.snapshot,k))}));function Dv(e){return _v(Av).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(Mv,e):null}function Lv(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),o=Boolean(e.shouldRespectForcePress);return r.createElement(Dv,mf({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:o}))}const Bv=e=>t=>e===t,Fv=Bv("scroll"),qv=Bv("auto"),Hv=(Bv("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),Uv=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Hv(n,Fv)||Hv(n,qv)},zv=e=>null==e||e===document.body||e===document.documentElement?null:Uv(e)?e:zv(e.parentElement);var $v=e=>({x:e.scrollLeft,y:e.scrollTop});const jv=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||jv(e.parentElement)};var Gv=e=>{let{ref:t,descriptor:n,env:r,windowScroll:o,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=ff(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=af({top:r,right:a,bottom:i,left:o},n.border);return cf({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=hf(u,o),h=(()=>{if(!c)return null;const e=ff(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:hf(e,o),scroll:$v(c),scrollSize:t,shouldClipSubject:l}})(),p=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:o,direction:i,client:a,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=Wm({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Of,displacement:Of}}}})(),u="vertical"===i?lg:cg;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:jf({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:h});return p};const Kv={passive:!1},Wv={passive:!0};var Vv=e=>e.shouldPublishImmediately?Kv:Wv;const Qv=e=>e&&e.env.closestScrollable||null;function Yv(e){const t=(0,r.useRef)(null),n=_v(By),o=Ly("droppable"),{registry:i,marshal:a}=n,s=Uy(e),l=xf((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=xf((()=>Kf(((e,n)=>{t.current||kf();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=Rf((()=>{const e=t.current;return e&&e.env.closestScrollable?$v(e.env.closestScrollable):Of}),[]),h=Rf((()=>{const e=d();u(e.x,e.y)}),[d,u]),p=xf((()=>gf(h)),[h]),f=Rf((()=>{const e=t.current,n=Qv(e);e&&n||kf();e.scrollOptions.shouldPublishImmediately?h():p()}),[p,h]),g=Rf(((e,r)=>{t.current&&kf();const o=s.current,i=o.getDroppableRef();i||kf();const a=(e=>({closestScrollable:zv(e),isFixedOnPage:jv(e)}))(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=Gv({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Cy.contextId,n.contextId),d.addEventListener("scroll",f,Vv(c.scrollOptions))),u}),[n.contextId,l,f,s]),m=Rf((()=>{const e=t.current,n=Qv(e);return e&&n||kf(),$v(n)}),[]),y=Rf((()=>{const e=t.current;e||kf();const n=Qv(e);t.current=null,n&&(p.cancel(),n.removeAttribute(Cy.contextId),n.removeEventListener("scroll",f,Vv(e.scrollOptions)))}),[f,p]),v=Rf((e=>{const n=t.current;n||kf();const r=Qv(n);r||kf(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=xf((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:y,scroll:v})),[y,g,m,v]),w=xf((()=>({uniqueId:o,descriptor:l,callbacks:b})),[b,l,o]);Sy((()=>(c.current=w.descriptor,i.droppable.register(w),()=>{t.current&&y(),i.droppable.unregister(w)})),[b,l,y,w,a,i.droppable]),Sy((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Sy((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function Jv(){}const Xv={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Zv=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const o=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?Xv:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Tm.placeholder:null}};var eb=r.memo((e=>{const t=(0,r.useRef)(null),n=Rf((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:o,onTransitionEnd:i,onClose:a,contextId:s}=e,[l,c]=(0,r.useState)("open"===e.animate);(0,r.useEffect)((()=>l?"open"!==o?(n(),c(!1),Jv):t.current?Jv:(t.current=setTimeout((()=>{t.current=null,c(!1)})),n):Jv),[o,l,n]);const u=Rf((e=>{"height"===e.propertyName&&(i(),"close"===o&&a())}),[o,a,i]),d=Zv({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}));class tb extends r.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const nb={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||kf(),document.body}},rb=e=>{let t,n={...e};for(t in nb)void 0===e[t]&&(n={...n,[t]:nb[t]});return n},ob=(e,t)=>e===t.droppable.type,ib=(e,t)=>t.draggables[e.draggable.id],ab=tf((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Kf((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=Kf(((r,o,i,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!o)return t;if(!a)return e;const u={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,o)=>{const i=rb(o),a=i.droppableId,s=i.type,l=!i.isDropDisabled,c=i.renderClone;if(zy(n)){const e=n.critical;if(!ob(s,e))return t;const o=ib(e,n.dimensions),i=Bg(n.impact)===a;return r(a,l,i,i,o,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!ob(s,e.critical))return t;const o=ib(e.critical,n.dimensions);return r(a,l,Rv(e.result)===a,Bg(e.impact)===a,o,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!ob(s,r.critical))return t;const o=Bg(r.impact)===a,i=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return o?i?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...rb(n),...e,...t})),{context:Oy,areStatePropsEqual:xv})((e=>{const t=(0,r.useContext)(By);t||kf();const{contextId:n,isMovementAllowed:o}=t,i=(0,r.useRef)(null),a=(0,r.useRef)(null),{children:s,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:f,snapshot:g,useClone:m,updateViewportMaxScroll:y,getContainerForClone:v}=e,b=Rf((()=>i.current),[]),w=Rf((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i.current=e}),[]),C=(Rf((()=>a.current),[]),Rf((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]));qy();const k=Rf((()=>{o()&&y({maxScroll:Qm()})}),[o,y]);Yv({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:h,getDroppableRef:b});const S=xf((()=>r.createElement(tb,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:t,data:o,animate:i}=e;return r.createElement(eb,{placeholder:o,onClose:t,innerRef:C,animate:i,contextId:n,onTransitionEnd:k})}))),[n,k,e.placeholder,e.shouldAnimatePlaceholder,C]),I=xf((()=>({innerRef:w,placeholder:S,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}})),[n,l,S,w]),T=m?m.dragging.draggableId:null,E=xf((()=>({droppableId:l,type:c,isUsingCloneFor:T})),[l,T,c]);return r.createElement(Av.Provider,{value:E},s(I,g),function(){if(!m)return null;const{dragging:e,render:t}=m,n=r.createElement(Dv,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return Yh.createPortal(n,v())}())})),sb=()=>{const{user:e,logout:t}=Wh(),n=te(),[o,i]=(0,r.useState)([]),[a,s]=(0,r.useState)({description:"",priority:"Medium"}),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch("https://nimbustodo.azurewebsites.net/api/get_tasks"),t=await e.json();i(t.map((e=>({...e,status:e.completed?"Done":"To Do"}))))}catch(e){console.error("Failed to fetch tasks:",e)}})()}),[]);const h=async e=>{if(e.preventDefault(),d(!0),c(null),!a.description.trim())return c("Task description cannot be empty"),void d(!1);try{const e={description:a.description,priority:a.priority},t=await(async e=>{console.log("\ud83d\udef0\ufe0f Sending task to Azure (add):",e);const t=await fetch("https://nimbustodo.azurewebsites.net/api/add_task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return console.log("\u2705 Azure responded to add_task:",n),n})(e);i([...o,{...t,status:"To Do"}]),s({description:"",priority:"Medium"})}catch(t){console.error("Failed to add task:",t),c(t.message||"Failed to add task")}finally{d(!1)}},p=async e=>{try{await(async e=>{console.log("\ud83d\uddd1\ufe0f Sending delete request for task:",e);const t=await fetch(`https://nimbustodo.azurewebsites.net/api/delete_task/${e}`,{method:"DELETE"}),n=await t.text();return console.log("\u2705 Azure responded to delete_task:",n),n})(e),i(o.filter((t=>t.id!==e)))}catch(t){console.error("Failed to delete task:",t),c(t.message||"Failed to delete task")}},f=async(e,t)=>{try{const n="Done"===t;await(async(e,t)=>{console.log("\u270f\ufe0f Sending update for task:",e,"with data:",t);const n=await fetch(`https://nimbustodo.azurewebsites.net/api/edit_task/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();return console.log("\u2705 Azure responded to edit_task:",r),r})(e,{completed:n});i(o.map((r=>r.id===e?{...r,status:t,completed:n}:r)))}catch(n){console.error("Failed to update task status:",n),c(n.message||"Failed to update task")}};return(0,ut.jsxs)("div",{className:"dashboard",children:[(0,ut.jsxs)("header",{children:[(0,ut.jsxs)("h1",{children:["Welcome, ",(null===e||void 0===e?void 0:e.name)||"User"]}),(0,ut.jsx)("button",{onClick:async()=>{await t(),n("/login")},children:"Logout"})]}),(0,ut.jsxs)("form",{className:"task-form",onSubmit:h,children:[l&&(0,ut.jsx)("div",{className:"error-message",children:l}),(0,ut.jsx)("input",{type:"text",placeholder:"Task description",value:a.description,onChange:e=>s({...a,description:e.target.value}),onKeyDown:e=>"Enter"===e.key&&h(e)}),(0,ut.jsxs)("select",{value:a.priority,onChange:e=>s({...a,priority:e.target.value}),children:[(0,ut.jsx)("option",{value:"Low",children:"Low"}),(0,ut.jsx)("option",{value:"Medium",children:"Medium"}),(0,ut.jsx)("option",{value:"High",children:"High"})]}),(0,ut.jsx)("button",{type:"submit",disabled:u,children:u?"Adding...":"Add Task"})]}),(0,ut.jsx)(wv,{onDragEnd:e=>{const{source:t,destination:n,draggableId:r}=e;n&&t.droppableId!==n.droppableId&&f(r,n.droppableId)},children:(0,ut.jsx)("div",{className:"task-columns",children:["To Do","In Progress","Done"].map((e=>(0,ut.jsx)(ab,{droppableId:e,children:t=>(0,ut.jsxs)("div",{className:"task-column",...t.droppableProps,ref:t.innerRef,children:[(0,ut.jsx)("h2",{children:e}),o.filter((t=>t.status===e)).map(((e,t)=>(0,ut.jsx)(Lv,{draggableId:e.id,index:t,children:t=>(0,ut.jsxs)("div",{className:"task-card",ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:[(0,ut.jsx)("p",{children:(0,ut.jsx)("strong",{children:e.description})}),(0,ut.jsxs)("p",{children:["Priority: ",e.priority]}),(0,ut.jsx)("div",{className:"task-actions",children:(0,ut.jsx)("button",{onClick:()=>p(e.id),children:"Delete"})})]})},e.id))),t.placeholder]})},e)))})})]})},lb=e=>{let{children:t}=e;const{user:n,loading:r}=Wh();return r?(0,ut.jsx)("div",{children:"Loading..."}):n?t:(0,ut.jsx)(me,{to:"/login"})};const cb=function(){return(0,ut.jsx)(Kh,{children:(0,ut.jsx)(et,{children:(0,ut.jsxs)(be,{children:[(0,ut.jsx)(ye,{path:"/",element:(0,ut.jsx)(dt,{})}),(0,ut.jsx)(ye,{path:"/login",element:(0,ut.jsx)(Vh,{})}),(0,ut.jsx)(ye,{path:"/signup",element:(0,ut.jsx)(Qh,{})}),(0,ut.jsx)(ye,{path:"/dashboard",element:(0,ut.jsx)(lb,{children:(0,ut.jsx)(sb,{})})})]})})})},ub=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,ut.jsx)(r.StrictMode,{children:(0,ut.jsx)(cb,{})})),ub()})();
//# sourceMappingURL=main.24acc48f.js.map