{"ast":null,"code":"const API_BASE = \"https://nimbustodo.azurewebsites.net/api\";\n\n// ‚úÖ Create a new task\nexport const createNewTask = async (userId, task) => {\n  console.log(\"üß© Adding task for user:\", userId, \"with data:\", task);\n  try {\n    const payload = {\n      description: task.title,\n      priority: task.priority\n    };\n    const res = await fetch(`${API_BASE}/add_task`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await res.json();\n    console.log(\"‚úÖ Added task:\", data);\n    return await fetchUserTasks(userId);\n  } catch (error) {\n    console.error(\"‚ùå Error adding task:\", error);\n    return [];\n  }\n};\n\n// ‚úÖ Delete a task by ID\nexport const deleteTask = async taskId => {\n  console.log(\"üóëÔ∏è Sending delete request for task:\", taskId);\n  const res = await fetch(`${API_BASE}/delete_task/${taskId}`, {\n    method: \"DELETE\"\n  });\n  const result = await res.text();\n  console.log(\"‚úÖ Azure responded to delete_task:\", result);\n  return result;\n};\n\n// ‚úÖ Edit a task by ID\nexport const editTask = async (taskId, updates) => {\n  console.log(\"‚úèÔ∏è Sending update for task:\", taskId, \"with data:\", updates);\n  const res = await fetch(`${API_BASE}/edit_task/${taskId}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(updates)\n  });\n  const result = await res.json();\n  console.log(\"‚úÖ Azure responded to edit_task:\", result);\n  return result;\n};\n\n// ‚úÖ Fetch all tasks (flat list)\nexport const fetchUserTasks = async userId => {\n  console.log(\"üì° Fetching all tasks for user:\", userId);\n  try {\n    const res = await fetch(`${API_BASE}/get_tasks`);\n    const data = await res.json();\n    console.log(\"üì¶ Raw tasks from backend:\", data);\n    return data;\n  } catch (error) {\n    console.error(\"‚ùå Error fetching tasks:\", error);\n    return [];\n  }\n};","map":{"version":3,"names":["API_BASE","createNewTask","userId","task","console","log","payload","description","title","priority","res","fetch","method","headers","body","JSON","stringify","data","json","fetchUserTasks","error","deleteTask","taskId","result","text","editTask","updates"],"sources":["/Users/marieezoua/Documents/School Files/GSU/Spring 2025/CSC 4311 - Cloud Computing/Project/Nimbus-Todo/src/api/azureFunctions.js"],"sourcesContent":["const API_BASE = \"https://nimbustodo.azurewebsites.net/api\";\n\n// ‚úÖ Create a new task\nexport const createNewTask = async (userId, task) => {\n  console.log(\"üß© Adding task for user:\", userId, \"with data:\", task);\n\n  try {\n    const payload = {\n      description: task.title,\n      priority: task.priority,\n    };\n\n    const res = await fetch(`${API_BASE}/add_task`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n\n    const data = await res.json();\n    console.log(\"‚úÖ Added task:\", data);\n    return await fetchUserTasks(userId);\n  } catch (error) {\n    console.error(\"‚ùå Error adding task:\", error);\n    return [];\n  }\n};\n\n// ‚úÖ Delete a task by ID\nexport const deleteTask = async (taskId) => {\n  console.log(\"üóëÔ∏è Sending delete request for task:\", taskId);\n\n  const res = await fetch(`${API_BASE}/delete_task/${taskId}`, {\n    method: \"DELETE\",\n  });\n\n  const result = await res.text();\n  console.log(\"‚úÖ Azure responded to delete_task:\", result);\n  return result;\n};\n\n// ‚úÖ Edit a task by ID\nexport const editTask = async (taskId, updates) => {\n  console.log(\"‚úèÔ∏è Sending update for task:\", taskId, \"with data:\", updates);\n\n  const res = await fetch(`${API_BASE}/edit_task/${taskId}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(updates),\n  });\n\n  const result = await res.json();\n  console.log(\"‚úÖ Azure responded to edit_task:\", result);\n  return result;\n};\n\n// ‚úÖ Fetch all tasks (flat list)\nexport const fetchUserTasks = async (userId) => {\n  console.log(\"üì° Fetching all tasks for user:\", userId);\n\n  try {\n    const res = await fetch(`${API_BASE}/get_tasks`);\n    const data = await res.json();\n    console.log(\"üì¶ Raw tasks from backend:\", data);\n    return data;\n  } catch (error) {\n    console.error(\"‚ùå Error fetching tasks:\", error);\n    return [];\n  }\n};\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,0CAA0C;;AAE3D;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,MAAM,EAAEC,IAAI,KAAK;EACnDC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEH,MAAM,EAAE,YAAY,EAAEC,IAAI,CAAC;EAEnE,IAAI;IACF,MAAMG,OAAO,GAAG;MACdC,WAAW,EAAEJ,IAAI,CAACK,KAAK;MACvBC,QAAQ,EAAEN,IAAI,CAACM;IACjB,CAAC;IAED,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,QAAQ,WAAW,EAAE;MAC9CY,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO;IAC9B,CAAC,CAAC;IAEF,MAAMW,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;IAC7Bd,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEY,IAAI,CAAC;IAClC,OAAO,MAAME,cAAc,CAACjB,MAAM,CAAC;EACrC,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACdhB,OAAO,CAACgB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOC,MAAM,IAAK;EAC1ClB,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAEiB,MAAM,CAAC;EAE3D,MAAMZ,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,QAAQ,gBAAgBsB,MAAM,EAAE,EAAE;IAC3DV,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,MAAMW,MAAM,GAAG,MAAMb,GAAG,CAACc,IAAI,CAAC,CAAC;EAC/BpB,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEkB,MAAM,CAAC;EACxD,OAAOA,MAAM;AACf,CAAC;;AAED;AACA,OAAO,MAAME,QAAQ,GAAG,MAAAA,CAAOH,MAAM,EAAEI,OAAO,KAAK;EACjDtB,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEiB,MAAM,EAAE,YAAY,EAAEI,OAAO,CAAC;EAEzE,MAAMhB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,QAAQ,cAAcsB,MAAM,EAAE,EAAE;IACzDV,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACU,OAAO;EAC9B,CAAC,CAAC;EAEF,MAAMH,MAAM,GAAG,MAAMb,GAAG,CAACQ,IAAI,CAAC,CAAC;EAC/Bd,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEkB,MAAM,CAAC;EACtD,OAAOA,MAAM;AACf,CAAC;;AAED;AACA,OAAO,MAAMJ,cAAc,GAAG,MAAOjB,MAAM,IAAK;EAC9CE,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEH,MAAM,CAAC;EAEtD,IAAI;IACF,MAAMQ,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,QAAQ,YAAY,CAAC;IAChD,MAAMiB,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;IAC7Bd,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEY,IAAI,CAAC;IAC/C,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdhB,OAAO,CAACgB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAO,EAAE;EACX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}